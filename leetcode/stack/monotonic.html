<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta property="og:url" content="https://newzone.top/MyNotes/leetcode/stack/monotonic.html"><meta property="og:site_name" content="nocetfy"><meta property="og:title" content="å•è°ƒé˜Ÿåˆ—ä¸å•è°ƒæ ˆ"><meta property="og:description" content="å•è°ƒé˜Ÿåˆ—ä¸å•è°ƒæ ˆ [TOC] å•è°ƒæ ˆ â€‹	å¦‚æœé—®é¢˜è¦æ±‚ä¸Šä¸€ä¸ªæœ€å¤§(å°)çš„å…ƒç´ ï¼Œä¸‹ä¸€ä¸ªæœ€å¤§(å°)çš„å…ƒç´ ï¼Œå°±å¯ä»¥ä½¿ç”¨å•è°ƒæ ˆè§£å†³ã€‚ â€‹ æ ¸å¿ƒåŸåˆ™ï¼šå³ä½¿å»æ‰æ— ç”¨å…ƒç´ ï¼Œä¿è¯æ ˆä¸­å…ƒç´ æœ‰åºã€‚ å•è°ƒé€’å¢æ ˆï¼Œåˆ©ç”¨æ³¢è°·å‰”é™¤æ ˆä¸­çš„æ³¢å³°ï¼Œç•™ä¸‹æ³¢è°·ï¼› å•è°ƒé€’å‡æ ˆï¼Œåˆ©ç”¨æ³¢å³°å‰”é™¤æ ˆä¸­çš„æ³¢è°·ï¼Œç•™ä¸‹æ³¢å³°ã€‚"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"å•è°ƒé˜Ÿåˆ—ä¸å•è°ƒæ ˆ","image":[""],"dateModified":null,"author":[]}</script><title>å•è°ƒé˜Ÿåˆ—ä¸å•è°ƒæ ˆ | nocetfy</title><meta name="description" content="å•è°ƒé˜Ÿåˆ—ä¸å•è°ƒæ ˆ [TOC] å•è°ƒæ ˆ â€‹	å¦‚æœé—®é¢˜è¦æ±‚ä¸Šä¸€ä¸ªæœ€å¤§(å°)çš„å…ƒç´ ï¼Œä¸‹ä¸€ä¸ªæœ€å¤§(å°)çš„å…ƒç´ ï¼Œå°±å¯ä»¥ä½¿ç”¨å•è°ƒæ ˆè§£å†³ã€‚ â€‹ æ ¸å¿ƒåŸåˆ™ï¼šå³ä½¿å»æ‰æ— ç”¨å…ƒç´ ï¼Œä¿è¯æ ˆä¸­å…ƒç´ æœ‰åºã€‚ å•è°ƒé€’å¢æ ˆï¼Œåˆ©ç”¨æ³¢è°·å‰”é™¤æ ˆä¸­çš„æ³¢å³°ï¼Œç•™ä¸‹æ³¢è°·ï¼› å•è°ƒé€’å‡æ ˆï¼Œåˆ©ç”¨æ³¢å³°å‰”é™¤æ ˆä¸­çš„æ³¢è°·ï¼Œç•™ä¸‹æ³¢å³°ã€‚">
    <meta name="keywords" content="è‡ªæˆ‘æå‡,æ•ˆç‡æå‡,å¼€æºå·¥å…·,å­¦ä¹ ç¬”è®°" />
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #252232;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/MyNotes/assets/style-fdc52a0b.css" as="style"><link rel="stylesheet" href="/MyNotes/assets/style-fdc52a0b.css">
    <link rel="modulepreload" href="/MyNotes/assets/app-59c87434.js"><link rel="modulepreload" href="/MyNotes/assets/framework-1ee2252c.js"><link rel="modulepreload" href="/MyNotes/assets/monotonic.html-a5c12872.js"><link rel="modulepreload" href="/MyNotes/assets/monotonic.html-72ed599a.js">

    <!-- çœ‹æ¿å¨˜åŒºå— -->
    <link href="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-y/font-awesome/6.0.0/css/all.min.css" type="text/css" rel="stylesheet" />
    <script src="/live2d-widget/autoload.js"></script>
    <!-- End çœ‹æ¿å¨˜åŒºå— -->

    <!-- Matomo æ­¤åŒºå—ä¸ºç»Ÿè®¡ä»£ç ï¼Œè¯·åˆ é™¤-->
    <script>
      var _paq = window._paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="https://piwik.seoipo.com/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '7']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Code æ­¤åŒºå—ä¸ºç»Ÿè®¡ä»£ç ï¼Œè¯·åˆ é™¤-->

  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/MyNotes/" class="brand"><img class="logo" src="/MyNotes/logo.svg" alt="nocetfy"><!----><span class="site-name hide-in-pad">nocetfy</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/MyNotes/blog" class="nav-link" aria-label="åšå®¢"><span class="font-icon icon iconfont icon-blog" style=""></span>åšå®¢<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="ä»£ç "><span class="title"><span class="font-icon icon iconfont icon-code" style=""></span>ä»£ç </span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/MyNotes/code/Markdown" class="nav-link" aria-label="/code/Markdown"><!---->/code/Markdown<!----></a></li><li class="dropdown-item"><a href="/MyNotes/code/AutoHotkey" class="nav-link" aria-label="/code/AutoHotkey"><!---->/code/AutoHotkey<!----></a></li><li class="dropdown-item"><a href="/MyNotes/code/Electron" class="nav-link" aria-label="/code/Electron"><!---->/code/Electron<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>é¡µé¢å¼€å‘</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/MyNotes/web/VuePress" class="nav-link" aria-label="/web/VuePress"><!---->/web/VuePress<!----></a></li><li class="dropdown-subitem"><a href="/MyNotes/web/docsify" class="nav-link" aria-label="/web/docsify"><!---->/web/docsify<!----></a></li><li class="dropdown-subitem"><a href="/MyNotes/deploy/VPS" class="nav-link" aria-label="/deploy/VPS"><!---->/deploy/VPS<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="åº”ç”¨"><span class="title"><span class="font-icon icon iconfont icon-app" style=""></span>åº”ç”¨</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/MyNotes/apps/Applist" class="nav-link" aria-label="/apps/Applist"><!---->/apps/Applist<!----></a></li><li class="dropdown-item"><a href="/MyNotes/apps/ChatGPT" class="nav-link" aria-label="/apps/ChatGPT"><!---->/apps/ChatGPT<!----></a></li><li class="dropdown-item"><a href="/MyNotes/apps/livestreaming/1_obs_basic" class="nav-link" aria-label="ç›´æ’­æ‰‹å†Œ"><span class="font-icon icon iconfont icon-quote" style=""></span>ç›´æ’­æ‰‹å†Œ<!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æœåŠ¡/ç³»ç»Ÿ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/MyNotes/services/NAS" class="nav-link" aria-label="/services/NAS"><!---->/services/NAS<!----></a></li><li class="dropdown-subitem"><a href="/MyNotes/windows/faq" class="nav-link" aria-label="/windows/faq"><!---->/windows/faq<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="ç”Ÿæ´»"><span class="title"><span class="font-icon icon iconfont icon-emmet" style=""></span>ç”Ÿæ´»</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/MyNotes/family/Diet" class="nav-link" aria-label="/family/Diet"><!---->/family/Diet<!----></a></li><li class="dropdown-item"><a href="/MyNotes/family/Shoppinglist" class="nav-link" aria-label="/family/Shoppinglist"><!---->/family/Shoppinglist<!----></a></li><li class="dropdown-item"><a href="/MyNotes/family/Coupon" class="nav-link" aria-label="/family/Coupon"><!---->/family/Coupon<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://nav.newzone.top/" rel="noopener noreferrer" target="_blank" aria-label="å·¥å…·æ”¶è—" class="nav-link"><span class="font-icon icon iconfont icon-tool" style=""></span>å·¥å…·æ”¶è—<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><div class="nav-item"><a class="repo-link" href="https://github.com/nocetfy" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!--[--><button class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg></button><!--]--><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">ğŸ§° ç®—æ³•ç¬”è®°</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">åŸºç¡€</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">æ•°å­¦</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">æ’åº</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">æ•°ç»„</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">é“¾è¡¨</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">æ ˆä¸é˜Ÿåˆ—</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="å•è°ƒé˜Ÿåˆ—ä¸å•è°ƒæ ˆ"><!---->å•è°ƒé˜Ÿåˆ—ä¸å•è°ƒæ ˆ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#å•è°ƒæ ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å•è°ƒæ ˆ"><!---->å•è°ƒæ ˆ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#ç»å…¸é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç»å…¸é—®é¢˜"><!---->ç»å…¸é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#å•è°ƒæ ˆæ±‚æœ€é•¿" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å•è°ƒæ ˆæ±‚æœ€é•¿"><!---->å•è°ƒæ ˆæ±‚æœ€é•¿<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#æœ‰é™åˆ¶æƒ…å†µä¸‹æ‰¾ä¸‹ä¸€ä¸ªç›¸ç­‰" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æœ‰é™åˆ¶æƒ…å†µä¸‹æ‰¾ä¸‹ä¸€ä¸ªç›¸ç­‰"><!---->æœ‰é™åˆ¶æƒ…å†µä¸‹æ‰¾ä¸‹ä¸€ä¸ªç›¸ç­‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#å­—å…¸åºæœ€å°-å¤§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å­—å…¸åºæœ€å°(å¤§)"><!---->å­—å…¸åºæœ€å°(å¤§)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#è´¡çŒ®æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è´¡çŒ®æ³•"><!---->è´¡çŒ®æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#çŸ©é˜µé—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="çŸ©é˜µé—®é¢˜"><!---->çŸ©é˜µé—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#å•è°ƒã€ŒåŒç«¯ã€é˜Ÿåˆ—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å•è°ƒã€ŒåŒç«¯ã€é˜Ÿåˆ—"><!---->å•è°ƒã€ŒåŒç«¯ã€é˜Ÿåˆ—<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#å•è°ƒé˜Ÿåˆ—çš„è§£é‡Š" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å•è°ƒé˜Ÿåˆ—çš„è§£é‡Š"><!---->å•è°ƒé˜Ÿåˆ—çš„è§£é‡Š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#deque-apiè§£é‡Š" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Deque Apiè§£é‡Š"><!---->Deque Apiè§£é‡Š<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#é¢˜ç›®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é¢˜ç›®"><!---->é¢˜ç›®<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#åŠ¨æ€è§„åˆ’-å•è°ƒé˜Ÿåˆ—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åŠ¨æ€è§„åˆ’ + å•è°ƒé˜Ÿåˆ—"><!---->åŠ¨æ€è§„åˆ’ + å•è°ƒé˜Ÿåˆ—<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/MyNotes/leetcode/stack/heap.html" class="nav-link sidebar-link sidebar-page" aria-label="å †"><!---->å †<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/MyNotes/leetcode/stack/stack.html" class="nav-link sidebar-link sidebar-page" aria-label="æ ˆä¸é˜Ÿåˆ—"><!---->æ ˆä¸é˜Ÿåˆ—<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">å­—ç¬¦ä¸²</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">å“ˆå¸Œè¡¨</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">ä½è¿ç®—</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">å›¾è®º</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">æ ‘</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">å¹¶æŸ¥é›†</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">å›æº¯</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">è´ªå¿ƒ</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">å‰ç¼€å’Œä¸å·®åˆ†</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">åŠ¨æ€è§„åˆ’</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-check" style=""></span><span class="title">æ€ç»´é¢˜</span><span class="arrow right"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">ğŸš€ é¢è¯•ç¬”è®°</span><span class="arrow right"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->å•è°ƒé˜Ÿåˆ—ä¸å•è°ƒæ ˆ</h1><div class="page-info"><!----><!----><span class="page-word-info" aria-label="å­—æ•°ğŸ” " data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>çº¦ 22860 å­—</span><meta property="wordCount" content="22860"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 76 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT76M"></span><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹<button class="print-button" title="print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#å•è°ƒæ ˆ" class="router-link-active router-link-exact-active toc-link level2">å•è°ƒæ ˆ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#ç»å…¸é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">ç»å…¸é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#å•è°ƒæ ˆæ±‚æœ€é•¿" class="router-link-active router-link-exact-active toc-link level3">å•è°ƒæ ˆæ±‚æœ€é•¿</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#æœ‰é™åˆ¶æƒ…å†µä¸‹æ‰¾ä¸‹ä¸€ä¸ªç›¸ç­‰" class="router-link-active router-link-exact-active toc-link level3">æœ‰é™åˆ¶æƒ…å†µä¸‹æ‰¾ä¸‹ä¸€ä¸ªç›¸ç­‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#å­—å…¸åºæœ€å°-å¤§" class="router-link-active router-link-exact-active toc-link level3">å­—å…¸åºæœ€å°(å¤§)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#è´¡çŒ®æ³•" class="router-link-active router-link-exact-active toc-link level3">è´¡çŒ®æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#çŸ©é˜µé—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">çŸ©é˜µé—®é¢˜</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#å•è°ƒã€ŒåŒç«¯ã€é˜Ÿåˆ—" class="router-link-active router-link-exact-active toc-link level2">å•è°ƒã€ŒåŒç«¯ã€é˜Ÿåˆ—</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#å•è°ƒé˜Ÿåˆ—çš„è§£é‡Š" class="router-link-active router-link-exact-active toc-link level3">å•è°ƒé˜Ÿåˆ—çš„è§£é‡Š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#deque-apiè§£é‡Š" class="router-link-active router-link-exact-active toc-link level3">Deque Apiè§£é‡Š</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#é¢˜ç›®" class="router-link-active router-link-exact-active toc-link level3">é¢˜ç›®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/MyNotes/leetcode/stack/monotonic.html#åŠ¨æ€è§„åˆ’-å•è°ƒé˜Ÿåˆ—" class="router-link-active router-link-exact-active toc-link level3">åŠ¨æ€è§„åˆ’ + å•è°ƒé˜Ÿåˆ—</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="å•è°ƒé˜Ÿåˆ—ä¸å•è°ƒæ ˆ" tabindex="-1"><a class="header-anchor" href="#å•è°ƒé˜Ÿåˆ—ä¸å•è°ƒæ ˆ" aria-hidden="true">#</a> å•è°ƒé˜Ÿåˆ—ä¸å•è°ƒæ ˆ</h1><p>[TOC]</p><h2 id="å•è°ƒæ ˆ" tabindex="-1"><a class="header-anchor" href="#å•è°ƒæ ˆ" aria-hidden="true">#</a> å•è°ƒæ ˆ</h2><blockquote><p>â€‹ å¦‚æœé—®é¢˜è¦æ±‚ä¸Šä¸€ä¸ªæœ€å¤§(å°)çš„å…ƒç´ ï¼Œä¸‹ä¸€ä¸ªæœ€å¤§(å°)çš„å…ƒç´ ï¼Œå°±å¯ä»¥ä½¿ç”¨å•è°ƒæ ˆè§£å†³ã€‚</p><p>â€‹ æ ¸å¿ƒåŸåˆ™ï¼š<strong>å³ä½¿å»æ‰æ— ç”¨å…ƒç´ </strong>ï¼Œ<strong>ä¿è¯æ ˆä¸­å…ƒç´ æœ‰åº</strong>ã€‚</p><ul><li>å•è°ƒé€’å¢æ ˆï¼Œåˆ©ç”¨æ³¢è°·å‰”é™¤æ ˆä¸­çš„æ³¢å³°ï¼Œç•™ä¸‹æ³¢è°·ï¼›</li><li>å•è°ƒé€’å‡æ ˆï¼Œåˆ©ç”¨æ³¢å³°å‰”é™¤æ ˆä¸­çš„æ³¢è°·ï¼Œç•™ä¸‹æ³¢å³°ã€‚</li></ul></blockquote><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/1605446584-nkKQvb-image.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="ç»å…¸é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#ç»å…¸é—®é¢˜" aria-hidden="true">#</a> ç»å…¸é—®é¢˜</h3><h4 id="_1-æ¨¡æ¿é¢˜" tabindex="-1"><a class="header-anchor" href="#_1-æ¨¡æ¿é¢˜" aria-hidden="true">#</a> 1. æ¨¡æ¿é¢˜</h4><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/9jMRopnXWsKJbNH.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>ç¤ºä¾‹ 1:</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼š <span class="token number">5</span>
<span class="token number">1</span> <span class="token number">4</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">5</span>
è¾“å‡ºï¼š <span class="token number">2</span> <span class="token number">5</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ä½¿ç”¨å•è°ƒé€’å‡æ ˆä¿å­˜ä¸‹æ ‡ï¼Œå¦‚æœé‡åˆ°æ¯”å®ƒå¤§çš„æ•°ï¼Œåˆ™å‡ºæ ˆï¼Œè®°å½•æ­¤ä¸‹æ ‡é‡åˆ°çš„ä¸‹ä¸€ä¸ªæ•°çš„ä¸‹æ ‡ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>array<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_155-æœ€å°æ ˆ" tabindex="-1"><a class="header-anchor" href="#_155-æœ€å°æ ˆ" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/min-stack/" target="_blank" rel="noopener noreferrer">155. æœ€å°æ ˆ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>è®¾è®¡ä¸€ä¸ªæ”¯æŒ <code>push</code> ï¼Œ<code>pop</code> ï¼Œ<code>top</code> æ“ä½œï¼Œå¹¶èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…æ£€ç´¢åˆ°æœ€å°å…ƒç´ çš„æ ˆã€‚</p><p>å®ç° <code>MinStack</code> ç±»:</p><ul><li><code>MinStack()</code> åˆå§‹åŒ–å †æ ˆå¯¹è±¡ã€‚</li><li><code>void push(int val)</code> å°†å…ƒç´  val æ¨å…¥å †æ ˆã€‚</li><li><code>void pop()</code> åˆ é™¤å †æ ˆé¡¶éƒ¨çš„å…ƒç´ ã€‚</li><li><code>int top()</code> è·å–å †æ ˆé¡¶éƒ¨çš„å…ƒç´ ã€‚</li><li><code>int getMin()</code> è·å–å †æ ˆä¸­çš„æœ€å°å…ƒç´ ã€‚</li></ul><p><strong>ç¤ºä¾‹ 1:</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼š
<span class="token punctuation">[</span><span class="token string">&quot;MinStack&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;push&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;getMin&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pop&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;top&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;getMin&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

è¾“å‡ºï¼š
<span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span>

è§£é‡Šï¼š
MinStack minStack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MinStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
minStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
minStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
minStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
minStack<span class="token punctuation">.</span><span class="token function">getMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token operator">--</span><span class="token operator">&gt;</span> è¿”å› <span class="token operator">-</span><span class="token number">3.</span>
minStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
minStack<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token operator">--</span><span class="token operator">&gt;</span> è¿”å› <span class="token number">0.</span>
minStack<span class="token punctuation">.</span><span class="token function">getMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token operator">--</span><span class="token operator">&gt;</span> è¿”å› <span class="token operator">-</span><span class="token number">2.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ä½¿ç”¨ä¸€ä¸ªè¾…åŠ©æ ˆä¿å­˜æ¯æ¬¡<code>push</code>æ“ä½œæ—¶çš„æœ€å°å€¼ï¼Œå½“å‡ºæ ˆæ—¶ï¼Œè¾…åŠ©æ ˆä¹Ÿè·Ÿç€å‡ºæ ˆã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">MinStack</span> <span class="token punctuation">{</span>
    <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> xStack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> minStack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        xStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        minStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>minStack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        xStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        minStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> xStack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> minStack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_739-æ¯æ—¥æ¸©åº¦" tabindex="-1"><a class="header-anchor" href="#_739-æ¯æ—¥æ¸©åº¦" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/daily-temperatures/" target="_blank" rel="noopener noreferrer">739. æ¯æ—¥æ¸©åº¦<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>temperatures</code> ï¼Œè¡¨ç¤ºæ¯å¤©çš„æ¸©åº¦ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ <code>answer</code> ï¼Œå…¶ä¸­ <code>answer[i]</code> æ˜¯æŒ‡åœ¨ç¬¬ <code>i</code>å¤©ä¹‹åï¼Œæ‰ä¼šæœ‰æ›´é«˜çš„æ¸©åº¦ã€‚å¦‚æœæ°”æ¸©åœ¨è¿™ä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨ <code>0</code> æ¥ä»£æ›¿ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">è¾“å…¥</span><span class="token operator">:</span> temperatures <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">73</span><span class="token punctuation">,</span><span class="token number">74</span><span class="token punctuation">,</span><span class="token number">75</span><span class="token punctuation">,</span><span class="token number">71</span><span class="token punctuation">,</span><span class="token number">69</span><span class="token punctuation">,</span><span class="token number">72</span><span class="token punctuation">,</span><span class="token number">76</span><span class="token punctuation">,</span><span class="token number">73</span><span class="token punctuation">]</span>
<span class="token literal-property property">è¾“å‡º</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2:</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">è¾“å…¥</span><span class="token operator">:</span> temperatures <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">]</span>
<span class="token literal-property property">è¾“å‡º</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3:</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">è¾“å…¥</span><span class="token operator">:</span> temperatures <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">]</span>
<span class="token literal-property property">è¾“å‡º</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼šä½¿ç”¨å•è°ƒé€’å‡æ ˆï¼Œå­˜å‚¨ä¸‹æ ‡ï¼Œæ³¨æ„éå†æ¯”è¾ƒæ—¶éœ€è¦ä½¿ç”¨<code>while</code>ç„¶åæ ¹æ®ä¸‹æ ‡è®¡ç®—è·ç¦»ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">dailyTemperatures</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> temperatures<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> temperatures<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// å•è°ƒé€’å‡æ ˆï¼Œå­˜ä¸‹æ ‡</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// æ¯ä¸ªæ ˆé¡¶çš„å€¼éƒ½æ¯”è¾ƒæ˜¯å¦æ‰¾åˆ°äº†æ›´å¤§çš„å€¼ï¼Œå¦‚æœæ˜¯ï¼Œå°†å–å‡ºçš„ä¸‹æ ‡è¿›è¡Œèµ‹å€¼</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> temperatures<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> temperatures<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> index <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                res<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">-</span> index<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_496-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -i" tabindex="-1"><a class="header-anchor" href="#_496-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -i" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/next-greater-element-i/" target="_blank" rel="noopener noreferrer">496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p><code>nums1</code> ä¸­æ•°å­— <code>x</code> çš„ <strong>ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ </strong> æ˜¯æŒ‡ <code>x</code> åœ¨ <code>nums2</code> ä¸­å¯¹åº”ä½ç½® <strong>å³ä¾§</strong> çš„ <strong>ç¬¬ä¸€ä¸ª</strong> æ¯” <code>x</code> å¤§çš„å…ƒç´ ã€‚</p><p>ç»™ä½ ä¸¤ä¸ª <strong>æ²¡æœ‰é‡å¤å…ƒç´ </strong> çš„æ•°ç»„ <code>nums1</code> å’Œ <code>nums2</code> ï¼Œä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹è®¡æ•°ï¼Œå…¶ä¸­ <code>nums1</code> æ˜¯ <code>nums2</code> çš„å­é›†ã€‚</p><p>å¯¹äºæ¯ä¸ª <code>0 &lt;= i &lt; nums1.length</code> ï¼Œæ‰¾å‡ºæ»¡è¶³ <code>nums1[i] == nums2[j]</code> çš„ä¸‹æ ‡ <code>j</code> ï¼Œå¹¶ä¸”åœ¨ <code>nums2</code> ç¡®å®š<code>nums2[j]</code> çš„ <strong>ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ </strong> ã€‚å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œé‚£ä¹ˆæœ¬æ¬¡æŸ¥è¯¢çš„ç­”æ¡ˆæ˜¯ <code>-1</code> ã€‚è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º <code>nums1.length</code> çš„æ•°ç»„ <code>ans</code> ä½œä¸ºç­”æ¡ˆï¼Œæ»¡è¶³ <code>ans[i]</code> æ˜¯å¦‚ä¸Šæ‰€è¿°çš„ <strong>ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ </strong> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nums2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
è§£é‡Šï¼šnums1 ä¸­æ¯ä¸ªå€¼çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ å¦‚ä¸‹æ‰€è¿°ï¼š
<span class="token operator">-</span> <span class="token number">4</span> ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>ã€‚ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ <span class="token operator">-</span><span class="token number">1</span> ã€‚
<span class="token operator">-</span> <span class="token number">1</span> ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>ã€‚ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯ <span class="token number">3</span> ã€‚
<span class="token operator">-</span> <span class="token number">2</span> ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>ã€‚ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ <span class="token operator">-</span><span class="token number">1</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nums2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
è§£é‡Šï¼šnums1 ä¸­æ¯ä¸ªå€¼çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ å¦‚ä¸‹æ‰€è¿°ï¼š
<span class="token operator">-</span> <span class="token number">2</span> ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>ã€‚ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ æ˜¯ <span class="token number">3</span> ã€‚
<span class="token operator">-</span> <span class="token number">4</span> ï¼Œç”¨åŠ ç²—æ–œä½“æ ‡è¯†ï¼Œnums2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>ã€‚ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ <span class="token operator">-</span><span class="token number">1</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ å•è°ƒæ ˆï¼Œå°†<code>nums2</code>ä¸­æ‰€æœ‰å…ƒç´ éƒ½ä¿å­˜ä¸‹ä¸€ä¸ªæœ€å¤§å…ƒç´ ï¼Œç„¶åä»å“ˆå¸Œè¡¨å–å³å¯ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">nextGreaterElement</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums1<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>nums1<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token class-name">IntStream</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> nums1<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">boxed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span>i <span class="token operator">-&gt;</span> nums1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token punctuation">.</span><span class="token function">identity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">:</span> nums2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> index <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">continue</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                res<span class="token punctuation">[</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_503-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -ii" tabindex="-1"><a class="header-anchor" href="#_503-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -ii" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/next-greater-element-ii/" target="_blank" rel="noopener noreferrer">503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™å®šä¸€ä¸ªå¾ªç¯æ•°ç»„ <code>nums</code> ï¼ˆ <code>nums[nums.length - 1]</code> çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯ <code>nums[0]</code> ï¼‰ï¼Œè¿”å› <code>nums</code> ä¸­æ¯ä¸ªå…ƒç´ çš„ <strong>ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ </strong> ã€‚</p><p>æ•°å­— <code>x</code> çš„ <strong>ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ </strong> æ˜¯æŒ‰æ•°ç»„éå†é¡ºåºï¼Œè¿™ä¸ªæ•°å­—ä¹‹åçš„ç¬¬ä¸€ä¸ªæ¯”å®ƒæ›´å¤§çš„æ•°ï¼Œè¿™æ„å‘³ç€ä½ åº”è¯¥å¾ªç¯åœ°æœç´¢å®ƒçš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¾“å‡º <code>-1</code> ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">è¾“å…¥</span><span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token literal-property property">è¾“å‡º</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token literal-property property">è§£é‡Š</span><span class="token operator">:</span> ç¬¬ä¸€ä¸ª <span class="token number">1</span> çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°æ˜¯ <span class="token number">2</span>ï¼›
æ•°å­— <span class="token number">2</span> æ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ï¼› 
ç¬¬äºŒä¸ª <span class="token number">1</span> çš„ä¸‹ä¸€ä¸ªæœ€å¤§çš„æ•°éœ€è¦å¾ªç¯æœç´¢ï¼Œç»“æœä¹Ÿæ˜¯ <span class="token number">2</span>ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2:</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">è¾“å…¥</span><span class="token operator">:</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token literal-property property">è¾“å‡º</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ éå†æ•°ç»„ä¸¤æ¬¡ï¼Œå³å¯å¾—åˆ°å¾ªç¯æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æœ€å¤§å€¼ï¼Œæ‰€ä»¥éœ€è¦æŠŠä¸‹æ ‡å–æ¨¡ç‰¹æ®Šè¿›è¡Œå¤„ç†å³å¯ã€‚ä½¿ç”¨å•è°ƒé€’å‡æ ˆä¿å­˜æ•°ç»„çš„ä¸‹æ ‡ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">nextGreaterElements</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>nums<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i <span class="token operator">%</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i <span class="token operator">%</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_2454-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -iv" tabindex="-1"><a class="header-anchor" href="#_2454-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -iv" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/next-greater-element-iv/" target="_blank" rel="noopener noreferrer">2454. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  IV<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹çš„éè´Ÿæ•´æ•°æ•°ç»„ <code>nums</code> ã€‚å¯¹äº <code>nums</code> ä¸­æ¯ä¸€ä¸ªæ•´æ•°ï¼Œä½ å¿…é¡»æ‰¾åˆ°å¯¹åº”å…ƒç´ çš„ <strong>ç¬¬äºŒå¤§</strong> æ•´æ•°ã€‚</p><p>å¦‚æœ <code>nums[j]</code> æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°å®ƒä¸º <code>nums[i]</code> çš„ <strong>ç¬¬äºŒå¤§</strong> æ•´æ•°ï¼š</p><ul><li><code>j &gt; i</code></li><li><code>nums[j] &gt; nums[i]</code></li><li>æ°å¥½å­˜åœ¨ <strong>ä¸€ä¸ª</strong> <code>k</code> æ»¡è¶³ <code>i &lt; k &lt; j</code> ä¸” <code>nums[k] &gt; nums[i]</code> ã€‚</li></ul><p>å¦‚æœä¸å­˜åœ¨ <code>nums[j]</code> ï¼Œé‚£ä¹ˆç¬¬äºŒå¤§æ•´æ•°ä¸º <code>-1</code> ã€‚</p><ul><li>æ¯”æ–¹è¯´ï¼Œæ•°ç»„ <code>[1, 2, 4, 3]</code> ä¸­ï¼Œ<code>1</code> çš„ç¬¬äºŒå¤§æ•´æ•°æ˜¯ <code>4</code> ï¼Œ<code>2</code> çš„ç¬¬äºŒå¤§æ•´æ•°æ˜¯ <code>3</code> ï¼Œ<code>3</code> å’Œ <code>4</code> çš„ç¬¬äºŒå¤§æ•´æ•°æ˜¯ <code>-1</code> ã€‚</li></ul><p>è¯·ä½ è¿”å›ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>answer</code> ï¼Œå…¶ä¸­ <code>answer[i]</code>æ˜¯ <code>nums[i]</code> çš„ç¬¬äºŒå¤§æ•´æ•°ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
è§£é‡Šï¼š
ä¸‹æ ‡ä¸º <span class="token number">0</span> å¤„ï¼š<span class="token number">2</span> çš„å³è¾¹ï¼Œ<span class="token number">4</span> æ˜¯å¤§äº <span class="token number">2</span> çš„ç¬¬ä¸€ä¸ªæ•´æ•°ï¼Œ<span class="token number">9</span> æ˜¯ç¬¬äºŒä¸ªå¤§äº <span class="token number">2</span> çš„æ•´æ•°ã€‚
ä¸‹æ ‡ä¸º <span class="token number">1</span> å¤„ï¼š<span class="token number">4</span> çš„å³è¾¹ï¼Œ<span class="token number">9</span> æ˜¯å¤§äº <span class="token number">4</span> çš„ç¬¬ä¸€ä¸ªæ•´æ•°ï¼Œ<span class="token number">6</span> æ˜¯ç¬¬äºŒä¸ªå¤§äº <span class="token number">4</span> çš„æ•´æ•°ã€‚
ä¸‹æ ‡ä¸º <span class="token number">2</span> å¤„ï¼š<span class="token number">0</span> çš„å³è¾¹ï¼Œ<span class="token number">9</span> æ˜¯å¤§äº <span class="token number">0</span> çš„ç¬¬ä¸€ä¸ªæ•´æ•°ï¼Œ<span class="token number">6</span> æ˜¯ç¬¬äºŒä¸ªå¤§äº <span class="token number">0</span> çš„æ•´æ•°ã€‚
ä¸‹æ ‡ä¸º <span class="token number">3</span> å¤„ï¼šå³è¾¹ä¸å­˜åœ¨å¤§äº <span class="token number">9</span> çš„æ•´æ•°ï¼Œæ‰€ä»¥ç¬¬äºŒå¤§æ•´æ•°ä¸º <span class="token operator">-</span><span class="token number">1</span> ã€‚
ä¸‹æ ‡ä¸º <span class="token number">4</span> å¤„ï¼šå³è¾¹ä¸å­˜åœ¨å¤§äº <span class="token number">6</span> çš„æ•´æ•°ï¼Œæ‰€ä»¥ç¬¬äºŒå¤§æ•´æ•°ä¸º <span class="token operator">-</span><span class="token number">1</span> ã€‚
æ‰€ä»¥æˆ‘ä»¬è¿”å› <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
è§£é‡Šï¼š
ç”±äºæ¯ä¸ªæ•°å³è¾¹éƒ½æ²¡æœ‰æ›´å¤§çš„æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å› <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 10^5</code></li><li><code>0 &lt;= nums[i] &lt;= 10^9</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ å°†é¦–æ¬¡é‡åˆ°æ¯”å®ƒå¤§çš„æ•°å…ˆå‡ºæ ˆï¼Œç„¶åä¿å­˜åˆ°ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­å»ï¼Œé˜Ÿåˆ—ä¸­æœ€å°çš„å…ƒç´ ä¼˜å…ˆè¿›è¡Œæ¯”è¾ƒæ˜¯å¦å†æ¬¡é‡åˆ°äº†æ¯”å®ƒå¤§çš„å…ƒç´ ï¼Œæ³¨æ„é˜Ÿåˆ—ä¿å­˜çš„æ˜¯å…ƒç´ çš„ä¸‹æ ‡ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨é€†åºã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">secondGreaterElement</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> second <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">reverseOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>second<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>second<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res<span class="token punctuation">[</span>second<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                second<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ä½¿ç”¨ä¸€ä¸ªåŒå‘é˜Ÿåˆ—æ¥è¿›è¡Œç»´æŠ¤ï¼Œå°†ç¬¬ä¸€æ¬¡é‡åˆ°æ¯”å®ƒæ›´å¤§çš„æ•°å¼¹å‡ºæ ˆï¼ŒæŒ‰å‡ºæ ˆçš„åé¡ºåº(å³æœ€å¼€å§‹å…¥æ ˆçš„é¡ºåº)åŠ å…¥åŒå‘é˜Ÿåˆ—ï¼Œç„¶ååœ¨é˜Ÿåˆ—ä¸­åˆ¤æ–­æ˜¯å¦åˆé‡åˆ°äº†æ›´å¤§çš„æ•°ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">secondGreaterElement</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> second <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> temp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>second<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>second<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res<span class="token punctuation">[</span>second<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                temp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>temp<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                second<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_735-è¡Œæ˜Ÿç¢°æ’" tabindex="-1"><a class="header-anchor" href="#_735-è¡Œæ˜Ÿç¢°æ’" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/asteroid-collision/" target="_blank" rel="noopener noreferrer">735. è¡Œæ˜Ÿç¢°æ’<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>asteroids</code>ï¼Œè¡¨ç¤ºåœ¨åŒä¸€è¡Œçš„è¡Œæ˜Ÿã€‚</p><p>å¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå…¶ç»å¯¹å€¼è¡¨ç¤ºè¡Œæ˜Ÿçš„å¤§å°ï¼Œæ­£è´Ÿè¡¨ç¤ºè¡Œæ˜Ÿçš„ç§»åŠ¨æ–¹å‘ï¼ˆæ­£è¡¨ç¤ºå‘å³ç§»åŠ¨ï¼Œè´Ÿè¡¨ç¤ºå‘å·¦ç§»åŠ¨ï¼‰ã€‚æ¯ä¸€é¢—è¡Œæ˜Ÿä»¥ç›¸åŒçš„é€Ÿåº¦ç§»åŠ¨ã€‚</p><p>æ‰¾å‡ºç¢°æ’åå‰©ä¸‹çš„æ‰€æœ‰è¡Œæ˜Ÿã€‚ç¢°æ’è§„åˆ™ï¼šä¸¤ä¸ªè¡Œæ˜Ÿç›¸äº’ç¢°æ’ï¼Œè¾ƒå°çš„è¡Œæ˜Ÿä¼šçˆ†ç‚¸ã€‚å¦‚æœä¸¤é¢—è¡Œæ˜Ÿå¤§å°ç›¸åŒï¼Œåˆ™ä¸¤é¢—è¡Œæ˜Ÿéƒ½ä¼šçˆ†ç‚¸ã€‚ä¸¤é¢—ç§»åŠ¨æ–¹å‘ç›¸åŒçš„è¡Œæ˜Ÿï¼Œæ°¸è¿œä¸ä¼šå‘ç”Ÿç¢°æ’ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šasteroids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span>
è§£é‡Šï¼š<span class="token number">10</span> å’Œ <span class="token operator">-</span><span class="token number">5</span> ç¢°æ’ååªå‰©ä¸‹ <span class="token number">10</span> ã€‚ <span class="token number">5</span> å’Œ <span class="token number">10</span> æ°¸è¿œä¸ä¼šå‘ç”Ÿç¢°æ’ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šasteroids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token punctuation">]</span>
è§£é‡Šï¼š<span class="token number">8</span> å’Œ <span class="token operator">-</span><span class="token number">8</span> ç¢°æ’åï¼Œä¸¤è€…éƒ½å‘ç”Ÿçˆ†ç‚¸ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šasteroids <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span>
è§£é‡Šï¼š<span class="token number">2</span> å’Œ <span class="token operator">-</span><span class="token number">5</span> å‘ç”Ÿç¢°æ’åå‰©ä¸‹ <span class="token operator">-</span><span class="token number">5</span> ã€‚<span class="token number">10</span> å’Œ <span class="token operator">-</span><span class="token number">5</span> å‘ç”Ÿç¢°æ’åå‰©ä¸‹ <span class="token number">10</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>2 &lt;= asteroids.length &lt;= 104</code></li><li><code>-1000 &lt;= asteroids[i] &lt;= 1000</code></li><li><code>asteroids[i] != 0</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ å•è°ƒæ ˆä¿å­˜è¡Œæ˜Ÿï¼Œåªæœ‰æ ˆé¡¶æ˜¯æ­£æ•°(å‘å³)ä¸”ä¸‹ä¸€é¢—æ˜¯è´Ÿæ•°(å‘å·¦)æ‰ä¼šç¢°æ’ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">asteroidCollision</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> asteroids<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token operator">:</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> asteroid <span class="token operator">:</span> asteroids<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> asteroid <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>asteroid<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>asteroid<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">continue</span> p<span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token keyword">continue</span> p<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>asteroid<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> res<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_1019-é“¾è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªæ›´å¤§èŠ‚ç‚¹" tabindex="-1"><a class="header-anchor" href="#_1019-é“¾è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªæ›´å¤§èŠ‚ç‚¹" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/next-greater-node-in-linked-list/" target="_blank" rel="noopener noreferrer">1019. é“¾è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªæ›´å¤§èŠ‚ç‚¹<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„é“¾è¡¨ <code>head</code></p><p>å¯¹äºåˆ—è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒæŸ¥æ‰¾ä¸‹ä¸€ä¸ª <strong>æ›´å¤§èŠ‚ç‚¹</strong> çš„å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œæ‰¾åˆ°å®ƒæ—è¾¹çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„å€¼ <strong>ä¸¥æ ¼å¤§äº</strong> å®ƒçš„å€¼ã€‚</p><p>è¿”å›ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>answer</code> ï¼Œå…¶ä¸­ <code>answer[i]</code> æ˜¯ç¬¬ <code>i</code> ä¸ªèŠ‚ç‚¹( <strong>ä»1å¼€å§‹</strong> )çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„èŠ‚ç‚¹çš„å€¼ã€‚å¦‚æœç¬¬ <code>i</code> ä¸ªèŠ‚ç‚¹æ²¡æœ‰ä¸‹ä¸€ä¸ªæ›´å¤§çš„èŠ‚ç‚¹ï¼Œè®¾ç½® <code>answer[i] = 0</code> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/linkedlistnext1.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šhead <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/linkedlistnext2-20230626234234321.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šhead <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li>é“¾è¡¨ä¸­èŠ‚ç‚¹æ•°ä¸º <code>n</code></li><li><code>1 &lt;= n &lt;= 10^4</code></li><li><code>1 &lt;= Node.val &lt;= 10^9</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ç®€å•çš„å•è°ƒæ ˆ</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">nextLargerNodes</span><span class="token punctuation">(</span><span class="token class-name">ListNode</span> head<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ListNode</span> temp <span class="token operator">=</span> head<span class="token punctuation">;</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> temp <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> length<span class="token operator">++</span><span class="token punctuation">,</span> temp <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>head <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> head<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> pop <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                res<span class="token punctuation">[</span>pop<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">.</span>val<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token punctuation">.</span><span class="token function">entry</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span> head<span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            length<span class="token operator">++</span><span class="token punctuation">;</span>
            head <span class="token operator">=</span> head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_1475-å•†å“æŠ˜æ‰£åçš„æœ€ç»ˆä»·æ ¼" tabindex="-1"><a class="header-anchor" href="#_1475-å•†å“æŠ˜æ‰£åçš„æœ€ç»ˆä»·æ ¼" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/final-prices-with-a-special-discount-in-a-shop/description/" target="_blank" rel="noopener noreferrer">1475. å•†å“æŠ˜æ‰£åçš„æœ€ç»ˆä»·æ ¼<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>prices</code> ï¼Œå…¶ä¸­ <code>prices[i]</code> æ˜¯å•†åº—é‡Œç¬¬ <code>i</code> ä»¶å•†å“çš„ä»·æ ¼ã€‚</p><p>å•†åº—é‡Œæ­£åœ¨è¿›è¡Œä¿ƒé”€æ´»åŠ¨ï¼Œå¦‚æœä½ è¦ä¹°ç¬¬ <code>i</code> ä»¶å•†å“ï¼Œé‚£ä¹ˆä½ å¯ä»¥å¾—åˆ°ä¸ <code>prices[j]</code> ç›¸ç­‰çš„æŠ˜æ‰£ï¼Œå…¶ä¸­ <code>j</code> æ˜¯æ»¡è¶³ <code>j &gt; i</code> ä¸” <code>prices[j] &lt;= prices[i]</code> çš„ <strong>æœ€å°ä¸‹æ ‡</strong> ï¼Œå¦‚æœæ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„ <code>j</code> ï¼Œä½ å°†æ²¡æœ‰ä»»ä½•æŠ˜æ‰£ã€‚</p><p>è¯·ä½ è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­ç¬¬ <code>i</code> ä¸ªå…ƒç´ æ˜¯æŠ˜æ‰£åä½ è´­ä¹°å•†å“ <code>i</code> æœ€ç»ˆéœ€è¦æ”¯ä»˜çš„ä»·æ ¼ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šprices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
è§£é‡Šï¼š
å•†å“ <span class="token number">0</span> çš„ä»·æ ¼ä¸º price<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">8</span> ï¼Œä½ å°†å¾—åˆ° prices<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">4</span> çš„æŠ˜æ‰£ï¼Œæ‰€ä»¥æœ€ç»ˆä»·æ ¼ä¸º <span class="token number">8</span> <span class="token operator">-</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">4</span> ã€‚
å•†å“ <span class="token number">1</span> çš„ä»·æ ¼ä¸º price<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">4</span> ï¼Œä½ å°†å¾—åˆ° prices<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span> çš„æŠ˜æ‰£ï¼Œæ‰€ä»¥æœ€ç»ˆä»·æ ¼ä¸º <span class="token number">4</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">2</span> ã€‚
å•†å“ <span class="token number">2</span> çš„ä»·æ ¼ä¸º price<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">6</span> ï¼Œä½ å°†å¾—åˆ° prices<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span> çš„æŠ˜æ‰£ï¼Œæ‰€ä»¥æœ€ç»ˆä»·æ ¼ä¸º <span class="token number">6</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">4</span> ã€‚
å•†å“ <span class="token number">3</span> å’Œ <span class="token number">4</span> éƒ½æ²¡æœ‰æŠ˜æ‰£ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šprices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
è§£é‡Šï¼šåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ‰€æœ‰å•†å“éƒ½æ²¡æœ‰æŠ˜æ‰£ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šprices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤º</strong>ï¼š</p><ul><li><code>1 &lt;= prices.length &lt;= 500</code></li><li><code>1 &lt;= prices[i] &lt;= 10^3</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å¢æ ˆï¼Œå½“å½“å‰ä»·æ ¼å°äºç­‰äºæ ˆé¡¶å…ƒç´ ä»·æ ¼æ—¶ï¼Œè¿›è¡Œç›¸åº”çš„æŠ˜æ‰£ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">finalPrices</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> prices<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> prices<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> prices<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> index <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                prices<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> prices<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> prices<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_901-è‚¡ç¥¨ä»·æ ¼è·¨åº¦" tabindex="-1"><a class="header-anchor" href="#_901-è‚¡ç¥¨ä»·æ ¼è·¨åº¦" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/online-stock-span/description/" target="_blank" rel="noopener noreferrer">901. è‚¡ç¥¨ä»·æ ¼è·¨åº¦<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>è®¾è®¡ä¸€ä¸ªç®—æ³•æ”¶é›†æŸäº›è‚¡ç¥¨çš„æ¯æ—¥æŠ¥ä»·ï¼Œå¹¶è¿”å›è¯¥è‚¡ç¥¨å½“æ—¥ä»·æ ¼çš„ <strong>è·¨åº¦</strong> ã€‚</p><p>å½“æ—¥è‚¡ç¥¨ä»·æ ¼çš„ <strong>è·¨åº¦</strong> è¢«å®šä¹‰ä¸ºè‚¡ç¥¨ä»·æ ¼å°äºæˆ–ç­‰äºä»Šå¤©ä»·æ ¼çš„æœ€å¤§è¿ç»­æ—¥æ•°ï¼ˆä»ä»Šå¤©å¼€å§‹å¾€å›æ•°ï¼ŒåŒ…æ‹¬ä»Šå¤©ï¼‰ã€‚</p><ul><li>ä¾‹å¦‚ï¼Œå¦‚æœæœªæ¥ 7 å¤©è‚¡ç¥¨çš„ä»·æ ¼æ˜¯ <code>[100,80,60,70,60,75,85]</code>ï¼Œé‚£ä¹ˆè‚¡ç¥¨è·¨åº¦å°†æ˜¯ <code>[1,1,1,2,1,4,6]</code> ã€‚</li></ul><p>å®ç° <code>StockSpanner</code> ç±»ï¼š</p><ul><li><code>StockSpanner()</code> åˆå§‹åŒ–ç±»å¯¹è±¡ã€‚</li><li><code>int next(int price)</code> ç»™å‡ºä»Šå¤©çš„è‚¡ä»· <code>price</code> ï¼Œè¿”å›è¯¥è‚¡ç¥¨å½“æ—¥ä»·æ ¼çš„ <strong>è·¨åº¦</strong> ã€‚</li></ul><p><strong>ç¤ºä¾‹ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼š
<span class="token punctuation">[</span><span class="token string">&quot;StockSpanner&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;next&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;next&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;next&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;next&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;next&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;next&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;next&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">60</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">60</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">75</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">85</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š
<span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>

è§£é‡Šï¼š
StockSpanner stockSpanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StockSpanner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
stockSpanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› 1</span>
stockSpanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¿”å› 1</span>
stockSpanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¿”å› 1</span>
stockSpanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¿”å› 2</span>
stockSpanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¿”å› 1</span>
stockSpanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¿”å› 4 ï¼Œå› ä¸ºæˆªè‡³ä»Šå¤©çš„æœ€å 4 ä¸ªè‚¡ä»· (åŒ…æ‹¬ä»Šå¤©çš„è‚¡ä»· 75) éƒ½å°äºæˆ–ç­‰äºä»Šå¤©çš„è‚¡ä»·ã€‚</span>
stockSpanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">85</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è¿”å› 6</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤º</strong>ï¼š</p><ul><li><code>1 &lt;= price &lt;= 10^5</code></li><li>æœ€å¤šè°ƒç”¨ <code>next</code> æ–¹æ³• <code>10^4</code> æ¬¡</li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ä½¿ç”¨å•è°ƒæ ˆä¿å­˜ä»·æ ¼å’Œè¾“å…¥çš„æ—¥æœŸï¼Œé¢˜ç›®çš„è¦æ±‚ç­‰ä»·äºæ‰¾åˆ°ä¸Šä¸€ä¸ªæ›´å¤§çš„æ•°ï¼Œç„¶åè®¡ç®—ä¸¤ä¸ªä¸‹æ ‡çš„å·®å€¼ï¼Œå¯¹äºå°äºå½“å‰ä»·æ ¼çš„å€¼ï¼Œä¹Ÿä¸å¯èƒ½åšä¸ºä¸Šä¸€ä¸ªæ›´å¤§çš„æ•°ï¼Œå¯¹æ— ç”¨æ•°æ®è¿›è¡Œç§»é™¤ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">StockSpanner</span> <span class="token punctuation">{</span>
    <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token punctuation">.</span><span class="token function">entry</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> cur <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token keyword">int</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> cur <span class="token operator">-</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token punctuation">.</span><span class="token function">entry</span><span class="token punctuation">(</span>cur<span class="token operator">++</span><span class="token punctuation">,</span> price<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ä½¿ç”¨å“ˆå¸Œè¡¨ä¿å­˜æ¯æ¬¡ä»·æ ¼å‡ºç°æ—¶çš„è¿ç»­å¤©æ•°ï¼Œç„¶åæ›´æ–°å“ˆå¸Œè¡¨ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">StockSpanner</span> <span class="token punctuation">{</span>
    <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token keyword">int</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> price <span class="token operator">&gt;=</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> res <span class="token operator">+=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>

        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>price<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>price<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_456-132-æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_456-132-æ¨¡å¼" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/132-pattern/" target="_blank" rel="noopener noreferrer">456. 132 æ¨¡å¼<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œæ•°ç»„ä¸­å…±æœ‰ <code>n</code> ä¸ªæ•´æ•°ã€‚<strong>132 æ¨¡å¼çš„å­åºåˆ—</strong> ç”±ä¸‰ä¸ªæ•´æ•° <code>nums[i]</code>ã€<code>nums[j]</code> å’Œ <code>nums[k]</code> ç»„æˆï¼Œå¹¶åŒæ—¶æ»¡è¶³ï¼š<code>i &lt; j &lt; k</code> å’Œ <code>nums[i] &lt; nums[k] &lt; nums[j]</code> ã€‚</p><p>å¦‚æœ <code>nums</code> ä¸­å­˜åœ¨ <strong>132 æ¨¡å¼çš„å­åºåˆ—</strong> ï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token boolean">false</span>
è§£é‡Šï¼šåºåˆ—ä¸­ä¸å­˜åœ¨ <span class="token number">132</span> æ¨¡å¼çš„å­åºåˆ—ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token boolean">true</span>
è§£é‡Šï¼šåºåˆ—ä¸­æœ‰ <span class="token number">1</span> ä¸ª <span class="token number">132</span> æ¨¡å¼çš„å­åºåˆ—ï¼š <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token boolean">true</span>
è§£é‡Šï¼šåºåˆ—ä¸­æœ‰ <span class="token number">3</span> ä¸ª <span class="token number">132</span> æ¨¡å¼çš„çš„å­åºåˆ—ï¼š<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>ã€<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> å’Œ <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>n == nums.length</code></li><li><code>1 &lt;= n &lt;= 2 * 10^5</code></li><li><code>-10^9 &lt;= nums[i] &lt;= 10^9</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ å€’ç€éå†ï¼Œä½¿ç”¨å•è°ƒé€’å¢æ ˆæ¥æ‰¾åˆ°<code>3</code>ï¼Œç„¶åå°†æ ˆé¡¶çš„å…ƒç´ ä¿å­˜åˆ°ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­ä½œä¸º<code>2</code>çš„å€™é€‰ï¼Œç„¶åéå†ï¼Œéœ€è¦æ˜¯å¦æœ‰æ¯”é˜Ÿåˆ—é¡¶æ›´å°çš„æ•°ä½œä¸º<code>1</code>ï¼Œå› ä¸ºå°½å¯èƒ½ä½¿<code>2</code>æ›´å¤§æ‰èƒ½æ‰¾åˆ°<code>1</code>ï¼Œæ‰€æœ‰é˜Ÿåˆ—ä½¿ç”¨é€†åºã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">find132pattern</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">reverseOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>queue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> queue<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                queue<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ åœ¨ä¸Šè¿°åŸºç¡€è¿›è¡Œä¼˜åŒ–ï¼Œä½¿ç”¨å•è°ƒé€’å¢æ ˆæ¥ä¿å­˜æœ€å¤§å€¼<code>3</code>ï¼Œä½¿ç”¨ä¸€ä¸ªæ•°æ¥ä¿å­˜æ¬¡å¤§å€¼<code>2</code>ï¼Œå€’ç€éå†ï¼Œæ¥å¯»æ‰¾<code>1</code>ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">find132pattern</span><span class="token punctuation">(</span><span class="token keyword">int</span> nums<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> nextMax <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nextMax <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                nextMax <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_1793-å¥½å­æ•°ç»„çš„æœ€å¤§åˆ†æ•°" tabindex="-1"><a class="header-anchor" href="#_1793-å¥½å­æ•°ç»„çš„æœ€å¤§åˆ†æ•°" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/maximum-score-of-a-good-subarray/" target="_blank" rel="noopener noreferrer">1793. å¥½å­æ•°ç»„çš„æœ€å¤§åˆ†æ•°<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> **ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰**å’Œä¸€ä¸ªæ•´æ•° <code>k</code> ã€‚</p><p>ä¸€ä¸ªå­æ•°ç»„ <code>(i, j)</code> çš„ <strong>åˆ†æ•°</strong> å®šä¹‰ä¸º <code>min(nums[i], nums[i+1], ..., nums[j]) * (j - i + 1)</code> ã€‚ä¸€ä¸ª <strong>å¥½</strong> å­æ•°ç»„çš„ä¸¤ä¸ªç«¯ç‚¹ä¸‹æ ‡éœ€è¦æ»¡è¶³ <code>i &lt;= k &lt;= j</code> ã€‚</p><p>è¯·ä½ è¿”å› <strong>å¥½</strong> å­æ•°ç»„çš„æœ€å¤§å¯èƒ½ <strong>åˆ†æ•°</strong> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">3</span>
è¾“å‡ºï¼š<span class="token number">15</span>
<span class="token function">è§£é‡Šï¼šæœ€ä¼˜å­æ•°ç»„çš„å·¦å³ç«¯ç‚¹ä¸‹æ ‡æ˜¯</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> ï¼Œåˆ†æ•°ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">=</span> <span class="token number">15</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">0</span>
è¾“å‡ºï¼š<span class="token number">20</span>
<span class="token function">è§£é‡Šï¼šæœ€ä¼˜å­æ•°ç»„çš„å·¦å³ç«¯ç‚¹ä¸‹æ ‡æ˜¯</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> ï¼Œåˆ†æ•°ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">0</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">=</span> <span class="token number">20</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 10^5</code></li><li><code>1 &lt;= nums[i] &lt;= 2 * 10^4</code></li><li><code>0 &lt;= k &lt; nums.length</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code></code></pre><div class="line-numbers" aria-hidden="true"></div></div><hr><h4 id="_1776-è½¦é˜Ÿ-ii" tabindex="-1"><a class="header-anchor" href="#_1776-è½¦é˜Ÿ-ii" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/car-fleet-ii/" target="_blank" rel="noopener noreferrer">1776. è½¦é˜Ÿ II<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>åœ¨ä¸€æ¡å•è½¦é“ä¸Šæœ‰ <code>n</code> è¾†è½¦ï¼Œå®ƒä»¬æœç€åŒæ ·çš„æ–¹å‘è¡Œé©¶ã€‚ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ•°ç»„ <code>cars</code> ï¼Œå…¶ä¸­ <code>cars[i] = [positioni, speedi]</code> ï¼Œå®ƒè¡¨ç¤ºï¼š</p><ul><li><code>positioni</code> æ˜¯ç¬¬ <code>i</code> è¾†è½¦å’Œé“è·¯èµ·ç‚¹ä¹‹é—´çš„è·ç¦»ï¼ˆå•ä½ï¼šç±³ï¼‰ã€‚é¢˜ç›®ä¿è¯ <code>positioni &lt; positioni+1</code> ã€‚</li><li><code>speedi</code> æ˜¯ç¬¬ <code>i</code> è¾†è½¦çš„åˆå§‹é€Ÿåº¦ï¼ˆå•ä½ï¼šç±³/ç§’ï¼‰ã€‚</li></ul><p>ç®€å•èµ·è§ï¼Œæ‰€æœ‰è½¦å­å¯ä»¥è§†ä¸ºåœ¨æ•°è½´ä¸Šç§»åŠ¨çš„ç‚¹ã€‚å½“ä¸¤è¾†è½¦å æ®åŒä¸€ä¸ªä½ç½®æ—¶ï¼Œæˆ‘ä»¬ç§°å®ƒä»¬ç›¸é‡äº†ã€‚ä¸€æ—¦ä¸¤è¾†è½¦ç›¸é‡ï¼Œå®ƒä»¬ä¼šåˆå¹¶æˆä¸€ä¸ªè½¦é˜Ÿï¼Œè¿™ä¸ªè½¦é˜Ÿé‡Œçš„è½¦æœ‰ç€åŒæ ·çš„ä½ç½®å’Œç›¸åŒçš„é€Ÿåº¦ï¼Œé€Ÿåº¦ä¸ºè¿™ä¸ªè½¦é˜Ÿé‡Œ <strong>æœ€æ…¢</strong> ä¸€è¾†è½¦çš„é€Ÿåº¦ã€‚</p><p>è¯·ä½ è¿”å›ä¸€ä¸ªæ•°ç»„ <code>answer</code> ï¼Œå…¶ä¸­ <code>answer[i]</code> æ˜¯ç¬¬ <code>i</code> è¾†è½¦ä¸ä¸‹ä¸€è¾†è½¦ç›¸é‡çš„æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰ï¼Œå¦‚æœè¿™è¾†è½¦ä¸ä¼šä¸ä¸‹ä¸€è¾†è½¦ç›¸é‡ï¼Œåˆ™ <code>answer[i]</code> ä¸º <code>-1</code> ã€‚ç­”æ¡ˆç²¾åº¦è¯¯å·®éœ€åœ¨ <code>10-5</code> ä»¥å†…ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šcars <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1.00000</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1.00000</span><span class="token punctuation">,</span><span class="token number">3.00000</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1.00000</span><span class="token punctuation">]</span>
è§£é‡Šï¼šç»è¿‡æ°å¥½ <span class="token number">1</span> ç§’ä»¥åï¼Œç¬¬ä¸€è¾†è½¦ä¼šä¸ç¬¬äºŒè¾†è½¦ç›¸é‡ï¼Œå¹¶å½¢æˆä¸€ä¸ª <span class="token number">1</span> m<span class="token operator">/</span>s çš„è½¦é˜Ÿã€‚ç»è¿‡æ°å¥½ <span class="token number">3</span> ç§’ä»¥åï¼Œç¬¬ä¸‰è¾†è½¦ä¼šä¸ç¬¬å››è¾†è½¦ç›¸é‡ï¼Œå¹¶å½¢æˆä¸€ä¸ª <span class="token number">2</span> m<span class="token operator">/</span>s çš„è½¦é˜Ÿã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šcars <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">2.00000</span><span class="token punctuation">,</span><span class="token number">1.00000</span><span class="token punctuation">,</span><span class="token number">1.50000</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1.00000</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= cars.length &lt;= 105</code></li><li><code>1 &lt;= positioni, speedi &lt;= 106</code></li><li><code>positioni &lt; positioni+1</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code></code></pre><div class="line-numbers" aria-hidden="true"></div></div><hr><h4 id="_1944-é˜Ÿåˆ—ä¸­å¯ä»¥çœ‹åˆ°çš„äººæ•°" tabindex="-1"><a class="header-anchor" href="#_1944-é˜Ÿåˆ—ä¸­å¯ä»¥çœ‹åˆ°çš„äººæ•°" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/number-of-visible-people-in-a-queue/" target="_blank" rel="noopener noreferrer">1944. é˜Ÿåˆ—ä¸­å¯ä»¥çœ‹åˆ°çš„äººæ•°<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>æœ‰ <code>n</code> ä¸ªäººæ’æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œ<strong>ä»å·¦åˆ°å³</strong> ç¼–å·ä¸º <code>0</code> åˆ° <code>n - 1</code> ã€‚ç»™ä½ ä»¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>heights</code> ï¼Œæ¯ä¸ªæ•´æ•° <strong>äº’ä¸ç›¸åŒ</strong>ï¼Œ<code>heights[i]</code> è¡¨ç¤ºç¬¬ <code>i</code> ä¸ªäººçš„é«˜åº¦ã€‚</p><p>ä¸€ä¸ªäººèƒ½ <strong>çœ‹åˆ°</strong> ä»–å³è¾¹å¦ä¸€ä¸ªäººçš„æ¡ä»¶æ˜¯è¿™ä¸¤äººä¹‹é—´çš„æ‰€æœ‰äººéƒ½æ¯”ä»–ä»¬ä¸¤äºº <strong>çŸ®</strong> ã€‚æ›´æ­£å¼çš„ï¼Œç¬¬ <code>i</code> ä¸ªäººèƒ½çœ‹åˆ°ç¬¬ <code>j</code> ä¸ªäººçš„æ¡ä»¶æ˜¯ <code>i &lt; j</code> ä¸” <code>min(heights[i], heights[j]) &gt; max(heights[i+1], heights[i+2], ..., heights[j-1])</code> ã€‚</p><p>è¯·ä½ è¿”å›ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ•°ç»„ <code>answer</code> ï¼Œå…¶ä¸­ <code>answer[i]</code> æ˜¯ç¬¬ <code>i</code> ä¸ªäººåœ¨ä»–å³ä¾§é˜Ÿåˆ—ä¸­èƒ½ <strong>çœ‹åˆ°</strong> çš„ <strong>äººæ•°</strong> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/queue-plane.jpg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šheights <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
è§£é‡Šï¼š
ç¬¬ <span class="token number">0</span> ä¸ªäººèƒ½çœ‹åˆ°ç¼–å·ä¸º <span class="token number">1</span> ï¼Œ<span class="token number">2</span> å’Œ <span class="token number">4</span> çš„äººã€‚
ç¬¬ <span class="token number">1</span> ä¸ªäººèƒ½çœ‹åˆ°ç¼–å·ä¸º <span class="token number">2</span> çš„äººã€‚
ç¬¬ <span class="token number">2</span> ä¸ªäººèƒ½çœ‹åˆ°ç¼–å·ä¸º <span class="token number">3</span> å’Œ <span class="token number">4</span> çš„äººã€‚
ç¬¬ <span class="token number">3</span> ä¸ªäººèƒ½çœ‹åˆ°ç¼–å·ä¸º <span class="token number">4</span> çš„äººã€‚
ç¬¬ <span class="token number">4</span> ä¸ªäººèƒ½çœ‹åˆ°ç¼–å·ä¸º <span class="token number">5</span> çš„äººã€‚
ç¬¬ <span class="token number">5</span> ä¸ªäººè°ä¹Ÿçœ‹ä¸åˆ°å› ä¸ºä»–å³è¾¹æ²¡äººã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šheights <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>n == heights.length</code></li><li><code>1 &lt;= n &lt;= 10^5</code></li><li><code>1 &lt;= heights[i] &lt;= 10^5</code></li><li><code>heights</code> ä¸­æ‰€æœ‰æ•° <strong>äº’ä¸ç›¸åŒ</strong> ã€‚</li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ç”¨ä¸€ä¸ªæ•°æ®ç»“æ„ï¼ˆæ ˆï¼‰ç»´æŠ¤æ²¡æœ‰è¢«æŒ¡ä½çš„äººçš„èº«é«˜ã€‚å¯¹äºé‚£äº›è¢«æŒ¡ä½çš„äººï¼Œæ°¸è¿œä¸ä¼šå»éå†ä»–ä»¬äº†ï¼ˆåŠæ—¶å»æ‰æ— ç”¨æ•°æ®ï¼‰ã€‚</p><p>â€‹ çœ‹ç¤ºä¾‹1:</p><table><thead><tr><th style="text-align:center;">i</th><th style="text-align:center;">h[i]</th><th style="text-align:center;">å…¥æ ˆå‰</th><th style="text-align:center;">å…¥æ ˆå</th><th style="text-align:center;">res[i]</th><th style="text-align:center;">è§£é‡Š</th></tr></thead><tbody><tr><td style="text-align:center;">5</td><td style="text-align:center;">9</td><td style="text-align:center;">[]</td><td style="text-align:center;">[9]</td><td style="text-align:center;">0</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">4</td><td style="text-align:center;">11</td><td style="text-align:center;">[9]</td><td style="text-align:center;">[11]</td><td style="text-align:center;">1</td><td style="text-align:center;">11 æŒ¡ä½ 9</td></tr><tr><td style="text-align:center;">3</td><td style="text-align:center;">5</td><td style="text-align:center;">[11]</td><td style="text-align:center;">[11, 5]</td><td style="text-align:center;">1</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">2</td><td style="text-align:center;">8</td><td style="text-align:center;">[11, 5]</td><td style="text-align:center;">[11 ,8]</td><td style="text-align:center;">2</td><td style="text-align:center;">8 æŒ¡ä½ 5</td></tr><tr><td style="text-align:center;">1</td><td style="text-align:center;">6</td><td style="text-align:center;">[11 ,8]</td><td style="text-align:center;">[11 ,8, 6]</td><td style="text-align:center;">1</td><td style="text-align:center;"></td></tr><tr><td style="text-align:center;">0</td><td style="text-align:center;">10</td><td style="text-align:center;">[11 ,8, 6]</td><td style="text-align:center;">[11, 10]</td><td style="text-align:center;">3</td><td style="text-align:center;">10 æŒ¡ä½ 8,6</td></tr></tbody></table><p>â€‹ ä»å³å¾€å·¦éå†åˆ°<code>i</code>æ—¶ï¼Œå¦‚æœæ ˆé¡¶æ¯”<code>h[i]</code>å°ï¼Œå°±ä¸æ–­å¼¹å‡ºæ ˆé¡¶ï¼Œç›´åˆ°æ ˆä¸ºç©ºæˆ–è€…æ ˆé¡¶å¤§äº<code>h[i]</code>ã€‚ç»Ÿè®¡å¼¹å‡ºçš„å…ƒç´ ä¸ªæ•°ï¼Œä½œä¸º<code>i</code>èƒ½çœ‹åˆ°çš„äººæ•°<code>res[i]</code>ã€‚å‡ºæ ˆç»“æŸåï¼Œè‹¥æ ˆä¸ä¸ºç©ºï¼Œè¯´æ˜ç¬¬<code>i</code>ä¸ªäººè¿˜å¯ä»¥å†çœ‹åˆ°ä¸€ä¸ªäººï¼ˆæ ˆé¡¶ï¼‰ï¼ŒæŠŠ<code>res[i]</code>åŠ ä¸€ã€‚</p><p>å¯¹äºæ¯”æ ˆé¡¶æ›´é å³çš„äººï¼Œç”±äºæ ˆé¡¶æ¯”<code>h[i]</code>å¤§ï¼Œæ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œ<code>i</code>æ— æ³•çœ‹åˆ°æ¯”æ ˆé¡¶æ›´é å³çš„äººï¼Œæ‰€ä»¥æ— éœ€éå†è¿™äº›æ›´é å³çš„äººã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">canSeePersonsCount</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> heights<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> heights<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> heights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// æ›´ä½ï¼Œè‡ªå·±æŒ¡ä½çš„</span>
                res<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
                stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// æ›´é«˜ï¼ŒæŠŠè‡ªå·±æŒ¡ä½çš„</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>heights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_2289-ä½¿æ•°ç»„æŒ‰éé€’å‡é¡ºåºæ’åˆ—" tabindex="-1"><a class="header-anchor" href="#_2289-ä½¿æ•°ç»„æŒ‰éé€’å‡é¡ºåºæ’åˆ—" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/steps-to-make-array-non-decreasing/" target="_blank" rel="noopener noreferrer">2289. ä½¿æ•°ç»„æŒ‰éé€’å‡é¡ºåºæ’åˆ—<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹çš„æ•´æ•°æ•°ç»„ <code>nums</code> ã€‚åœ¨ä¸€æ­¥æ“ä½œä¸­ï¼Œç§»é™¤æ‰€æœ‰æ»¡è¶³ <code>nums[i - 1] &gt; nums[i]</code> çš„ <code>nums[i]</code> ï¼Œå…¶ä¸­ <code>0 &lt; i &lt; nums.length</code> ã€‚</p><p>é‡å¤æ‰§è¡Œæ­¥éª¤ï¼Œç›´åˆ° <code>nums</code> å˜ä¸º <strong>éé€’å‡</strong> æ•°ç»„ï¼Œè¿”å›æ‰€éœ€æ‰§è¡Œçš„æ“ä½œæ•°ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">3</span>
è§£é‡Šï¼šæ‰§è¡Œä¸‹è¿°å‡ ä¸ªæ­¥éª¤ï¼š
<span class="token operator">-</span> æ­¥éª¤ <span class="token number">1</span> ï¼š<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span> å˜ä¸º <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span>
<span class="token operator">-</span> æ­¥éª¤ <span class="token number">2</span> ï¼š<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span> å˜ä¸º <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span>
<span class="token operator">-</span> æ­¥éª¤ <span class="token number">3</span> ï¼š<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span> å˜ä¸º <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span> æ˜¯ä¸€ä¸ªéé€’å‡æ•°ç»„ï¼Œå› æ­¤ï¼Œè¿”å› <span class="token number">3</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">0</span>
è§£é‡Šï¼šnums å·²ç»æ˜¯ä¸€ä¸ªéé€’å‡æ•°ç»„ï¼Œå› æ­¤ï¼Œè¿”å› <span class="token number">0</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 10^5</code></li><li><code>1 &lt;= nums[i] &lt;= 10^9</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ä¸€ä¸ªéé€’å‡çš„åºåˆ—è‚¯å®šæ˜¯è¢«ä¾æ¬¡åˆ é™¤çš„ï¼Œå¦‚<code>9,1,2,3,4</code>ï¼Œéƒ½ä¼šè¢«<code>9</code>åˆ é™¤ï¼Œæ‰€ä»¥å¯ä»¥ä¿å­˜æ¯ä¸ªå…ƒç´ å’Œå®ƒè¢«åˆ é™¤çš„æ—¶åˆ»çš„å€¼ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯è¢«å®ƒä¸Šä¸€ä¸ªæ›´å¤§çš„å€¼åˆ é™¤ï¼Œåˆ é™¤æ—¶åˆ»æ˜¯è¿™ä¸ªåŒºé—´å†…å°äºç­‰äºå®ƒçš„æ•°çš„åˆ é™¤æœ€å¤§æ—¶åˆ»<code>+1</code>ï¼Œå¦‚<code>9,1,2,3,4,1,5</code>ï¼Œ<code>5</code>åœ¨<code>4</code>ä¹‹åè¢«åˆ é™¤ã€‚ç‰¹åˆ«çš„ï¼Œä¸€ä¸ªæ•°çš„è¢«åˆ é™¤å¯ä»¥è¢«ç­‰ä»·ä¸ºè¢«å®ƒä¸Šä¸€ä¸ªæœ€å¤§çš„æ•°åˆ é™¤ï¼Œå¦‚<code>20,9,1,2,3</code>ï¼Œ<code>2</code>å’Œ<code>3</code>å¯ä»¥ç­‰ä»·ä¸ºè¢«<code>9</code>åˆ é™¤çš„ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">totalSteps</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> num <span class="token operator">:</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> maxTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                maxTime <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>maxTime<span class="token punctuation">,</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// å¦‚9, 1, 2, 3, 10       10 æ²¡æœ‰è¢«åˆ é™¤ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯0ï¼Œéœ€è¦åˆ¤æ–­ä¸‹æ ˆæ˜¯å¦ä¸ºç©ºï¼Œå³æ²¡æœ‰èƒ½åˆ é™¤å½“å‰æ•°çš„å…ƒç´ </span>
            maxTime <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> maxTime <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> maxTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token punctuation">.</span><span class="token function">entry</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> maxTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_2866-ç¾ä¸½å¡”-ii" tabindex="-1"><a class="header-anchor" href="#_2866-ç¾ä¸½å¡”-ii" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/beautiful-towers-ii/" target="_blank" rel="noopener noreferrer">2866. ç¾ä¸½å¡” II<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> ä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹çš„æ•´æ•°æ•°ç»„ <code>maxHeights</code> ã€‚</p><p>ä½ çš„ä»»åŠ¡æ˜¯åœ¨åæ ‡è½´ä¸Šå»º <code>n</code> åº§å¡”ã€‚ç¬¬ <code>i</code> åº§å¡”çš„ä¸‹æ ‡ä¸º <code>i</code> ï¼Œé«˜åº¦ä¸º <code>heights[i]</code> ã€‚</p><p>å¦‚æœä»¥ä¸‹æ¡ä»¶æ»¡è¶³ï¼Œæˆ‘ä»¬ç§°è¿™äº›å¡”æ˜¯ <strong>ç¾ä¸½</strong> çš„ï¼š</p><ol><li><code>1 &lt;= heights[i] &lt;= maxHeights[i]</code></li><li><code>heights</code> æ˜¯ä¸€ä¸ª <strong>å±±çŠ¶</strong> æ•°ç»„ã€‚</li></ol><p>å¦‚æœå­˜åœ¨ä¸‹æ ‡ <code>i</code> æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°æ•°ç»„ <code>heights</code> æ˜¯ä¸€ä¸ª <strong>å±±çŠ¶</strong> æ•°ç»„ï¼š</p><ul><li>å¯¹äºæ‰€æœ‰ <code>0 &lt; j &lt;= i</code> ï¼Œéƒ½æœ‰ <code>heights[j - 1] &lt;= heights[j]</code></li><li>å¯¹äºæ‰€æœ‰ <code>i &lt;= k &lt; n - 1</code> ï¼Œéƒ½æœ‰ <code>heights[k + 1] &lt;= heights[k]</code></li></ul><p>è¯·ä½ è¿”å›æ»¡è¶³ <strong>ç¾ä¸½å¡”</strong> è¦æ±‚çš„æ–¹æ¡ˆä¸­ï¼Œ<strong>é«˜åº¦å’Œçš„æœ€å¤§å€¼</strong> ã€‚</p><p><strong>ç¤ºä¾‹ 1</strong>ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šmaxHeights <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">13</span>
è§£é‡Šï¼šå’Œæœ€å¤§çš„ç¾ä¸½å¡”æ–¹æ¡ˆä¸º heights <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> ï¼Œè¿™æ˜¯ä¸€ä¸ªç¾ä¸½å¡”æ–¹æ¡ˆï¼Œå› ä¸ºï¼š
<span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> heights<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> maxHeights<span class="token punctuation">[</span>i<span class="token punctuation">]</span>  
<span class="token operator">-</span> heights æ˜¯ä¸ªå±±çŠ¶æ•°ç»„ï¼Œå³°å€¼åœ¨ i <span class="token operator">=</span> <span class="token number">0</span> å¤„ã€‚
<span class="token number">13</span> æ˜¯æ‰€æœ‰ç¾ä¸½å¡”æ–¹æ¡ˆä¸­çš„æœ€å¤§é«˜åº¦å’Œã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2</strong>ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šmaxHeights <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">22</span>
è§£é‡Šï¼š å’Œæœ€å¤§çš„ç¾ä¸½å¡”æ–¹æ¡ˆä¸º heights <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ï¼Œè¿™æ˜¯ä¸€ä¸ªç¾ä¸½å¡”æ–¹æ¡ˆï¼Œå› ä¸ºï¼š
<span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> heights<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> maxHeights<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
<span class="token operator">-</span> heights æ˜¯ä¸ªå±±çŠ¶æ•°ç»„ï¼Œå³°å€¼åœ¨ i <span class="token operator">=</span> <span class="token number">3</span> å¤„ã€‚
<span class="token number">22</span> æ˜¯æ‰€æœ‰ç¾ä¸½å¡”æ–¹æ¡ˆä¸­çš„æœ€å¤§é«˜åº¦å’Œã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3</strong>ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šmaxHeights <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">18</span>
è§£é‡Šï¼šå’Œæœ€å¤§çš„ç¾ä¸½å¡”æ–¹æ¡ˆä¸º heights <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ï¼Œè¿™æ˜¯ä¸€ä¸ªç¾ä¸½å¡”æ–¹æ¡ˆï¼Œå› ä¸ºï¼š
<span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&lt;=</span> heights<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> maxHeights<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
<span class="token operator">-</span> heights æ˜¯ä¸ªå±±çŠ¶æ•°ç»„ï¼Œæœ€å¤§å€¼åœ¨ i <span class="token operator">=</span> <span class="token number">2</span> å¤„ã€‚
æ³¨æ„ï¼Œåœ¨è¿™ä¸ªæ–¹æ¡ˆä¸­ï¼Œi <span class="token operator">=</span> <span class="token number">3</span> ä¹Ÿæ˜¯ä¸€ä¸ªå³°å€¼ã€‚
<span class="token number">18</span> æ˜¯æ‰€æœ‰ç¾ä¸½å¡”æ–¹æ¡ˆä¸­çš„æœ€å¤§é«˜åº¦å’Œã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤º</strong>ï¼š</p><ul><li><code>1 &lt;= n == maxHeights &lt;= 10^5</code></li><li><code>1 &lt;= maxHeights[i] &lt;= 10^9</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ å•è°ƒæ ˆ+å‰åç¼€åˆ†è§£ï¼Œä½¿ç”¨å‰ç¼€æ•°ç»„å’Œåç¼€æ•°ç»„åˆ†åˆ«ä¿å­˜å½“å‰<code>i</code>ä¸ºå³°å€¼æ—¶å·¦å¡ä¸å³å¡çš„å’Œï¼Œç„¶åæšä¸¾å³°é¡¶ï¼Œè®¡ç®—æœ€å¤§çš„å’Œã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">maximumSumOfHeights</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> maxHeights<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> maxHeights<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span><span class="token punctuation">[</span><span class="token punctuation">]</span> prefix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">long</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">,</span> suffix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">long</span><span class="token punctuation">[</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> maxHeights<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> maxHeights<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> j <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                sum <span class="token operator">-=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> maxHeights<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            sum <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> maxHeights<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            suffix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> sum<span class="token punctuation">;</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> res <span class="token operator">=</span> sum<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> maxHeights<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> maxHeights<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> j <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                sum <span class="token operator">-=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> maxHeights<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>j <span class="token operator">-</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            sum <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> maxHeights<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            prefix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> sum<span class="token punctuation">;</span>
            res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> prefix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> suffix<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="å•è°ƒæ ˆæ±‚æœ€é•¿" tabindex="-1"><a class="header-anchor" href="#å•è°ƒæ ˆæ±‚æœ€é•¿" aria-hidden="true">#</a> å•è°ƒæ ˆæ±‚æœ€é•¿</h3><blockquote><p>è¯¥ç±»é¢˜ç›®ä¸å•è°ƒæ ˆæ¨¡æ¿é¢˜ä¸åŒï¼Œè¯¥ç±»é¢˜ç›®æ±‚å¾—æ˜¯æœ€é•¿ã€‚æ€è·¯ä¸»è¦æ˜¯<strong>åˆ†ä¸¤æ¬¡éå†</strong>ï¼š</p><ul><li>ç¬¬ä¸€æ¬¡æ­£åºéå†ä¿ç•™ç¬¬ä¸€æ¬¡å‡ºç°çš„æœ€å°çš„æ•°çš„ç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯æœ‰å¯èƒ½ç­”æ¡ˆå‡ºç°çš„åœ°æ–¹ã€‚<strong>è¿™æ¬¡éå†æ•°æ®åªåŠ ä¸å‡ï¼Œå› ä¸ºæ ˆåº•çš„æ•°æ®è™½ç„¶å¤§ï¼Œä½†æ˜¯è¿œï¼Œå¯èƒ½ä¼šæ˜¯ç­”æ¡ˆçš„è¦æ±‚</strong></li><li>ç¬¬äºŒæ¬¡é€†åºéå†æ‰¾åˆ°æ¯”æœ€å°çš„æ•°çš„ç´¢å¼•å¤§çš„æ•°çš„ç´¢å¼•æ›´æ–°ç­”æ¡ˆã€‚</li></ul></blockquote><h4 id="_962-æœ€å¤§å®½åº¦å¡" tabindex="-1"><a class="header-anchor" href="#_962-æœ€å¤§å®½åº¦å¡" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/maximum-width-ramp/" target="_blank" rel="noopener noreferrer">962. æœ€å¤§å®½åº¦å¡<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>A</code>ï¼Œ<code>å¡</code>æ˜¯å…ƒç»„ <code>(i, j)</code>ï¼Œå…¶ä¸­ <code>i &lt; j</code> ä¸” <code>A[i] &lt;= A[j]</code>ã€‚è¿™æ ·çš„å¡çš„å®½åº¦ä¸º <code>j - i</code>ã€‚</p><p>æ‰¾å‡º <code>A</code> ä¸­çš„å¡çš„æœ€å¤§å®½åº¦ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å› 0 ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">4</span>
è§£é‡Šï¼š
<span class="token function">æœ€å¤§å®½åº¦çš„å¡ä¸º</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">A</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span> ä¸” <span class="token constant">A</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼š<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">7</span>
è§£é‡Šï¼š
<span class="token function">æœ€å¤§å®½åº¦çš„å¡ä¸º</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">A</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span> ä¸” <span class="token constant">A</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><p><code>2 &lt;= A.length &lt;= 50000</code></p></li><li><p><code>0 &lt;= A[i] &lt;= 50000</code></p></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ å¡çš„å·¦è¾¹ç•Œä¸€å®šæ˜¯æ¯”ä»–å·¦è¾¹çš„æ•°éƒ½å°çš„ï¼Œå¦‚æœå·¦è¾¹è¿˜æœ‰æ›´å°çš„æ•°æˆ–è€…æ›´å°çš„ä¸‹æ ‡ï¼Œå°±æ²¡å¿…è¦é€‰å®ƒã€‚æ‰€ä»¥å¯ä»¥å…ˆä½¿ç”¨ä¸€ä¸ªå•è°ƒé€’å‡æ ˆç»´æŠ¤ä¸€ä¸‹å·¦è¾¹ç•Œå¯èƒ½çš„èŒƒå›´ã€‚ç„¶åå€’ç€è¿›è¡Œéå†ï¼Œå¯»æ‰¾å³è¾¹ç•Œï¼Œå¦‚æœå³è¾¹ç•Œå¤§äºç­‰äºå·¦è¾¹ç•Œï¼Œå¯ä»¥è´ªå¿ƒçš„è®©å·¦è¾¹ç•Œå·¦ç§»ï¼Œå¯¹åº”å•è°ƒæ ˆå¼¹å‡ºã€‚å½“ä¸æ»¡è¶³æ—¶ï¼Œå‘å·¦ç§»åŠ¨å³æŒ‡é’ˆã€‚å¯ä»¥å‘ç°å³æŒ‡é’ˆä¸ä¼šå›é€€ï¼Œå› ä¸ºå³è¾¹ç•Œçš„å€¼å·²ç»æ‰¾åˆ°å½“å‰çš„æœ€ä¼˜è§£ï¼Œå·¦æŒ‡é’ˆä¹Ÿä¸ä¼šå›é€€ï¼Œå› ä¸ºå³è¾¹ç•Œæ˜¯æ»¡è¶³å·²ç»å¼¹å‡ºçš„å·¦æŒ‡é’ˆçš„æœ€ä¼˜è§£ï¼Œå…·å¤‡å•è°ƒæ€§ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨åŒå‘åŒæŒ‡é’ˆ + å•è°ƒæ ˆæ¥è®¡ç®—ç­”æ¡ˆã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maxWidthRamp</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> nums<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> i <span class="token operator">-</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_1124-è¡¨ç°è‰¯å¥½çš„æœ€é•¿æ—¶é—´æ®µ" tabindex="-1"><a class="header-anchor" href="#_1124-è¡¨ç°è‰¯å¥½çš„æœ€é•¿æ—¶é—´æ®µ" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/longest-well-performing-interval/" target="_blank" rel="noopener noreferrer">1124. è¡¨ç°è‰¯å¥½çš„æœ€é•¿æ—¶é—´æ®µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä»½å·¥ä½œæ—¶é—´è¡¨ <code>hours</code>ï¼Œä¸Šé¢è®°å½•ç€æŸä¸€ä½å‘˜å·¥æ¯å¤©çš„å·¥ä½œå°æ—¶æ•°ã€‚</p><p>æˆ‘ä»¬è®¤ä¸ºå½“å‘˜å·¥ä¸€å¤©ä¸­çš„å·¥ä½œå°æ—¶æ•°å¤§äº <code>8</code> å°æ—¶çš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™ä¸€å¤©å°±æ˜¯ã€Œ<strong>åŠ³ç´¯çš„ä¸€å¤©</strong>ã€ã€‚</p><p>æ‰€è°“ã€Œè¡¨ç°è‰¯å¥½çš„æ—¶é—´æ®µã€ï¼Œæ„å‘³åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œã€ŒåŠ³ç´¯çš„å¤©æ•°ã€æ˜¯ä¸¥æ ¼ <strong>å¤§äº</strong>ã€Œä¸åŠ³ç´¯çš„å¤©æ•°ã€ã€‚</p><p>è¯·ä½ è¿”å›ã€Œè¡¨ç°è‰¯å¥½æ—¶é—´æ®µã€çš„æœ€å¤§é•¿åº¦ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šhours <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">3</span>
è§£é‡Šï¼šæœ€é•¿çš„è¡¨ç°è‰¯å¥½æ—¶é—´æ®µæ˜¯ <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šhours <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= hours.length &lt;= 10^4</code></li><li><code>0 &lt;= hours[i] &lt;= 16</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ å°†è¶…è¿‡8å°æ—¶çš„ä¸€å¤©è®°ä¸º<code>1</code>ï¼Œå¦åˆ™è®°ä¸º<code>-1</code>ï¼Œä½¿ç”¨å‰ç¼€å’Œè¿›è¡Œé¢„å¤„ç†ï¼Œå‰ç¼€å’Œçš„å·®ç­‰åŒäºå­æ•°ç»„çš„å’Œï¼Œæ‰€ä»¥ç±»ä¼¼ä¸<a href="https://leetcode.cn/problems/maximum-width-ramp/" target="_blank" rel="noopener noreferrer">962. æœ€å¤§å®½åº¦å¡<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œä¹Ÿæ˜¯è¦æ±‚å·¦è¾¹ä¸èƒ½æœ‰å¤§äºç­‰äºå®ƒçš„æ•°ï¼Œç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å‡æ ˆï¼Œç„¶åå€’ç€éå†æ•°ç»„ï¼Œè¿›è¡Œæ±‚å€¼ã€‚ä¸åŒä¹‹å¤„åœ¨äºè¿™é‡Œå¯ä»¥æ²¡æœ‰å·¦è¾¹ç•Œï¼Œæ‰€ä»¥åˆå§‹åŒ–å¡«å…¥0ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">longestWPI</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hours<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// é‡è¦ï¼Œä¸åŒäºå¡å¿…é¡»æœ‰å·¦è¾¹ç•Œï¼Œè¿™é‡Œå¯ä»¥æ²¡æœ‰å·¦è¾¹ç•Œï¼Œæ‰€ä»¥æœ€å·®æƒ…å†µæ˜¯ä¸‹æ ‡0ï¼Œä¹Ÿå°±æ˜¯prefix[0]ï¼Œå³0ï¼Œåªæœ‰å°äºå®ƒçš„æ‰è¿›è¡Œæ¯”è¾ƒ</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> prefix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>hours<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> hours<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            prefix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> prefix<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> hours<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">8</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>prefix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> prefix<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> hours<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> prefix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> prefix<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> i <span class="token operator">-</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_1574-åˆ é™¤æœ€çŸ­çš„å­æ•°ç»„ä½¿å‰©ä½™æ•°ç»„æœ‰åº" tabindex="-1"><a class="header-anchor" href="#_1574-åˆ é™¤æœ€çŸ­çš„å­æ•°ç»„ä½¿å‰©ä½™æ•°ç»„æœ‰åº" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/shortest-subarray-to-be-removed-to-make-array-sorted/" target="_blank" rel="noopener noreferrer">1574. åˆ é™¤æœ€çŸ­çš„å­æ•°ç»„ä½¿å‰©ä½™æ•°ç»„æœ‰åº<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>arr</code> ï¼Œè¯·ä½ åˆ é™¤ä¸€ä¸ªå­æ•°ç»„ï¼ˆå¯ä»¥ä¸ºç©ºï¼‰ï¼Œä½¿å¾— <code>arr</code> ä¸­å‰©ä¸‹çš„å…ƒç´ æ˜¯ <strong>éé€’å‡</strong> çš„ã€‚</p><p>ä¸€ä¸ªå­æ•°ç»„æŒ‡çš„æ˜¯åŸæ•°ç»„ä¸­è¿ç»­çš„ä¸€ä¸ªå­åºåˆ—ã€‚</p><p>è¯·ä½ è¿”å›æ»¡è¶³é¢˜ç›®è¦æ±‚çš„æœ€çŸ­å­æ•°ç»„çš„é•¿åº¦ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šarr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">3</span>
è§£é‡Šï¼šæˆ‘ä»¬éœ€è¦åˆ é™¤çš„æœ€çŸ­å­æ•°ç»„æ˜¯ <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ï¼Œé•¿åº¦ä¸º <span class="token number">3</span> ã€‚å‰©ä½™å…ƒç´ å½¢æˆéé€’å‡æ•°ç»„ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span> ã€‚
å¦ä¸€ä¸ªæ­£ç¡®çš„è§£ä¸ºåˆ é™¤å­æ•°ç»„ <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šarr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">4</span>
è§£é‡Šï¼šç”±äºæ•°ç»„æ˜¯ä¸¥æ ¼é€’å‡çš„ï¼Œæˆ‘ä»¬åªèƒ½ä¿ç•™ä¸€ä¸ªå…ƒç´ ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ é™¤é•¿åº¦ä¸º <span class="token number">4</span> çš„å­æ•°ç»„ï¼Œè¦ä¹ˆåˆ é™¤ <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>ï¼Œè¦ä¹ˆåˆ é™¤ <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šarr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">0</span>
è§£é‡Šï¼šæ•°ç»„å·²ç»æ˜¯éé€’å‡çš„äº†ï¼Œæˆ‘ä»¬ä¸éœ€è¦åˆ é™¤ä»»ä½•å…ƒç´ ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 4ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šarr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= arr.length &lt;= 10^5</code></li><li><code>0 &lt;= arr[i] &lt;= 10^9</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ç±»ä¼¼<a href="https://leetcode.cn/problems/maximum-width-ramp/" target="_blank" rel="noopener noreferrer">962. æœ€å¤§å®½åº¦å¡<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼Œä½†æœ¬é¢˜è¦æ±‚æ˜¯æ±‚æœ€çŸ­çš„å¡ï¼Œè§‚å¯Ÿå¡çš„ç‰¹ç‚¹å¯ä»¥å¾—åˆ°ï¼Œå¡çš„å³è¾¹ç•Œå·¦è¾¹çš„æ•°ä¸€å®šæ¯”å®ƒå°ï¼Œå¦åˆ™æˆ‘ä»¬å–å·¦è¾¹çš„æ•°å¾—åˆ°çš„å¡æ›´çŸ­ï¼Œæ‰€ä»¥å³è¾¹ç•Œå¯ä»¥æ„æˆä¸€ä¸ªå•è°ƒéé€’å¢çš„æ ˆã€‚å¦å¤–æœ¬é¢˜è¦æ±‚è¿ç»­ï¼Œæ‰€ä»¥æ ˆä¸­çš„å…ƒç´ å¿…é¡»æ˜¯è¿ç»­çš„ï¼Œå¦‚æœä¸æ»¡è¶³åˆ™ç›´æ¥é€€å‡ºéå†ã€‚é‡åˆ°ç›¸åŒçš„å…ƒç´ å–æ›´é å·¦çš„é‚£ä¸ªï¼Œå¯ä»¥é¿å…é‡å¤çš„è®¡ç®—ï¼Œç„¶åå¦‚æœæ ˆé¡¶å·²ç»æ˜¯0äº†ï¼Œè¯´æ˜æ•´ä¸ªæ•°ç»„æ˜¯éé€’å‡çš„ã€‚ç„¶åéå†å·¦è¾¹ç•Œï¼Œå¦‚æœå·¦è¾¹ç•Œéé€’å‡ï¼Œåˆ™è´ªå¿ƒå‘å³ç»§ç»­éå†ï¼Œå¦‚æœå¤§äºæ ˆé¡¶ï¼Œå°†æ ˆé¡¶å‡ºæ ˆï¼Œç»§ç»­è¿›è¡Œéå†ã€‚æ ˆä¸­å¯ä»¥æ·»åŠ ä¸€ä¸ªå“¨å…µèŠ‚ç‚¹ï¼Œæ–¹ä¾¿è®¡ç®—ç§»é™¤çš„å…ƒç´ ä¸ªæ•°ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">findLengthOfShortestSubarray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">,</span> res<span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">==</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        res <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="æœ‰é™åˆ¶æƒ…å†µä¸‹æ‰¾ä¸‹ä¸€ä¸ªç›¸ç­‰" tabindex="-1"><a class="header-anchor" href="#æœ‰é™åˆ¶æƒ…å†µä¸‹æ‰¾ä¸‹ä¸€ä¸ªç›¸ç­‰" aria-hidden="true">#</a> æœ‰é™åˆ¶æƒ…å†µä¸‹æ‰¾ä¸‹ä¸€ä¸ªç›¸ç­‰</h3><h4 id="_3113-è¾¹ç•Œå…ƒç´ æ˜¯æœ€å¤§å€¼çš„å­æ•°ç»„æ•°ç›®" tabindex="-1"><a class="header-anchor" href="#_3113-è¾¹ç•Œå…ƒç´ æ˜¯æœ€å¤§å€¼çš„å­æ•°ç»„æ•°ç›®" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/find-the-number-of-subarrays-where-boundary-elements-are-maximum/" target="_blank" rel="noopener noreferrer">3113. è¾¹ç•Œå…ƒç´ æ˜¯æœ€å¤§å€¼çš„å­æ•°ç»„æ•°ç›®<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ª <strong>æ­£</strong> æ•´æ•°æ•°ç»„ <code>nums</code> ã€‚</p><p>è¯·ä½ æ±‚å‡º <code>nums</code> ä¸­æœ‰å¤šå°‘ä¸ªå­æ•°ç»„ï¼Œæ»¡è¶³å­æ•°ç»„ä¸­ <strong>ç¬¬ä¸€ä¸ª</strong> å’Œ <strong>æœ€åä¸€ä¸ª</strong> å…ƒç´ éƒ½æ˜¯è¿™ä¸ªå­æ•°ç»„ä¸­çš„ <strong>æœ€å¤§</strong> å€¼ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><p>**è¾“å…¥ï¼š**nums = [1,4,3,3,2]</p><p>**è¾“å‡ºï¼š**6</p><p><strong>è§£é‡Šï¼š</strong></p><p>æ€»å…±æœ‰ 6 ä¸ªå­æ•°ç»„æ»¡è¶³ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ éƒ½æ˜¯å­æ•°ç»„ä¸­çš„æœ€å¤§å€¼ï¼š</p><p>æ‰€ä»¥æˆ‘ä»¬è¿”å› 6 ã€‚</p><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><p>**è¾“å…¥ï¼š**nums = [3,3,3]</p><p>**è¾“å‡ºï¼š**6</p><p><strong>è§£é‡Šï¼š</strong></p><p>æ€»å…±æœ‰ 6 ä¸ªå­æ•°ç»„æ»¡è¶³ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ éƒ½æ˜¯å­æ•°ç»„ä¸­çš„æœ€å¤§å€¼ï¼š</p><p>æ‰€ä»¥æˆ‘ä»¬è¿”å› 6 ã€‚</p><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><p>**è¾“å…¥ï¼š**nums = [1]</p><p>**è¾“å‡ºï¼š**1</p><p><strong>è§£é‡Šï¼š</strong></p><p><code>nums</code> ä¸­åªæœ‰ä¸€ä¸ªå­æ•°ç»„ <code>[1]</code> ï¼Œæœ€å¤§å…ƒç´ ä¸º 1 ï¼Œç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ 1 ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬è¿”å› 1 ã€‚</p><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 10^5</code></li><li><code>1 &lt;= nums[i] &lt;= 10^9</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ åˆå§‹åŒ–ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨ä¿å­˜æ¯ä¸ªä¸‹æ ‡å¤„ï¼Œå‰é¢åˆ°å®ƒæœ‰å¤šå°‘ä¸ªæ•°å’Œä»–æ»¡è¶³é¢˜ç›®è¦æ±‚çš„ç›¸ç­‰ï¼Œå› ä¸ºæ¯ä¸ªä¸‹æ ‡è‡ªå·±æ»¡è¶³æ¡ä»¶ï¼Œæ‰€ä»¥åˆå§‹åŒ–ä¸º<code>1</code>ã€‚ç„¶åä½¿ç”¨å•è°ƒéé€’å¢æ ˆè¿›è¡Œéå†ï¼Œå¦‚æœæœ‰å¤§çš„å…ƒç´ ï¼Œæ ˆé¡¶å‡ºæ ˆã€‚ç›¸ç­‰çš„å…ƒç´ ï¼Œåˆ™ä½¿ç”¨æ ˆé¡¶ä¸‹æ ‡çš„æ•°é‡ï¼Œç´¯åŠ åˆ°å“ˆå¸Œè¡¨å½“å‰ä¸‹æ ‡å¤„ï¼Œè¡¨ç¤ºå½“å‰ä¸‹æ ‡æœ‰<code>k</code>ä¸ªæ•°èƒ½å¤Ÿé…å¯¹æ»¡è¶³é¢˜ç›®è¦æ±‚ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">numberOfSubarrays</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">long</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">long</span><span class="token punctuation">[</span>nums<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> arr<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">long</span> l <span class="token operator">:</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res <span class="token operator">+=</span> l<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="å˜å½¢é¢˜1" tabindex="-1"><a class="header-anchor" href="#å˜å½¢é¢˜1" aria-hidden="true">#</a> å˜å½¢é¢˜1</h4><p>æ”¹ä¸º<strong>ç¬¬ä¸€ä¸ª</strong> æˆ– <strong>æœ€åä¸€ä¸ª</strong> å…ƒç´ éƒ½æ˜¯è¿™ä¸ªå­æ•°ç»„ä¸­çš„ <strong>æœ€å¤§</strong> å€¼</p><p>åˆ™ä½¿ç”¨å®¹æ–¥åŸç†ï¼Œç¬¬ä¸€ä¸ªæ˜¯æœ€å¤§çš„å­æ•°ç»„æ•° + æœ€åä¸€ä¸ªæ˜¯æœ€å¤§çš„å­æ•°ç»„æ•° - ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªæ˜¯æœ€å¤§çš„å­æ•°ç»„æ•°</p><p>ç¬¬ä¸‰é¡¹å³ä¸ºä¸Šä¸€é¢˜ã€‚å‰ä¸¤é¡¹ä½¿ç”¨åŒä¸€è§£æ³•å³å¯ã€‚è€ƒè™‘ä»<code>i, j</code>ï¼Œå¦‚æœ<code>j &gt; i</code>ï¼Œåˆ™ä¸å†æ»¡è¶³æ¡ä»¶ï¼Œå³è½¬åŒ–ä¸ºæ‰¾ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ•°ï¼Œä½¿ç”¨å•è°ƒæ ˆï¼Œç´¯è®¡ä»<code>i,j - 1</code>åˆ°<code>j - 1</code>çš„è·ç¦»ã€‚</p><hr><h4 id="å˜å½¢é¢˜2" tabindex="-1"><a class="header-anchor" href="#å˜å½¢é¢˜2" aria-hidden="true">#</a> å˜å½¢é¢˜2</h4><p>æ”¹ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æœ€å¤§å€¼ï¼Œæœ€åä¸€ä¸ªå…ƒç´ æ˜¯æœ€å°å€¼ã€‚æˆ–åè¿‡æ¥</p><hr><h3 id="å­—å…¸åºæœ€å°-å¤§" tabindex="-1"><a class="header-anchor" href="#å­—å…¸åºæœ€å°-å¤§" aria-hidden="true">#</a> å­—å…¸åºæœ€å°(å¤§)</h3><blockquote><p>ä½¿ç”¨å•è°ƒæ ˆç»´æŠ¤é€’å¢çš„åºåˆ—ï¼Œå½“é‡åˆ°æ ˆé¡¶æ¯”å½“å‰å…ƒç´ å¤§æ—¶ï¼Œç§»é™¤æ ˆé¡¶ï¼Œå³æˆ‘ä»¬è¦æ‰¾çš„æ˜¯ä¸Šä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œå¯¹å…¶è¿›è¡Œç§»é™¤ï¼Œæœ€åå¾—åˆ°çš„ç­”æ¡ˆå³æ˜¯ä¸€ä¸ªå­—å…¸åºæœ€å°çš„åºåˆ—ã€‚</p></blockquote><h4 id="_402-ç§»æ‰-k-ä½æ•°å­—" tabindex="-1"><a class="header-anchor" href="#_402-ç§»æ‰-k-ä½æ•°å­—" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/remove-k-digits/" target="_blank" rel="noopener noreferrer">402. ç§»æ‰ K ä½æ•°å­—<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªä»¥å­—ç¬¦ä¸²è¡¨ç¤ºçš„éè´Ÿæ•´æ•° <code>num</code> å’Œä¸€ä¸ªæ•´æ•° <code>k</code> ï¼Œç§»é™¤è¿™ä¸ªæ•°ä¸­çš„ <code>k</code> ä½æ•°å­—ï¼Œä½¿å¾—å‰©ä¸‹çš„æ•°å­—æœ€å°ã€‚è¯·ä½ ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›è¿™ä¸ªæœ€å°çš„æ•°å­—ã€‚</p><p><strong>ç¤ºä¾‹ 1 ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnum <span class="token operator">=</span> <span class="token string">&quot;1432219&quot;</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">3</span>
è¾“å‡ºï¼š<span class="token string">&quot;1219&quot;</span>
è§£é‡Šï¼šç§»é™¤æ‰ä¸‰ä¸ªæ•°å­— <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> å’Œ <span class="token number">2</span> å½¢æˆä¸€ä¸ªæ–°çš„æœ€å°çš„æ•°å­— <span class="token number">1219</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2 ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnum <span class="token operator">=</span> <span class="token string">&quot;10200&quot;</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">1</span>
è¾“å‡ºï¼š<span class="token string">&quot;200&quot;</span>
è§£é‡Šï¼šç§»æ‰é¦–ä½çš„ <span class="token number">1</span> å‰©ä¸‹çš„æ•°å­—ä¸º <span class="token number">200.</span> æ³¨æ„è¾“å‡ºä¸èƒ½æœ‰ä»»ä½•å‰å¯¼é›¶ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3 ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnum <span class="token operator">=</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span>
è¾“å‡ºï¼š<span class="token string">&quot;0&quot;</span>
è§£é‡Šï¼šä»åŸæ•°å­—ç§»é™¤æ‰€æœ‰çš„æ•°å­—ï¼Œå‰©ä½™ä¸ºç©ºå°±æ˜¯ <span class="token number">0</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= k &lt;= num.length &lt;= 10^5</code></li><li><code>num</code> ä»…ç”±è‹¥å¹²ä½æ•°å­—ï¼ˆ0 - 9ï¼‰ç»„æˆ</li><li>é™¤äº† <strong>0</strong> æœ¬èº«ä¹‹å¤–ï¼Œ<code>num</code> ä¸å«ä»»ä½•å‰å¯¼é›¶</li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ç»´æŠ¤ä¸€ä¸ªä»æ ˆåº•å‘æ ˆé¡¶å•è°ƒé€’å¢çš„æ ˆï¼Œå³ä½¿ç§»é™¤ä¸Šä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ï¼Œå‰å¯¼<code>0</code>ä¸æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œæœ€åä»é˜Ÿåˆ—ä¸­å–æˆ‘ä»¬è¦æ±‚é•¿åº¦çš„å­ä¸²å³æ˜¯ç­”æ¡ˆã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">removeKdigits</span><span class="token punctuation">(</span><span class="token class-name">String</span> num<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> num<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> k <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> stack<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> num<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stack<span class="token punctuation">.</span><span class="token function">deleteCharAt</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                k<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> num<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token char">&#39;0&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// kåœ¨ç§»é™¤è¿‡ç¨‹ä¸­å·²ç»å˜åŒ–ï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯å¦‚æœæœ¬èº«æ•°å­—å°±æ˜¯é€’å¢çš„ï¼Œæ²¡æœ‰ç§»é™¤å¤Ÿkä½ï¼Œéœ€è¦è¿›è¡Œæˆªå–</span>
        <span class="token class-name">String</span> res <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> stack<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">:</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_316-å»é™¤é‡å¤å­—æ¯" tabindex="-1"><a class="header-anchor" href="#_316-å»é™¤é‡å¤å­—æ¯" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/remove-duplicate-letters/" target="_blank" rel="noopener noreferrer">316. å»é™¤é‡å¤å­—æ¯<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œè¯·ä½ å»é™¤å­—ç¬¦ä¸²ä¸­é‡å¤çš„å­—æ¯ï¼Œä½¿å¾—æ¯ä¸ªå­—æ¯åªå‡ºç°ä¸€æ¬¡ã€‚éœ€ä¿è¯ <strong>è¿”å›ç»“æœçš„å­—å…¸åºæœ€å°</strong>ï¼ˆè¦æ±‚ä¸èƒ½æ‰“ä¹±å…¶ä»–å­—ç¬¦çš„ç›¸å¯¹ä½ç½®ï¼‰ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">&quot;bcabc&quot;</span>
è¾“å‡ºï¼š<span class="token string">&quot;abc&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">&quot;cbacdcbc&quot;</span>
è¾“å‡ºï¼š<span class="token string">&quot;acdb&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= s.length &lt;= 10^4</code></li><li><code>s</code> ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ä½¿ç”¨å“ˆå¸Œè¡¨è®°å½•æ‰€æœ‰å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªå•è°ƒé€’å¢æ ˆä¿å­˜å­—ç¬¦ï¼Œå¦‚æœé‡åˆ°äº†æ›´å°çš„å­—ç¬¦ï¼Œä¸”æ ˆé¡¶åœ¨åé¢è¿˜æœ‰(å³å“ˆå¸Œè¡¨ä¸­è¿˜æœ‰æ¬¡æ•°)ï¼Œåˆ™å‡ºæ ˆã€‚å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°ç»„é¢å¤–ä¿å­˜ä¸€ä¸‹æ¯ä¸ªå­—ç¬¦æ˜¯å¦åœ¨æ ˆä¸­ï¼Œå¦‚æœé‡åˆ°é‡å¤å­—ç¬¦ç›´æ¥è·³è¿‡ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">removeDuplicateLetters</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> s<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            map<span class="token punctuation">[</span>c <span class="token operator">-</span> <span class="token char">&#39;a&#39;</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> s<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> map<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token char">&#39;a&#39;</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> stack<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    stack<span class="token punctuation">.</span><span class="token function">deleteCharAt</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                stack<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            map<span class="token punctuation">[</span>c <span class="token operator">-</span> <span class="token char">&#39;a&#39;</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> stack<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_316-æ‰©å±•-é‡å¤ä¸ªæ•°ä¸è¶…è¿‡ä¸€ä¸ªå®šå€¼" tabindex="-1"><a class="header-anchor" href="#_316-æ‰©å±•-é‡å¤ä¸ªæ•°ä¸è¶…è¿‡ä¸€ä¸ªå®šå€¼" aria-hidden="true">#</a> <a href="https://leetcode.cn/contest/tianchi2022/problems/ev2bru/" target="_blank" rel="noopener noreferrer">316. æ‰©å±•ï¼šé‡å¤ä¸ªæ•°ä¸è¶…è¿‡ä¸€ä¸ªå®šå€¼<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ä¹¦æ¶ä¸Šæœ‰è‹¥å¹²æœ¬ä¹¦ï¼Œä»å·¦è‡³å³çš„ä¹¦ç±ç¼–å·è®°äºæ•´å‹æ•°ç»„ <code>order</code> ä¸­ã€‚ä¸ºä¿è¯ä¹¦ç±å¤šæ ·æ€§ï¼Œç®¡ç†å‘˜æƒ³å–èµ°ä¸€äº›é‡å¤ç¼–å·çš„ä¹¦ç±ï¼Œè¦æ±‚æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p><ul><li>å‰©ä½™ä¹¦æœ¬ä¸­ç›¸åŒç¼–å·çš„ä¹¦æœ¬æ•°é‡å‡ä¸å¤§äº <code>limit</code></li><li>å–èµ°çš„ä¹¦ç±æ•°é‡å°½å¯èƒ½å°‘</li></ul><p>ç”±äºå­˜åœ¨å¤šç§æ•´ç†æ–¹æ¡ˆï¼Œè¯·è¿”å›å‰©ä½™ä¹¦æœ¬ç¼–å·çš„æ’åˆ—ä¸ºã€Œæœ€å°æ’åˆ—ã€çš„æ–¹æ¡ˆã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>ã€Œæœ€å°æ’åˆ—ã€ï¼šè‹¥å¹²æ•°ç»„ä¸­ç¬¬ä¸€ä½æ•°å­—æœ€å°çš„æ•°ç»„ï¼›è‹¥ç¬¬ä¸€ä½æ•°å­—ç›¸åŒï¼Œåˆ™ä¸ºç¬¬äºŒä½æ•°å­—æœ€å°çš„æ•°ç»„ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li></ul><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šorder <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> limit <span class="token operator">=</span> <span class="token number">2</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
è§£é‡Šï¼šorder ä¸­å‡ºç°äº† <span class="token number">3</span> æ¬¡ <span class="token number">5</span> å·ä¹¦ï¼š
æ–¹æ¡ˆ <span class="token number">1</span>ï¼šå»æ‰ order<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> æˆ– order<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>ï¼Œæ‰€å¾—æ’åˆ—ä¸º <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>ï¼›
æ–¹æ¡ˆ <span class="token number">2</span>ï¼šå»æ‰ order<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>ï¼Œæ‰€å¾—æ’åˆ—ä¸º <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>ï¼›
ç»æ¯”è¾ƒï¼Œæœ€ç»ˆè¿”å›æ’åˆ—æœ€å°çš„æ–¹æ¡ˆ <span class="token number">2</span>ï¼š<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šorder <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> limit <span class="token operator">=</span> <span class="token number">3</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
è§£é‡Šï¼šorder ä¸­æ‰€æœ‰ç›¸åŒç¼–å·çš„ä¹¦æœ¬æ•°ç›®å‡æœªè¶…è¿‡ limitï¼Œä¸éœ€è¦å»é™¤ï¼Œè¿”å› <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šorder <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> limit <span class="token operator">=</span> <span class="token number">1</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
è§£é‡Šï¼šåˆ—è¡¨ä¸­ <span class="token number">3</span>ã€<span class="token number">8</span>ã€<span class="token number">9</span> å·æ•°å­—éƒ½å‡ºç°äº† <span class="token number">2</span> æ¬¡ï¼Œå»æ‰ç¼–å·ç›¸åŒçš„ä¹¦åçš„æ’åˆ—ç»“æœä¸­ <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ä¸ºæ’åˆ—æœ€å°çš„ç»“æœã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 4ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šorder <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> limit <span class="token operator">=</span> <span class="token number">2</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= order.length &lt;= 10^5</code></li><li><code>1 &lt;= limit &lt;= 10</code></li><li><code>1 &lt;= order[i] &lt;= 10^6</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ åœ¨ä¸Šä¸€é¢˜ä¸Šæ‹“å±•ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨ä¿å­˜å‡ºç°æ¬¡æ•°å’Œå·²å…¥æ ˆçš„æ¬¡æ•°ï¼Œå¦‚æœæ ˆä¸­ä¿å­˜çš„å…ƒç´ +æœªéå†åˆ°çš„å…ƒç´ å¤§äº<code>limit</code>æ‰å…è®¸ç§»é™¤å…ƒç´ ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">arrangeBookshelf</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> order<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token class-name">IntStream</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>order<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">boxed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token punctuation">.</span><span class="token function">identity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">counting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                temp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">:</span> order<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span><span class="token function">getOrDefault</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">0L</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                        temp<span class="token punctuation">.</span><span class="token function">getOrDefault</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0L</span><span class="token punctuation">)</span> <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> limit <span class="token operator">&amp;&amp;</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">int</span> pop <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    temp<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>pop<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1L</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token operator">::</span><span class="token function">sum</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                temp<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">1L</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token operator">::</span><span class="token function">sum</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            map<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1L</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token operator">::</span><span class="token function">sum</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> res<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_321-æ‹¼æ¥æœ€å¤§æ•°" tabindex="-1"><a class="header-anchor" href="#_321-æ‹¼æ¥æœ€å¤§æ•°" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/create-maximum-number/" target="_blank" rel="noopener noreferrer">321. æ‹¼æ¥æœ€å¤§æ•°<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™å®šé•¿åº¦åˆ†åˆ«ä¸º <code>m</code> å’Œ <code>n</code> çš„ä¸¤ä¸ªæ•°ç»„ï¼Œå…¶å…ƒç´ ç”± <code>0-9</code> æ„æˆï¼Œè¡¨ç¤ºä¸¤ä¸ªè‡ªç„¶æ•°å„ä½ä¸Šçš„æ•°å­—ã€‚ç°åœ¨ä»è¿™ä¸¤ä¸ªæ•°ç»„ä¸­é€‰å‡º <code>k (k &lt;= m + n)</code> ä¸ªæ•°å­—æ‹¼æ¥æˆä¸€ä¸ªæ–°çš„æ•°ï¼Œè¦æ±‚ä»åŒä¸€ä¸ªæ•°ç»„ä¸­å–å‡ºçš„æ•°å­—ä¿æŒå…¶åœ¨åŸæ•°ç»„ä¸­çš„ç›¸å¯¹é¡ºåºã€‚</p><p>æ±‚æ»¡è¶³è¯¥æ¡ä»¶çš„æœ€å¤§æ•°ã€‚ç»“æœè¿”å›ä¸€ä¸ªè¡¨ç¤ºè¯¥æœ€å¤§æ•°çš„é•¿åº¦ä¸º <code>k</code> çš„æ•°ç»„ã€‚</p><p><strong>è¯´æ˜:</strong> è¯·å°½å¯èƒ½åœ°ä¼˜åŒ–ä½ ç®—æ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">è¾“å…¥</span><span class="token operator">:</span>
nums1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
nums2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
k <span class="token operator">=</span> <span class="token number">5</span>
<span class="token literal-property property">è¾“å‡º</span><span class="token operator">:</span>
<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2:</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">è¾“å…¥</span><span class="token operator">:</span>
nums1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>
nums2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
k <span class="token operator">=</span> <span class="token number">5</span>
<span class="token literal-property property">è¾“å‡º</span><span class="token operator">:</span>
<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3:</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">è¾“å…¥</span><span class="token operator">:</span>
nums1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>
nums2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>
k <span class="token operator">=</span> <span class="token number">3</span>
<span class="token literal-property property">è¾“å‡º</span><span class="token operator">:</span>
<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code></code></pre><div class="line-numbers" aria-hidden="true"></div></div><hr><h4 id="_1673-æ‰¾å‡ºæœ€å…·ç«äº‰åŠ›çš„å­åºåˆ—" tabindex="-1"><a class="header-anchor" href="#_1673-æ‰¾å‡ºæœ€å…·ç«äº‰åŠ›çš„å­åºåˆ—" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/find-the-most-competitive-subsequence/" target="_blank" rel="noopener noreferrer">1673. æ‰¾å‡ºæœ€å…·ç«äº‰åŠ›çš„å­åºåˆ—<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ­£æ•´æ•° <code>k</code> ï¼Œè¿”å›é•¿åº¦ä¸º <code>k</code> ä¸”æœ€å…· <strong>ç«äº‰åŠ›</strong> çš„ <code>nums</code> å­åºåˆ—ã€‚</p><p>æ•°ç»„çš„å­åºåˆ—æ˜¯ä»æ•°ç»„ä¸­åˆ é™¤ä¸€äº›å…ƒç´ ï¼ˆå¯èƒ½ä¸åˆ é™¤å…ƒç´ ï¼‰å¾—åˆ°çš„åºåˆ—ã€‚</p><p>åœ¨å­åºåˆ— <code>a</code> å’Œå­åºåˆ— <code>b</code> ç¬¬ä¸€ä¸ªä¸ç›¸åŒçš„ä½ç½®ä¸Šï¼Œå¦‚æœ <code>a</code> ä¸­çš„æ•°å­—å°äº <code>b</code> ä¸­å¯¹åº”çš„æ•°å­—ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°å­åºåˆ— <code>a</code> æ¯”å­åºåˆ— <code>b</code>ï¼ˆç›¸åŒé•¿åº¦ä¸‹ï¼‰æ›´å…· <strong>ç«äº‰åŠ›</strong> ã€‚ ä¾‹å¦‚ï¼Œ<code>[1,3,4]</code> æ¯” <code>[1,3,5]</code> æ›´å…·ç«äº‰åŠ›ï¼Œåœ¨ç¬¬ä¸€ä¸ªä¸ç›¸åŒçš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯æœ€åä¸€ä¸ªä½ç½®ä¸Šï¼Œ <code>4</code> å°äº <code>5</code> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
è§£é‡Šï¼šåœ¨æ‰€æœ‰å¯èƒ½çš„å­åºåˆ—é›†åˆ <span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">}</span> ä¸­ï¼Œ<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> æœ€å…·ç«äº‰åŠ›ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">4</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 10^5</code></li><li><code>0 &lt;= nums[i] &lt;= 10^9</code></li><li><code>1 &lt;= k &lt;= nums.length</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code></code></pre><div class="line-numbers" aria-hidden="true"></div></div><hr><h4 id="_2030-å«ç‰¹å®šå­—æ¯çš„æœ€å°å­åºåˆ—" tabindex="-1"><a class="header-anchor" href="#_2030-å«ç‰¹å®šå­—æ¯çš„æœ€å°å­åºåˆ—" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/smallest-k-length-subsequence-with-occurrences-of-a-letter/" target="_blank" rel="noopener noreferrer">2030. å«ç‰¹å®šå­—æ¯çš„æœ€å°å­åºåˆ—<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œä¸€ä¸ªæ•´æ•° <code>k</code> ï¼Œä¸€ä¸ªå­—æ¯ <code>letter</code> ä»¥åŠå¦ä¸€ä¸ªæ•´æ•° <code>repetition</code> ã€‚</p><p>è¿”å› <code>s</code> ä¸­é•¿åº¦ä¸º <code>k</code> ä¸” <strong>å­—å…¸åºæœ€å°</strong> çš„å­åºåˆ—ï¼Œè¯¥å­åºåˆ—åŒæ—¶åº”æ»¡è¶³å­—æ¯ <code>letter</code> å‡ºç° <strong>è‡³å°‘</strong> <code>repetition</code> æ¬¡ã€‚ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹æ»¡è¶³ <code>letter</code> åœ¨ <code>s</code> ä¸­å‡ºç° <strong>è‡³å°‘</strong> <code>repetition</code> æ¬¡ã€‚</p><p><strong>å­åºåˆ—</strong> æ˜¯ç”±åŸå­—ç¬¦ä¸²åˆ é™¤ä¸€äº›ï¼ˆæˆ–ä¸åˆ é™¤ï¼‰å­—ç¬¦ä¸”ä¸æ”¹å˜å‰©ä½™å­—ç¬¦é¡ºåºå¾—åˆ°çš„å‰©ä½™å­—ç¬¦ä¸²ã€‚</p><p>å­—ç¬¦ä¸² <code>a</code> å­—å…¸åºæ¯”å­—ç¬¦ä¸² <code>b</code> å°çš„å®šä¹‰ä¸ºï¼šåœ¨ <code>a</code> å’Œ <code>b</code> å‡ºç°ä¸åŒå­—ç¬¦çš„ç¬¬ä¸€ä¸ªä½ç½®ä¸Šï¼Œå­—ç¬¦ä¸² <code>a</code> çš„å­—ç¬¦åœ¨å­—æ¯è¡¨ä¸­çš„é¡ºåºæ—©äºå­—ç¬¦ä¸² <code>b</code> çš„å­—ç¬¦ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">&quot;leet&quot;</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> letter <span class="token operator">=</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> repetition <span class="token operator">=</span> <span class="token number">1</span>
è¾“å‡ºï¼š<span class="token string">&quot;eet&quot;</span>
è§£é‡Šï¼šå­˜åœ¨ <span class="token number">4</span> ä¸ªé•¿åº¦ä¸º <span class="token number">3</span> ï¼Œä¸”æ»¡è¶³å­—æ¯ <span class="token string">&#39;e&#39;</span> å‡ºç°è‡³å°‘ <span class="token number">1</span> æ¬¡çš„å­åºåˆ—ï¼š
<span class="token operator">-</span> <span class="token string">&quot;lee&quot;</span>ï¼ˆ<span class="token string">&quot;leet&quot;</span>ï¼‰
<span class="token operator">-</span> <span class="token string">&quot;let&quot;</span>ï¼ˆ<span class="token string">&quot;leet&quot;</span>ï¼‰
<span class="token operator">-</span> <span class="token string">&quot;let&quot;</span>ï¼ˆ<span class="token string">&quot;leet&quot;</span>ï¼‰
<span class="token operator">-</span> <span class="token string">&quot;eet&quot;</span>ï¼ˆ<span class="token string">&quot;leet&quot;</span>ï¼‰
å…¶ä¸­å­—å…¸åºæœ€å°çš„å­åºåˆ—æ˜¯ <span class="token string">&quot;eet&quot;</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/smallest-k-length-subsequence.png" alt="example-2" tabindex="0" loading="lazy"><figcaption>example-2</figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">&quot;leetcode&quot;</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> letter <span class="token operator">=</span> <span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> repetition <span class="token operator">=</span> <span class="token number">2</span>
è¾“å‡ºï¼š<span class="token string">&quot;ecde&quot;</span>
è§£é‡Šï¼š<span class="token string">&quot;ecde&quot;</span> æ˜¯é•¿åº¦ä¸º <span class="token number">4</span> ä¸”æ»¡è¶³å­—æ¯ <span class="token string">&quot;e&quot;</span> å‡ºç°è‡³å°‘ <span class="token number">2</span> æ¬¡çš„å­—å…¸åºæœ€å°çš„å­åºåˆ—ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šs <span class="token operator">=</span> <span class="token string">&quot;bb&quot;</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> letter <span class="token operator">=</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> repetition <span class="token operator">=</span> <span class="token number">2</span>
è¾“å‡ºï¼š<span class="token string">&quot;bb&quot;</span>
è§£é‡Šï¼š<span class="token string">&quot;bb&quot;</span> æ˜¯å”¯ä¸€ä¸€ä¸ªé•¿åº¦ä¸º <span class="token number">2</span> ä¸”æ»¡è¶³å­—æ¯ <span class="token string">&quot;b&quot;</span> å‡ºç°è‡³å°‘ <span class="token number">2</span> æ¬¡çš„å­åºåˆ—ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= repetition &lt;= k &lt;= s.length &lt;= 5 * 10^4</code></li><li><code>s</code> ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</li><li><code>letter</code> æ˜¯ä¸€ä¸ªå°å†™è‹±æ–‡å­—æ¯ï¼Œåœ¨ <code>s</code> ä¸­è‡³å°‘å‡ºç° <code>repetition</code> æ¬¡</li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code></code></pre><div class="line-numbers" aria-hidden="true"></div></div><hr><h3 id="è´¡çŒ®æ³•" tabindex="-1"><a class="header-anchor" href="#è´¡çŒ®æ³•" aria-hidden="true">#</a> è´¡çŒ®æ³•</h3><h4 id="_907-å­æ•°ç»„çš„æœ€å°å€¼ä¹‹å’Œ" tabindex="-1"><a class="header-anchor" href="#_907-å­æ•°ç»„çš„æœ€å°å€¼ä¹‹å’Œ" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/sum-of-subarray-minimums/description/" target="_blank" rel="noopener noreferrer">907. å­æ•°ç»„çš„æœ€å°å€¼ä¹‹å’Œ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>arr</code>ï¼Œæ‰¾åˆ° <code>min(b)</code> çš„æ€»å’Œï¼Œå…¶ä¸­ <code>b</code> çš„èŒƒå›´ä¸º <code>arr</code> çš„æ¯ä¸ªï¼ˆè¿ç»­ï¼‰å­æ•°ç»„ã€‚</p><p>ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œå› æ­¤ <strong>è¿”å›ç­”æ¡ˆæ¨¡</strong> <code>10^9 + 7</code> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šarr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">17</span>
è§£é‡Šï¼š
å­æ•°ç»„ä¸º <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>ï¼Œ<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>ï¼Œ<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>ï¼Œ<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>ï¼Œ<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>ï¼Œ<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>ï¼Œ<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>ï¼Œ<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>ï¼Œ<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>ï¼Œ<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>ã€‚ 
æœ€å°å€¼ä¸º <span class="token number">3</span>ï¼Œ<span class="token number">1</span>ï¼Œ<span class="token number">2</span>ï¼Œ<span class="token number">4</span>ï¼Œ<span class="token number">1</span>ï¼Œ<span class="token number">1</span>ï¼Œ<span class="token number">2</span>ï¼Œ<span class="token number">1</span>ï¼Œ<span class="token number">1</span>ï¼Œ<span class="token number">1</span>ï¼Œå’Œä¸º <span class="token number">17</span>ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šarr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">81</span><span class="token punctuation">,</span><span class="token number">94</span><span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">444</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤º</strong>ï¼š</p><ul><li><code>1 &lt;= arr.length &lt;= 3 * 10^4</code></li><li><code>1 &lt;= arr[i] &lt;= 3 * 10^4</code></li></ul><blockquote><ul><li>æç¤º 1ï¼šè®¡ç®—ä»¥<code>arr[i]</code>ä¸ºæœ€å°å€¼çš„å­æ•°ç»„çš„ä¸ªæ•°</li></ul><p>â€‹ æš´åŠ›åšæ³•æ˜¯æšä¸¾æ‰€æœ‰å­æ•°ç»„ï¼Œç®—å‡ºæ¯ä¸ªå­æ•°ç»„çš„æœ€å°å€¼ï¼Œä½†è¿™å¤ªæ…¢äº†ã€‚ä¸å¦¨æ¢ä¸ªè§†è§’ï¼Œå¯¹æ¯ä¸ªæ•°ï¼Œç®—å‡ºå®ƒæ˜¯å“ªäº›å­æ•°ç»„çš„æœ€å°å€¼ã€‚</p><p>â€‹ ä¾‹å¦‚<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="italic">arr</mtext><mo>=</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\textit{arr}=[1,4,2,3,1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord text"><span class="mord textit">arr</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>ï¼Œå…¶ä¸­<code>2</code> æ˜¯å­æ•°ç»„ <code>[2]</code>ï¼Œ<code>[4,2]</code>ï¼Œ<code>[2,3</code>ï¼Œ<code>[4,2,3]</code> çš„æœ€å°å€¼ï¼Œé‚£ä¹ˆ<code>2</code>å¯¹ç­”æ¡ˆçš„<strong>è´¡çŒ®</strong>å°±æ˜¯ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>â‹…</mo><mn>4</mn><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">2\cdot4=8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span>ã€‚</p><p>â€‹ ç”±äºä»¥<code>2</code>ä¸ºæœ€å°å€¼çš„å­æ•°ç»„ï¼Œç»å¯¹ä¸èƒ½åŒ…å«æ¯”<code>2</code>å°çš„æ•°å­—ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°<code>2</code> å·¦å³ä¸¤ä¾§æ¯”å®ƒå°çš„æ•°çš„ä¸‹æ ‡ï¼Œä»è€Œç¡®å®šå­æ•°ç»„çš„<strong>è¾¹ç•Œ</strong>ã€‚<code>2</code>å¯¹åº”çš„è¾¹ç•Œä¸ºå¼€åŒºé—´ <code>(0,4)</code>ï¼Œå³é—­åŒºé—´<code>[1,3]</code>ï¼Œåªè¦åœ¨é—­åŒºé—´<code>[1,3]</code>èŒƒå›´å†…ä¸”åŒ…å«ä¸‹æ ‡<code>2</code>çš„å­æ•°ç»„ï¼Œå°±æ˜¯ä»¥<code>2</code>ä¸ºæœ€å°å€¼çš„å­æ•°ç»„ã€‚</p><p>ä¸€èˆ¬åœ°ï¼Œè®¾ <code>arr[i]</code> å¯¹åº”çš„è¾¹ç•Œä¸º<strong>å¼€åŒºé—´</strong><code>(L,R)</code>ï¼Œç”±äºå­æ•°ç»„å¿…é¡»åŒ…å«<code>arr[i]</code>ï¼š</p><ul><li>å­æ•°ç»„çš„å·¦ç«¯ç‚¹å¯ä»¥æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>L</mi><mo>+</mo><mn>2</mn><mo separator="true">,</mo><mo>â‹¯</mo><mtext>â€‰</mtext><mo separator="true">,</mo><mi>i</mi></mrow><annotation encoding="application/x-tex">L+1,L+2,\cdots,i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span></span></span></span>ï¼Œå…±æœ‰<code>i - L</code>ä¸ªï¼›</li><li>å­æ•°ç»„çš„å³ç«¯ç‚¹å¯ä»¥æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo separator="true">,</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mo>â‹¯</mo><mtext>â€‰</mtext><mo separator="true">,</mo><mi>R</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i,i+1,\cdots,R-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>ï¼Œå…±æœ‰<code>R - i</code>ä¸ªã€‚</li></ul><p>å› æ­¤ï¼Œ<strong>åœ¨<code>arr</code>ä¸å«é‡å¤å…ƒç´ çš„å‰æä¸‹</strong>ï¼Œæ ¹æ®<strong>ä¹˜æ³•åŸç†</strong>ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºå¦‚ä¸‹ç»“è®ºï¼š</p><p>ä»¥<code>arr[i]</code>ä¸ºæœ€å°å€¼çš„å­æ•°ç»„çš„ä¸ªæ•°ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo>âˆ’</mo><mi>L</mi><mo stretchy="false">)</mo><mo>â‹…</mo><mo stretchy="false">(</mo><mi>R</mi><mo>âˆ’</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i-L)\cdot(R-i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>ï¼Œå¯¹ç­”æ¡ˆçš„è´¡çŒ®ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="italic">arr</mtext><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>â‹…</mo><mo stretchy="false">(</mo><mi>i</mi><mo>âˆ’</mo><mi>L</mi><mo stretchy="false">)</mo><mo>â‹…</mo><mo stretchy="false">(</mo><mi>R</mi><mo>âˆ’</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\textit{arr}[i]\cdot(i-L)\cdot(R-i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord textit">arr</span></span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>ã€‚</p><blockquote><p>æ³¨ï¼šå¦‚æœå·¦ä¾§æ²¡æœ‰æ¯”<code>arr[i]</code>å°çš„å…ƒç´ ï¼Œåˆ™<code>L = -1</code>ï¼›å¦‚æœå³ä¾§æ²¡æœ‰æ¯”<code>arr[i]</code>å°çš„å…ƒç´ ï¼Œåˆ™<code>R = n</code>ã€‚</p></blockquote><p>ä¸‹æ–‡è®¨è®ºçš„è¾¹ç•Œå‡æŒ‡çš„æ˜¯å¼€åŒºé—´<code>(L, R)</code>ã€‚</p><ul><li>æç¤º 2ï¼šä¿®æ”¹è¾¹ç•Œå®šä¹‰ï¼Œé¿å…é‡å¤ç»Ÿè®¡å­æ•°ç»„</li></ul><p>å¦‚æœ<code>arr[i]</code>æœ‰é‡å¤å…ƒç´ ï¼Œä¾‹å¦‚<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="italic">arr</mtext><mo>=</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\textit{arr}=[1,2,4,2,3,1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord text"><span class="mord textit">arr</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ª<code>2</code>å’Œç¬¬äºŒä¸ª<code>2</code>å¯¹åº”çš„è¾¹ç•Œéƒ½æ˜¯å¼€åŒºé—´<code>(0,5)</code>ï¼Œå­æ•°ç»„<code>[2,4,2,3]</code>éƒ½åŒ…å«è¿™ä¸¤ä¸ª<code>2</code>ï¼Œè¿™æ ·åœ¨è®¡ç®—ç­”æ¡ˆæ—¶å°±ä¼šé‡å¤ç»Ÿè®¡åŒä¸€ä¸ªå­æ•°ç»„ï¼Œç®—å‡ºé”™è¯¯çš„ç»“æœã€‚</p><p>ä¸ºé¿å…é‡å¤ç»Ÿè®¡ï¼Œå¯ä»¥ä¿®æ”¹è¾¹ç•Œçš„å®šä¹‰ï¼ŒæŠŠå³è¾¹ç•Œæ”¹ä¸ºã€Œæ‰¾<strong>å°äºæˆ–ç­‰äº</strong><code>arr[i]</code>çš„æ•°çš„ä¸‹æ ‡ã€ï¼Œé‚£ä¹ˆï¼š</p><ul><li>ç¬¬ä¸€ä¸ª<code>2</code>å¯¹åº”çš„è¾¹ç•Œæ˜¯<code>(0,3)</code>ï¼Œå­æ•°ç»„éœ€è¦åœ¨<code>(0,3)</code>èŒƒå›´å†…ä¸”åŒ…å«ä¸‹æ ‡<code>1</code>ï¼›</li><li>ç¬¬äºŒä¸ª<code>2</code>å¯¹åº”çš„è¾¹ç•Œæ˜¯<code>(0,5)</code>ï¼Œå­æ•°ç»„éœ€è¦åœ¨<code>(0,5)</code>èŒƒå›´å†…ä¸”åŒ…å«ä¸‹æ ‡<code>3</code>ã€‚</li></ul><p>è¿™æ ·ä»¥ç¬¬ä¸€ä¸ª<code>2</code>ä¸ºæœ€å°å€¼çš„å­æ•°ç»„ï¼Œå°±ä¸ä¼šã€Œè¶Šç•Œã€åŒ…å«ç¬¬äºŒä¸ª<code>2</code>äº†ï¼Œä»è€Œè§£å†³äº†é‡å¤ç»Ÿè®¡å­æ•°ç»„çš„é—®é¢˜ã€‚</p><blockquote><p>æ³¨ï¼šä¹Ÿå¯ä»¥æŠŠå·¦è¾¹ç•Œæ”¹ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¤</mo></mrow><annotation encoding="application/x-tex">\le</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¤</span></span></span></span>ï¼Œå³è¾¹ç•Œä¸å˜ï¼ˆä»ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo></mrow><annotation encoding="application/x-tex">&lt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span></span></span></span>ï¼‰ã€‚æ ¹æ®å¯¹ç§°æ€§ï¼Œç®—å‡ºæ¥çš„ç­”æ¡ˆæ˜¯ä¸€æ ·çš„ã€‚</p></blockquote><ul><li>æç¤º 3ï¼šé«˜æ•ˆè®¡ç®—è¾¹ç•Œ</li></ul><p>æœ€åéœ€è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼Œå¦‚ä½•é«˜æ•ˆè®¡ç®—æ¯ä¸ª<code>arr[i]</code>å¯¹åº”çš„å·¦å³è¾¹ç•Œï¼Ÿ</p><p>ä»¥è®¡ç®—å·¦è¾¹ç•Œä¸ºä¾‹ï¼Œä»å·¦åˆ°å³éå†<code>arr</code>ï¼ŒåŒæ—¶ç”¨æŸä¸ªåˆé€‚çš„æ•°æ®ç»“æ„ç»´æŠ¤éå†è¿‡çš„å…ƒç´ ï¼Œå¹¶<strong>åŠæ—¶ç§»é™¤æ— ç”¨çš„å…ƒç´ </strong>ï¼Œå¦‚ä¸‹å›¾ï¼ˆ<code>arr</code>ç®€å†™ä¸º<code>a</code>ï¼‰ï¼š</p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/1666863950-pzFCnp-907-2.png" alt="907-2.png" tabindex="0" loading="lazy"><figcaption>907-2.png</figcaption></figure><p>ç§»é™¤æ— ç”¨å…ƒç´ åï¼Œå†æŠŠ<code>arr[i]</code>åŠ åˆ°è¿™ä¸ªæ•°æ®ç»“æ„ä¸­ã€‚</p><p>ç”±äºè¯¥ä¼˜åŒ–ä¿è¯äº†æ•°æ®ç»“æ„ä¸­çš„å…ƒç´ ä¼šå½¢æˆä¸€ä¸ªé€’å¢çš„åºåˆ—ï¼Œå› æ­¤æˆ‘ä»¬ç§»é™¤çš„æ˜¯æ•°æ®ç»“æ„ä¸­çš„æœ€å³ç«¯çš„è‹¥å¹²å…ƒç´ ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œå®ƒæ”¯æŒç§»é™¤æœ€å³ç«¯çš„å…ƒç´ ï¼Œä»¥åŠåœ¨æœ€å³ç«¯æ·»åŠ å…ƒç´ ï¼Œæ•…é€‰ç”¨<strong>æ ˆ</strong>ã€‚</p><p>ç§»é™¤æ ˆä¸­<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¥</mo><mtext mathvariant="italic">arr</mtext><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\ge\textit{arr}[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord textit">arr</span></span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span>çš„å…ƒç´ åï¼Œæ ˆé¡¶çš„ä¸‹æ ‡å°±æ˜¯<code>arr[i]</code>çš„å·¦è¾¹ç•Œï¼Œå¦‚æœæ­¤æ—¶æ ˆä¸ºç©ºï¼Œé‚£ä¹ˆå·¦è¾¹ç•Œä¸º<code>-1</code>ã€‚</p><blockquote><p>æ³¨ 1ï¼šåœ¨éå†è¿‡ç¨‹ä¸­ä¼šç»´æŠ¤ä¸€ä¸ªæ ˆï¼Œç§»é™¤çš„æ˜¯å½“å‰çš„æ ˆé¡¶å…ƒç´ ã€‚éå†åˆ°<code>arr[i]</code>æ—¶ï¼Œ<code>arr[i]</code>åŠå…¶å³ä¾§å…ƒç´ å°šæœªå…¥æ ˆã€‚</p><p>æ³¨ 2ï¼šç”±äºæ ˆå†…å…ƒç´ å§‹ç»ˆä¿æŒå•è°ƒé€’å¢ï¼Œå› æ­¤è¿™ç§æ•°æ®ç»“æ„ä¹Ÿå«åš<strong>å•è°ƒæ ˆ</strong>ã€‚</p></blockquote><p>å³è¾¹ç•Œçš„è®¡ç®—æ˜¯ç±»ä¼¼çš„ï¼Œä»å³å¾€å·¦éå†<code>arr</code>å¯ä»¥ç®—å‡ºï¼ˆæ ¹æ®æç¤º 2ï¼Œéœ€è¦ä¿®æ”¹ä¸€ä¸‹æ¯”è¾ƒçš„ç¬¦å·ï¼Œå…·ä½“è§ä»£ç ï¼‰ã€‚</p><p>ç®—å‡ºå·¦å³è¾¹ç•Œåï¼Œæ ¹æ®æç¤º 1 çš„å…¬å¼ç´¯åŠ æ¯ä¸ª<code>arr[i]</code>çš„è´¡çŒ®ï¼Œå³ä¸ºç­”æ¡ˆã€‚</p></blockquote><ul><li>ä¸‰æ¬¡éå†</li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ä½¿ç”¨ä¸¤ä¸ªæ•°ç»„ä¿å­˜ä»¥ä¸‹æ ‡<code>i</code>ä¸ºæœ€å°å€¼æ—¶çš„å·¦å³è¾¹ç•Œï¼Œå·¦è¾¹ç•Œä¿å­˜ä¸¥æ ¼å°äºçš„ä¸‹æ ‡ï¼Œå³è¾¹ç•Œä¿å­˜<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¤</mo></mrow><annotation encoding="application/x-tex">\le</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¤</span></span></span></span>çš„ä¸‹æ ‡ï¼Œä½¿ç”¨å•è°ƒé€’å¢æ ˆæ¥è®¡ç®—ä¸‹æ ‡ï¼Œæ‰€ä»¥è®¡ç®—å·¦éç•Œæ—¶éœ€è¦ä½¿ç”¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¤</mo></mrow><annotation encoding="application/x-tex">\le</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¤</span></span></span></span>æ¥ç§»é™¤æ ˆé¡¶çš„ä¸‹æ ‡ï¼Œä¿è¯æ ˆå†…ä¿å­˜çš„æ˜¯ä¸¥æ ¼å°äºçš„ä¸‹æ ‡ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">sumSubarrayMins</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">long</span> mod <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> <span class="token number">1e9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">,</span> res <span class="token operator">=</span> <span class="token number">0L</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> left <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> arr<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            left<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        stack<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            right<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> left<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>right<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>res <span class="token operator">%</span> mod<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸¤æ¬¡éå†</li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ æ³¨æ„åˆ°åœ¨è®¡ç®—<code>left</code>çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ ˆé¡¶å…ƒç´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¥</mo><mtext mathvariant="italic">arr</mtext><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\ge\textit{arr}[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord textit">arr</span></span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span>ï¼Œé‚£ä¹ˆ<code>i</code>å°±æ˜¯æ ˆé¡¶å…ƒç´ çš„å³è¾¹ç•Œï¼Œå› æ­¤å‰ä¸¤ä¸ªå¾ªç¯å¯ä»¥åˆå¹¶ã€‚</p><p>â€‹ æ›´è¯¦ç»†çš„è§£é‡Šï¼šå¯¹äºæ ˆé¡¶å…ƒç´ <code>t</code>ï¼Œå¦‚æœ<code>t</code>å³ä¾§æœ‰å¤šä¸ªå°äºæˆ–ç­‰äº<code>t</code>çš„å…ƒç´ ï¼Œé‚£ä¹ˆ<code>t</code>åªä¼šå› ä¸º<strong>å³ä¾§ç¬¬ä¸€ä¸ª</strong>å°äºæˆ–ç­‰äº<code>t</code>çš„å…ƒç´ è€Œå‡ºæ ˆï¼Œè¿™æ°å¥½ç¬¦åˆå³è¾¹ç•Œçš„å®šä¹‰ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">sumSubarrayMins</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">long</span> mod <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> <span class="token number">1e9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">,</span> res <span class="token operator">=</span> <span class="token number">0L</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> left <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>right<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> arr<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                right<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            left<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> left<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>right<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>res <span class="token operator">%</span> mod<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸€æ¬¡éå†</li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ è¿›ä¸€æ­¥åœ°ï¼Œç”±äºæ ˆé¡¶ä¸‹é¢çš„å…ƒç´ æ­£å¥½ä¹Ÿæ˜¯æ ˆé¡¶çš„å·¦è¾¹ç•Œï¼Œæ‰€ä»¥ç”šè‡³è¿<code>left</code>å’Œ<code>right</code>æ•°ç»„éƒ½å¯ä»¥ä¸è¦ï¼Œç›´æ¥åœ¨å‡ºæ ˆçš„æ—¶å€™è®¡ç®—è´¡çŒ®ã€‚</p><p>ä¸ºç®€åŒ–ä»£ç é€»è¾‘ï¼Œå¯ä»¥åœ¨éå†å‰ï¼Œå¾€<code>arr</code>æœ«å°¾å’Œæ ˆé¡¶åˆ†åˆ«åŠ ä¸€ä¸ª<code>-1</code>ï¼Œå½“ä½œå“¨å…µã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">sumSubarrayMins</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">long</span> mod <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> <span class="token number">1e9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">,</span> res <span class="token operator">=</span> <span class="token number">0L</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// rightåšä¸ºå¼€åŒºé—´çš„å³è¾¹ç•Œæœ‰å¯èƒ½ç­‰äºlengthï¼Œæ‰€ä»¥æœ‰ç­‰å·</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;=</span> length<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// å½“rightåˆ°è¾¾lengthæ—¶ï¼Œå€¼èµ‹ä¸º-1ï¼Œæ˜¯ä¸ºäº†è®©æ ˆé¡¶å…ƒç´ ï¼Œå³æ•°ç»„ä¸­æœ€å°çš„å…ƒç´ å‡ºæ ˆï¼Œè®¡ç®—ä»–çš„è´¡çŒ®</span>
            <span class="token keyword">int</span> temp <span class="token operator">=</span> right <span class="token operator">&lt;</span> length <span class="token operator">?</span> arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> temp <span class="token operator">&lt;=</span> arr<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> i <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                res <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>res <span class="token operator">%</span> mod<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_2104-å­æ•°ç»„èŒƒå›´å’Œ" tabindex="-1"><a class="header-anchor" href="#_2104-å­æ•°ç»„èŒƒå›´å’Œ" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/sum-of-subarray-ranges/" target="_blank" rel="noopener noreferrer">2104. å­æ•°ç»„èŒƒå›´å’Œ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ã€‚<code>nums</code> ä¸­ï¼Œå­æ•°ç»„çš„ <strong>èŒƒå›´</strong> æ˜¯å­æ•°ç»„ä¸­æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ çš„å·®å€¼ã€‚</p><p>è¿”å› <code>nums</code> ä¸­ <strong>æ‰€æœ‰</strong> å­æ•°ç»„èŒƒå›´çš„ <strong>å’Œ</strong> ã€‚</p><p>å­æ•°ç»„æ˜¯æ•°ç»„ä¸­ä¸€ä¸ªè¿ç»­ <strong>éç©º</strong> çš„å…ƒç´ åºåˆ—ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">4</span>
è§£é‡Šï¼šnums çš„ <span class="token number">6</span> ä¸ªå­æ•°ç»„å¦‚ä¸‹æ‰€ç¤ºï¼š
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>ï¼ŒèŒƒå›´ <span class="token operator">=</span> æœ€å¤§ <span class="token operator">-</span> æœ€å° <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">0</span> 
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>ï¼ŒèŒƒå›´ <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>ï¼ŒèŒƒå›´ <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>ï¼ŒèŒƒå›´ <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>ï¼ŒèŒƒå›´ <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>ï¼ŒèŒƒå›´ <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">2</span>
æ‰€æœ‰èŒƒå›´çš„å’Œæ˜¯ <span class="token number">0</span> <span class="token operator">+</span> <span class="token number">0</span> <span class="token operator">+</span> <span class="token number">0</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">4</span>
è§£é‡Šï¼šnums çš„ <span class="token number">6</span> ä¸ªå­æ•°ç»„å¦‚ä¸‹æ‰€ç¤ºï¼š
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>ï¼ŒèŒƒå›´ <span class="token operator">=</span> æœ€å¤§ <span class="token operator">-</span> æœ€å° <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>ï¼ŒèŒƒå›´ <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>ï¼ŒèŒƒå›´ <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>ï¼ŒèŒƒå›´ <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>ï¼ŒèŒƒå›´ <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">-</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>ï¼ŒèŒƒå›´ <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">2</span>
æ‰€æœ‰èŒƒå›´çš„å’Œæ˜¯ <span class="token number">0</span> <span class="token operator">+</span> <span class="token number">0</span> <span class="token operator">+</span> <span class="token number">0</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">0</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">59</span>
è§£é‡Šï¼šnums ä¸­æ‰€æœ‰å­æ•°ç»„èŒƒå›´çš„å’Œæ˜¯ <span class="token number">59</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 1000</code></li><li><code>-10^9 &lt;= nums[i] &lt;= 10^9</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ æš´åŠ›æšä¸¾ï¼Œå…ˆæšä¸¾å·¦è¾¹ç•Œï¼Œç„¶åæšä¸¾å³è¾¹ç•Œï¼Œæ¯æ¬¡è®¡ç®—æœ€å¤§æœ€å°å€¼ï¼Œç„¶åæ›´æ–°ç­”æ¡ˆã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">subArrayRanges</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">long</span> res <span class="token operator">=</span> <span class="token number">0L</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> min <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> max <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                min <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                max <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>max<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                res <span class="token operator">+=</span> max <span class="token operator">-</span> min<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ å•è°ƒæ ˆï¼Œå‚è€ƒ907ï¼Œåˆ†åˆ«è®¡ç®—æœ€å¤§å€¼çš„å’Œä¸æœ€å°å€¼çš„å’Œï¼Œç„¶åè®¡ç®—å·®å€¼ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">subArrayRanges</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">getMaxSum</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">getMinSum</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">long</span> <span class="token function">getMaxSum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">long</span> res <span class="token operator">=</span> <span class="token number">0L</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> temp <span class="token operator">=</span> right <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length <span class="token operator">?</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> temp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> i <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                res <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">long</span> <span class="token function">getMinSum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">long</span> res <span class="token operator">=</span> <span class="token number">0L</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> temp <span class="token operator">=</span> right <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length <span class="token operator">?</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> temp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> i <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                res <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_795-åŒºé—´å­æ•°ç»„ä¸ªæ•°" tabindex="-1"><a class="header-anchor" href="#_795-åŒºé—´å­æ•°ç»„ä¸ªæ•°" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/number-of-subarrays-with-bounded-maximum/description/" target="_blank" rel="noopener noreferrer">795. åŒºé—´å­æ•°ç»„ä¸ªæ•°<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸¤ä¸ªæ•´æ•°ï¼š<code>left</code> åŠ <code>right</code> ã€‚æ‰¾å‡º <code>nums</code> ä¸­è¿ç»­ã€éç©ºä¸”å…¶ä¸­æœ€å¤§å…ƒç´ åœ¨èŒƒå›´ <code>[left, right]</code> å†…çš„å­æ•°ç»„ï¼Œå¹¶è¿”å›æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚</p><p>ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ä¿è¯ç»“æœç¬¦åˆ <strong>32-bit</strong> æ•´æ•°èŒƒå›´ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> left <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">3</span>
è¾“å‡ºï¼š<span class="token number">3</span>
è§£é‡Šï¼šæ»¡è¶³æ¡ä»¶çš„ä¸‰ä¸ªå­æ•°ç»„ï¼š<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> left <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">8</span>
è¾“å‡ºï¼š<span class="token number">7</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤º</strong>ï¼š</p><ul><li><code>1 &lt;= nums.length &lt;= 10^5</code></li><li><code>0 &lt;= nums[i] &lt;= 10^9</code></li><li><code>0 &lt;= left &lt;= right &lt;= 10^9</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ç±»ä¼¼907ï¼Œä½¿ç”¨å•è°ƒé€’å‡æ ˆï¼Œæ±‚å‡ºæ¯ä¸ªä¸‹æ ‡<code>i</code>ä½œä¸ºæœ€å¤§å€¼çš„æ•°ç»„èŒƒå›´ï¼Œå¦‚æœæœ€å¤§å€¼æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼Œåˆ™å¯¹ç­”æ¡ˆç´¯åŠ ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">numSubarrayBoundedMax</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> min<span class="token punctuation">,</span> <span class="token keyword">int</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> temp <span class="token operator">=</span> right <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length <span class="token operator">?</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> temp <span class="token operator">&gt;=</span> nums<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> i <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>min <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    res <span class="token operator">+=</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ <img src="https://raw.githubusercontent.com/nocetfy/image/main/img/1669084583-IMnUqE-795-6-cut.png" alt="" loading="lazy"></p><p>æ­¤å¤–ï¼Œä¸ºäº†ä¿è¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>1</mn></msub><mo>â‰¥</mo><msub><mi>i</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">i_1\ge i_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼ˆå¦åˆ™ç›¸å‡ä¼šç®—å‡ºè´Ÿæ•°ï¼‰ï¼Œå¯ä»¥åœ¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="italic">nums</mtext><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>&gt;</mo><mtext mathvariant="italic">right</mtext></mrow><annotation encoding="application/x-tex">\textit{nums}[i]&gt;\textit{right}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord textit">nums</span></span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord textit">right</span></span></span></span></span>æ—¶ä¹Ÿæ›´æ–°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">i_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="italic">nums</mtext><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>â‰¥</mo><mtext mathvariant="italic">left</mtext></mrow><annotation encoding="application/x-tex">\textit{nums}[i]\ge\textit{left}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord textit">nums</span></span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord textit">left</span></span></span></span></span>å°±æ›´æ–°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">i_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼ˆå³ä½¿<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&gt;</mo><mtext mathvariant="italic">right</mtext></mrow><annotation encoding="application/x-tex">&gt;\textit{right}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord textit">right</span></span></span></span></span>ï¼‰ã€‚å› ä¸ºè¿™éƒ¨åˆ†å…¶å®<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">i_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">i_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>æ˜¯ç›¸ç­‰çš„ï¼Œå¯¹ç­”æ¡ˆæ— å½±å“ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">numSubarrayBoundedMax</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">,</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> i0 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> i1 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> right<span class="token punctuation">)</span> i0 <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> left<span class="token punctuation">)</span> i1 <span class="token operator">=</span> i<span class="token punctuation">;</span>
            res <span class="token operator">+=</span> i1 <span class="token operator">-</span> i0<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_2444-ç»Ÿè®¡å®šç•Œå­æ•°ç»„çš„æ•°ç›®" tabindex="-1"><a class="header-anchor" href="#_2444-ç»Ÿè®¡å®šç•Œå­æ•°ç»„çš„æ•°ç›®" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/count-subarrays-with-fixed-bounds/description/" target="_blank" rel="noopener noreferrer">2444. ç»Ÿè®¡å®šç•Œå­æ•°ç»„çš„æ•°ç›®<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸¤ä¸ªæ•´æ•° <code>minK</code> ä»¥åŠ <code>maxK</code> ã€‚</p><p><code>nums</code> çš„å®šç•Œå­æ•°ç»„æ˜¯æ»¡è¶³ä¸‹è¿°æ¡ä»¶çš„ä¸€ä¸ªå­æ•°ç»„ï¼š</p><ul><li>å­æ•°ç»„ä¸­çš„ <strong>æœ€å°å€¼</strong> ç­‰äº <code>minK</code> ã€‚</li><li>å­æ•°ç»„ä¸­çš„ <strong>æœ€å¤§å€¼</strong> ç­‰äº <code>maxK</code> ã€‚</li></ul><p>è¿”å›å®šç•Œå­æ•°ç»„çš„æ•°ç›®ã€‚</p><p>å­æ•°ç»„æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­éƒ¨åˆ†ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> minK <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> maxK <span class="token operator">=</span> <span class="token number">5</span>
è¾“å‡ºï¼š<span class="token number">2</span>
è§£é‡Šï¼šå®šç•Œå­æ•°ç»„æ˜¯ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span> å’Œ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> minK <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> maxK <span class="token operator">=</span> <span class="token number">1</span>
è¾“å‡ºï¼š<span class="token number">10</span>
è§£é‡Šï¼šnums çš„æ¯ä¸ªå­æ•°ç»„éƒ½æ˜¯ä¸€ä¸ªå®šç•Œå­æ•°ç»„ã€‚å…±æœ‰ <span class="token number">10</span> ä¸ªå­æ•°ç»„ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>2 &lt;= nums.length &lt;= 10^5</code></li><li><code>1 &lt;= nums[i], minK, maxK &lt;= 10^6</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ æšä¸¾å³ç«¯ç‚¹ï¼Œå·¦ç«¯ç‚¹å–<code>minK</code>å’Œ<code>maxK</code>è¾ƒå°çš„å€¼ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥ä¿è¯<code>minK</code>å’Œ<code>maxK</code>éƒ½åŒ…å«ï¼ŒåŒæ—¶æ•°ç»„ä¸­ä¸èƒ½åŒ…å«æ¯”æœ€å°å€¼å°æˆ–æ¯”æœ€å¤§å€¼å¤§çš„éæ³•å€¼ï¼Œæ‰€ä»¥å¯ä»¥æŠŠéæ³•å€¼çœ‹åšåˆ†éš”ç‚¹ï¼Œåªåœ¨ç›¸é‚»çš„åˆ†éš”ç‚¹ä¸­è¿›è¡Œä¸Šè¿°çš„æ“ä½œï¼Œå·¦ç«¯ç‚¹å®é™…ä¸Šè¿˜éœ€è¦å‡å»åˆ†éš”ç‚¹çš„ä¸‹æ ‡æ‰æ˜¯å·¦ç«¯ç‚¹çš„åˆæ³•å–å€¼ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">countSubarrays</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> minK<span class="token punctuation">,</span> <span class="token keyword">int</span> maxK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">long</span> res <span class="token operator">=</span> <span class="token number">0L</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> indexOfMin <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> indexOfMax <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> illegalIndex <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> minK<span class="token punctuation">)</span> indexOfMin <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> maxK<span class="token punctuation">)</span> indexOfMax <span class="token operator">=</span> i<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> minK <span class="token operator">||</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> maxK<span class="token punctuation">)</span> illegalIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>
            res <span class="token operator">+=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>indexOfMax<span class="token punctuation">,</span> indexOfMin<span class="token punctuation">)</span> <span class="token operator">-</span> illegalIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_1856-å­æ•°ç»„æœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼" tabindex="-1"><a class="header-anchor" href="#_1856-å­æ•°ç»„æœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/maximum-subarray-min-product/" target="_blank" rel="noopener noreferrer">1856. å­æ•°ç»„æœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ä¸€ä¸ªæ•°ç»„çš„ <strong>æœ€å°ä¹˜ç§¯</strong> å®šä¹‰ä¸ºè¿™ä¸ªæ•°ç»„ä¸­ <strong>æœ€å°å€¼</strong> <strong>ä¹˜ä»¥</strong> æ•°ç»„çš„ <strong>å’Œ</strong> ã€‚</p><ul><li>æ¯”æ–¹è¯´ï¼Œæ•°ç»„ <code>[3,2,5]</code> ï¼ˆæœ€å°å€¼æ˜¯ <code>2</code>ï¼‰çš„æœ€å°ä¹˜ç§¯ä¸º <code>2 * (3+2+5) = 2 * 10 = 20</code> ã€‚</li></ul><p>ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œè¯·ä½ è¿”å› <code>nums</code> ä»»æ„ <strong>éç©ºå­æ•°ç»„</strong> çš„<strong>æœ€å°ä¹˜ç§¯</strong> çš„ <strong>æœ€å¤§å€¼</strong> ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·ä½ è¿”å›ç­”æ¡ˆå¯¹ <code>10^9 + 7</code> <strong>å–ä½™</strong> çš„ç»“æœã€‚</p><p>è¯·æ³¨æ„ï¼Œæœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼è€ƒè™‘çš„æ˜¯å–ä½™æ“ä½œ <strong>ä¹‹å‰</strong> çš„ç»“æœã€‚é¢˜ç›®ä¿è¯æœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼åœ¨ <strong>ä¸å–ä½™</strong> çš„æƒ…å†µä¸‹å¯ä»¥ç”¨ <strong>64 ä½æœ‰ç¬¦å·æ•´æ•°</strong> ä¿å­˜ã€‚</p><p><strong>å­æ•°ç»„</strong> å®šä¹‰ä¸ºä¸€ä¸ªæ•°ç»„çš„ <strong>è¿ç»­</strong> éƒ¨åˆ†ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">14</span>
è§£é‡Šï¼šæœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼ç”±å­æ•°ç»„ <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ï¼ˆæœ€å°å€¼æ˜¯ <span class="token number">2</span>ï¼‰å¾—åˆ°ã€‚
<span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">=</span> <span class="token number">14</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">18</span>
è§£é‡Šï¼šæœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼ç”±å­æ•°ç»„ <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> ï¼ˆæœ€å°å€¼æ˜¯ <span class="token number">3</span>ï¼‰å¾—åˆ°ã€‚
<span class="token number">3</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">6</span> <span class="token operator">=</span> <span class="token number">18</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">60</span>
è§£é‡Šï¼šæœ€å°ä¹˜ç§¯çš„æœ€å¤§å€¼ç”±å­æ•°ç»„ <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> ï¼ˆæœ€å°å€¼æ˜¯ <span class="token number">4</span>ï¼‰å¾—åˆ°ã€‚
<span class="token number">4</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">+</span><span class="token number">6</span><span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">15</span> <span class="token operator">=</span> <span class="token number">60</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 10^5</code></li><li><code>1 &lt;= nums[i] &lt;= 10^7</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ åŒ907ï¼Œä½¿ç”¨å•è°ƒæ ˆå¯ä»¥è·å–åˆ°ä¸‹æ ‡<code>i</code>ä¸ºå¼€åŒºé—´<code>(L, R)</code>çš„æœ€å°å€¼ï¼Œé¢˜ç›®é™å®šäº†æ•°éƒ½æ˜¯æ­£æ•°ï¼Œè€Œä¸”æ˜¯æ±‚æœ€å¤§å€¼ï¼Œä¸æ˜¯æ±‚å’Œï¼Œæ‰€ä»¥é€‰é—­åŒºé—´<code>[L + 1, R - 1]</code>ä½œä¸ºä¸‹æ ‡<code>i</code>æ‰€åœ¨çš„æœ€å°åŒºé—´ä¸€å®šæ˜¯æœ€å¤§çš„ï¼Œæ— éœ€è€ƒè™‘è¿™ä¸­é—´çš„å…¶ä»–åŒºé—´ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨å‰ç¼€å’Œè¿›è¡Œè®¡ç®—ï¼Œä½¿ç”¨<code>length + 1</code>çš„å‰ç¼€å’Œï¼Œ<code>right</code>åœ¨åŒºé—´å³è¾¹ç•Œçš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œæ°å¥½å°±æ˜¯å‰ç¼€å’Œæ•°ç»„ä¸­<code>right - 1</code>çš„å’Œï¼Œè€Œ<code>left + 1</code>ä¸ºå‰ç¼€å’Œæ•°ç»„ä¸­éœ€è¦çš„å·¦è¾¹ç•Œå‰ä¸€ä¸ªä½ç½®çš„å’Œï¼Œå½“æœ€ç‰¹æ®Šçš„æƒ…å†µ<code>left</code>ä¸º<code>-1</code>æ—¶(å·¦è¾¹æ²¡æœ‰æ›´å°çš„æ•°)ï¼Œæ­¤æ—¶å–åˆ°çš„<code>prefix[0]</code>ä¸º0ï¼Œæ°å¥½æ»¡è¶³è¦æ±‚ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maxSumMinProduct</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">long</span> res <span class="token operator">=</span> <span class="token number">0L</span><span class="token punctuation">,</span> mod <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> <span class="token number">1e9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span><span class="token punctuation">[</span><span class="token punctuation">]</span> prefix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">long</span><span class="token punctuation">[</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            prefix<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> prefix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;=</span> length<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> temp <span class="token operator">=</span> right <span class="token operator">&lt;</span> length <span class="token operator">?</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> temp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> i <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> left <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>prefix<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">-</span> prefix<span class="token punctuation">[</span>left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>res <span class="token operator">%</span> mod<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_891-å­åºåˆ—å®½åº¦ä¹‹å’Œ" tabindex="-1"><a class="header-anchor" href="#_891-å­åºåˆ—å®½åº¦ä¹‹å’Œ" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/sum-of-subsequence-widths/" target="_blank" rel="noopener noreferrer">891. å­åºåˆ—å®½åº¦ä¹‹å’Œ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ä¸€ä¸ªåºåˆ—çš„ <strong>å®½åº¦</strong> å®šä¹‰ä¸ºè¯¥åºåˆ—ä¸­æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ çš„å·®å€¼ã€‚</p><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œè¿”å› <code>nums</code> çš„æ‰€æœ‰éç©º <strong>å­åºåˆ—</strong> çš„ <strong>å®½åº¦ä¹‹å’Œ</strong> ã€‚ç”±äºç­”æ¡ˆå¯èƒ½éå¸¸å¤§ï¼Œè¯·è¿”å›å¯¹ <code>109 + 7</code> <strong>å–ä½™</strong> åçš„ç»“æœã€‚</p><p><strong>å­åºåˆ—</strong> å®šä¹‰ä¸ºä»ä¸€ä¸ªæ•°ç»„é‡Œåˆ é™¤ä¸€äº›ï¼ˆæˆ–è€…ä¸åˆ é™¤ï¼‰å…ƒç´ ï¼Œä½†ä¸æ”¹å˜å‰©ä¸‹å…ƒç´ çš„é¡ºåºå¾—åˆ°çš„æ•°ç»„ã€‚ä¾‹å¦‚ï¼Œ<code>[3,6,2,7]</code> å°±æ˜¯æ•°ç»„ <code>[0,3,1,6,2,2,7]</code> çš„ä¸€ä¸ªå­åºåˆ—ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">6</span>
è§£é‡Šï¼šå­åºåˆ—ä¸º <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> ã€‚
ç›¸åº”çš„å®½åº¦æ˜¯ <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span> ã€‚
å®½åº¦ä¹‹å’Œæ˜¯ <span class="token number">6</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 10^5</code></li><li><code>1 &lt;= nums[i] &lt;= 10^5</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ <img src="https://raw.githubusercontent.com/nocetfy/image/main/img/1668675423-JpuPGp-891.png" alt="" loading="lazy"></p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">sumSubseqWidths</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> mod <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token number">1e9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">;</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pow2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
        pow2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
            pow2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> pow2<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">%</span> mod<span class="token punctuation">;</span> <span class="token comment">// é¢„å¤„ç† 2 çš„å¹‚æ¬¡</span>
        <span class="token keyword">long</span> ans <span class="token operator">=</span> <span class="token number">0L</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
            ans <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>pow2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> pow2<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// åœ¨é¢˜ç›®çš„æ•°æ®èŒƒå›´ä¸‹ï¼Œè¿™ä¸ä¼šæº¢å‡º</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>ans <span class="token operator">%</span> mod <span class="token operator">+</span> mod<span class="token punctuation">)</span> <span class="token operator">%</span> mod<span class="token punctuation">;</span> <span class="token comment">// æ³¨æ„ä¸Šé¢æœ‰å‡æ³•ï¼Œans å¯èƒ½ä¸ºè´Ÿæ•°</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_2281-å·«å¸ˆçš„æ€»åŠ›é‡å’Œ" tabindex="-1"><a class="header-anchor" href="#_2281-å·«å¸ˆçš„æ€»åŠ›é‡å’Œ" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/sum-of-total-strength-of-wizards/" target="_blank" rel="noopener noreferrer">2281. å·«å¸ˆçš„æ€»åŠ›é‡å’Œ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ä½œä¸ºå›½ç‹çš„ç»Ÿæ²»è€…ï¼Œä½ æœ‰ä¸€æ”¯å·«å¸ˆå†›é˜Ÿå¬ä½ æŒ‡æŒ¥ã€‚</p><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹çš„æ•´æ•°æ•°ç»„ <code>strength</code> ï¼Œå…¶ä¸­ <code>strength[i]</code> è¡¨ç¤ºç¬¬ <code>i</code> ä½å·«å¸ˆçš„åŠ›é‡å€¼ã€‚å¯¹äºè¿ç»­çš„ä¸€ç»„å·«å¸ˆï¼ˆä¹Ÿå°±æ˜¯è¿™äº›å·«å¸ˆçš„åŠ›é‡å€¼æ˜¯ <code>strength</code> çš„ <strong>å­æ•°ç»„</strong>ï¼‰ï¼Œ<strong>æ€»åŠ›é‡</strong> å®šä¹‰ä¸ºä»¥ä¸‹ä¸¤ä¸ªå€¼çš„ <strong>ä¹˜ç§¯</strong> ï¼š</p><ul><li>å·«å¸ˆä¸­ <strong>æœ€å¼±</strong> çš„èƒ½åŠ›å€¼ã€‚</li><li>ç»„ä¸­æ‰€æœ‰å·«å¸ˆçš„ä¸ªäººåŠ›é‡å€¼ <strong>ä¹‹å’Œ</strong> ã€‚</li></ul><p>è¯·ä½ è¿”å› <strong>æ‰€æœ‰</strong> å·«å¸ˆç»„çš„ <strong>æ€»</strong> åŠ›é‡ä¹‹å’Œã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·å°†ç­”æ¡ˆå¯¹ <code>109 + 7</code> <strong>å–ä½™</strong> åè¿”å›ã€‚</p><p><strong>å­æ•°ç»„</strong> æ˜¯ä¸€ä¸ªæ•°ç»„é‡Œ <strong>éç©º</strong> è¿ç»­å­åºåˆ—ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šstrength <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">44</span>
è§£é‡Šï¼šä»¥ä¸‹æ˜¯æ‰€æœ‰è¿ç»­å·«å¸ˆç»„ï¼š
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">9</span>
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">4</span>
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">4</span>
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">4</span>
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">3</span>
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">=</span> <span class="token number">5</span>
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">6</span> <span class="token operator">=</span> <span class="token number">6</span>
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">=</span> <span class="token number">7</span>
æ‰€æœ‰åŠ›é‡å€¼ä¹‹å’Œä¸º <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">9</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">7</span> <span class="token operator">=</span> <span class="token number">44</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šstrength <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">213</span>
è§£é‡Šï¼šä»¥ä¸‹æ˜¯æ‰€æœ‰è¿ç»­å·«å¸ˆç»„ï¼š
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">*</span> <span class="token number">5</span> <span class="token operator">=</span> <span class="token number">25</span>
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">16</span>
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">6</span> <span class="token operator">*</span> <span class="token number">6</span> <span class="token operator">=</span> <span class="token number">36</span>
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">9</span> <span class="token operator">=</span> <span class="token number">36</span>
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">=</span> <span class="token number">40</span>
<span class="token operator">-</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> ä¸­ <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> ï¼Œæ€»åŠ›é‡å€¼ä¸º <span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">15</span> <span class="token operator">=</span> <span class="token number">60</span>
æ‰€æœ‰åŠ›é‡å€¼ä¹‹å’Œä¸º <span class="token number">25</span> <span class="token operator">+</span> <span class="token number">16</span> <span class="token operator">+</span> <span class="token number">36</span> <span class="token operator">+</span> <span class="token number">36</span> <span class="token operator">+</span> <span class="token number">40</span> <span class="token operator">+</span> <span class="token number">60</span> <span class="token operator">=</span> <span class="token number">213</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= strength.length &lt;= 10^5</code></li><li><code>1 &lt;= strength[i] &lt;= 10^9</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h4 id="_2818-æ“ä½œä½¿å¾—åˆ†æœ€å¤§" tabindex="-1"><a class="header-anchor" href="#_2818-æ“ä½œä½¿å¾—åˆ†æœ€å¤§" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/apply-operations-to-maximize-score/" target="_blank" rel="noopener noreferrer">2818. æ“ä½œä½¿å¾—åˆ†æœ€å¤§<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ­£æ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•° <code>k</code> ã€‚</p><p>ä¸€å¼€å§‹ï¼Œä½ çš„åˆ†æ•°ä¸º <code>1</code> ã€‚ä½ å¯ä»¥è¿›è¡Œä»¥ä¸‹æ“ä½œè‡³å¤š <code>k</code> æ¬¡ï¼Œç›®æ ‡æ˜¯ä½¿ä½ çš„åˆ†æ•°æœ€å¤§ï¼š</p><ul><li>é€‰æ‹©ä¸€ä¸ªä¹‹å‰æ²¡æœ‰é€‰è¿‡çš„ <strong>éç©º</strong> å­æ•°ç»„ <code>nums[l, ..., r]</code> ã€‚</li><li>ä» <code>nums[l, ..., r]</code> é‡Œé¢é€‰æ‹©ä¸€ä¸ª <strong>è´¨æ•°åˆ†æ•°</strong> æœ€é«˜çš„å…ƒç´  <code>x</code> ã€‚å¦‚æœå¤šä¸ªå…ƒç´ è´¨æ•°åˆ†æ•°ç›¸åŒä¸”æœ€é«˜ï¼Œé€‰æ‹©ä¸‹æ ‡æœ€å°çš„ä¸€ä¸ªã€‚</li><li>å°†ä½ çš„åˆ†æ•°ä¹˜ä»¥ <code>x</code> ã€‚</li></ul><p><code>nums[l, ..., r]</code> è¡¨ç¤º <code>nums</code> ä¸­èµ·å§‹ä¸‹æ ‡ä¸º <code>l</code> ï¼Œç»“æŸä¸‹æ ‡ä¸º <code>r</code> çš„å­æ•°ç»„ï¼Œä¸¤ä¸ªç«¯ç‚¹éƒ½åŒ…å«ã€‚</p><p>ä¸€ä¸ªæ•´æ•°çš„ <strong>è´¨æ•°åˆ†æ•°</strong> ç­‰äº <code>x</code> ä¸åŒè´¨å› å­çš„æ•°ç›®ã€‚æ¯”æ–¹è¯´ï¼Œ <code>300</code> çš„è´¨æ•°åˆ†æ•°ä¸º <code>3</code> ï¼Œå› ä¸º <code>300 = 2 * 2 * 3 * 5 * 5</code> ã€‚</p><p>è¯·ä½ è¿”å›è¿›è¡Œè‡³å¤š <code>k</code> æ¬¡æ“ä½œåï¼Œå¯ä»¥å¾—åˆ°çš„ <strong>æœ€å¤§åˆ†æ•°</strong> ã€‚</p><p>ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·ä½ å°†ç»“æœå¯¹ <code>109 + 7</code> å–ä½™åè¿”å›ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span>
è¾“å‡ºï¼š<span class="token number">81</span>
è§£é‡Šï¼šè¿›è¡Œä»¥ä¸‹æ“ä½œå¯ä»¥å¾—åˆ°åˆ†æ•° <span class="token number">81</span> ï¼š
<span class="token operator">-</span> é€‰æ‹©å­æ•°ç»„ nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> ã€‚nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> æ˜¯å­æ•°ç»„ä¸­å”¯ä¸€çš„å…ƒç´ ã€‚æ‰€ä»¥æˆ‘ä»¬å°†åˆ†æ•°ä¹˜ä»¥ nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> ï¼Œåˆ†æ•°å˜ä¸º <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">9</span> <span class="token operator">=</span> <span class="token number">9</span> ã€‚
<span class="token operator">-</span> é€‰æ‹©å­æ•°ç»„ nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> ã€‚nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> å’Œ nums<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> è´¨æ•°åˆ†æ•°éƒ½ä¸º <span class="token number">1</span> ï¼Œä½†æ˜¯ nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> ä¸‹æ ‡æ›´å°ã€‚æ‰€ä»¥æˆ‘ä»¬å°†åˆ†æ•°ä¹˜ä»¥ nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> ï¼Œåˆ†æ•°å˜ä¸º <span class="token number">9</span> <span class="token operator">*</span> <span class="token number">9</span> <span class="token operator">=</span> <span class="token number">81</span> ã€‚
<span class="token number">81</span> æ˜¯å¯ä»¥å¾—åˆ°çš„æœ€é«˜å¾—åˆ†ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">3</span>
è¾“å‡ºï¼š<span class="token number">4788</span>
è§£é‡Šï¼šè¿›è¡Œä»¥ä¸‹æ“ä½œå¯ä»¥å¾—åˆ°åˆ†æ•° <span class="token number">4788</span> ï¼š
<span class="token operator">-</span> é€‰æ‹©å­æ•°ç»„ nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span> ã€‚nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> æ˜¯å­æ•°ç»„ä¸­å”¯ä¸€çš„å…ƒç´ ã€‚æ‰€ä»¥æˆ‘ä»¬å°†åˆ†æ•°ä¹˜ä»¥ nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> ï¼Œåˆ†æ•°å˜ä¸º <span class="token number">1</span> <span class="token operator">*</span> <span class="token number">19</span> <span class="token operator">=</span> <span class="token number">19</span> ã€‚
<span class="token operator">-</span> é€‰æ‹©å­æ•°ç»„ nums<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> ã€‚nums<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> æ˜¯å­æ•°ç»„ä¸­å”¯ä¸€çš„å…ƒç´ ã€‚æ‰€ä»¥æˆ‘ä»¬å°†åˆ†æ•°ä¹˜ä»¥ nums<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> ï¼Œåˆ†æ•°å˜ä¸º <span class="token number">19</span> <span class="token operator">*</span> <span class="token number">18</span> <span class="token operator">=</span> <span class="token number">342</span> ã€‚
<span class="token operator">-</span> é€‰æ‹©å­æ•°ç»„ nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> ã€‚nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> å’Œ nums<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> è´¨æ•°åˆ†æ•°éƒ½ä¸º <span class="token number">2</span>ï¼Œä½†æ˜¯ nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> ä¸‹æ ‡æ›´å°ã€‚æ‰€ä»¥æˆ‘ä»¬å°†åˆ†æ•°ä¹˜ä»¥ nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> ï¼Œåˆ†æ•°å˜ä¸º  <span class="token number">342</span> <span class="token operator">*</span> <span class="token number">14</span> <span class="token operator">=</span> <span class="token number">4788</span> ã€‚
<span class="token number">4788</span> æ˜¯å¯ä»¥å¾—åˆ°çš„æœ€é«˜çš„åˆ†ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length == n &lt;= 10^5</code></li><li><code>1 &lt;= nums[i] &lt;= 10^5</code></li><li><code>1 &lt;= k &lt;= min(n * (n + 1) / 2, 10^9)</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code></code></pre><div class="line-numbers" aria-hidden="true"></div></div><hr><h4 id="_2475-æ•°ç»„ä¸­ä¸ç­‰ä¸‰å…ƒç»„çš„æ•°ç›®" tabindex="-1"><a class="header-anchor" href="#_2475-æ•°ç»„ä¸­ä¸ç­‰ä¸‰å…ƒç»„çš„æ•°ç›®" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/number-of-unequal-triplets-in-array/" target="_blank" rel="noopener noreferrer">2475. æ•°ç»„ä¸­ä¸ç­‰ä¸‰å…ƒç»„çš„æ•°ç›®<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹çš„æ­£æ•´æ•°æ•°ç»„ <code>nums</code> ã€‚è¯·ä½ æ‰¾å‡ºå¹¶ç»Ÿè®¡æ»¡è¶³ä¸‹è¿°æ¡ä»¶çš„ä¸‰å…ƒç»„ <code>(i, j, k)</code> çš„æ•°ç›®ï¼š</p><ul><li><code>0 &lt;= i &lt; j &lt; k &lt; nums.length</code></li><li><code>nums[i]</code>ã€<code>nums[j]</code>å’Œ<code>nums[k]</code>ä¸¤ä¸¤ä¸åŒã€‚ <ul><li>æ¢å¥è¯è¯´ï¼š<code>nums[i] != nums[j]</code>ã€<code>nums[i] != nums[k]</code> ä¸” <code>nums[j] != nums[k]</code> ã€‚</li></ul></li></ul><p>è¿”å›æ»¡è¶³ä¸Šè¿°æ¡ä»¶ä¸‰å…ƒç»„çš„æ•°ç›®ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">3</span>
è§£é‡Šï¼šä¸‹é¢åˆ—å‡ºçš„ä¸‰å…ƒç»„å‡æ»¡è¶³é¢˜ç›®æ¡ä»¶ï¼š
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> å› ä¸º <span class="token number">4</span> <span class="token operator">!=</span> <span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">3</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> å› ä¸º <span class="token number">4</span> <span class="token operator">!=</span> <span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">3</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> å› ä¸º <span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">4</span> <span class="token operator">!=</span> <span class="token number">3</span>
å…±è®¡ <span class="token number">3</span> ä¸ªä¸‰å…ƒç»„ï¼Œè¿”å› <span class="token number">3</span> ã€‚
<span class="token function">æ³¨æ„</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> ä¸æ˜¯æœ‰æ•ˆçš„ä¸‰å…ƒç»„ï¼Œå› ä¸º <span class="token number">2</span> <span class="token operator">&gt;</span> <span class="token number">0</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">0</span>
è§£é‡Šï¼šä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„ä¸‰å…ƒç»„ï¼Œæ‰€ä»¥è¿”å› <span class="token number">0</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>3 &lt;= nums.length &lt;= 100</code></li><li><code>1 &lt;= nums[i] &lt;= 1000</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code></code></pre><div class="line-numbers" aria-hidden="true"></div></div><hr><h4 id="_2681-è‹±é›„çš„åŠ›é‡" tabindex="-1"><a class="header-anchor" href="#_2681-è‹±é›„çš„åŠ›é‡" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/power-of-heroes/" target="_blank" rel="noopener noreferrer">2681. è‹±é›„çš„åŠ›é‡<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹çš„æ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œå®ƒè¡¨ç¤ºè‹±é›„çš„èƒ½åŠ›å€¼ã€‚å¦‚æœæˆ‘ä»¬é€‰å‡ºä¸€éƒ¨åˆ†è‹±é›„ï¼Œè¿™ç»„è‹±é›„çš„ <strong>åŠ›é‡</strong> å®šä¹‰ä¸ºï¼š</p><ul><li><code>i0</code> ï¼Œ<code>i1</code> ï¼Œ... <code>ik</code> è¡¨ç¤ºè¿™ç»„è‹±é›„åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚é‚£ä¹ˆè¿™ç»„è‹±é›„çš„åŠ›é‡ä¸º <code>max(nums[i0],nums[i1] ... nums[ik])2 * min(nums[i0],nums[i1] ... nums[ik])</code> ã€‚</li></ul><p>è¯·ä½ è¿”å›æ‰€æœ‰å¯èƒ½çš„ <strong>éç©º</strong> è‹±é›„ç»„çš„ <strong>åŠ›é‡</strong> ä¹‹å’Œã€‚ç”±äºç­”æ¡ˆå¯èƒ½éå¸¸å¤§ï¼Œè¯·ä½ å°†ç»“æœå¯¹ <code>10^9 + 7</code> <strong>å–ä½™ã€‚</strong></p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">141</span>
è§£é‡Šï¼š
ç¬¬ <span class="token number">1</span> ç»„ï¼š<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> çš„åŠ›é‡ä¸º <span class="token number">22</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">8</span> ã€‚
ç¬¬ <span class="token number">2</span> ç»„ï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> çš„åŠ›é‡ä¸º <span class="token number">12</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span> ã€‚
ç¬¬ <span class="token number">3</span> ç»„ï¼š<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> çš„åŠ›é‡ä¸º <span class="token number">42</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">64</span> ã€‚
ç¬¬ <span class="token number">4</span> ç»„ï¼š<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> çš„åŠ›é‡ä¸º <span class="token number">22</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">4</span> ã€‚
ç¬¬ <span class="token number">5</span> ç»„ï¼š<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> çš„åŠ›é‡ä¸º <span class="token number">42</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">32</span> ã€‚
ç¬¬ <span class="token number">6</span> ç»„ï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> çš„åŠ›é‡ä¸º <span class="token number">42</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">16</span> ã€‚
ç¬¬ <span class="token number">7</span> ç»„ï¼š<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> çš„åŠ›é‡ä¸º <span class="token number">42</span> <span class="token operator">*</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">16</span> ã€‚
æ‰€æœ‰è‹±é›„ç»„çš„åŠ›é‡ä¹‹å’Œä¸º <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">64</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">32</span> <span class="token operator">+</span> <span class="token number">16</span> <span class="token operator">+</span> <span class="token number">16</span> <span class="token operator">=</span> <span class="token number">141</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">7</span>
è§£é‡Šï¼šæ€»å…±æœ‰ <span class="token number">7</span> ä¸ªè‹±é›„ç»„ï¼Œæ¯ä¸€ç»„çš„åŠ›é‡éƒ½æ˜¯ <span class="token number">1</span> ã€‚æ‰€ä»¥æ‰€æœ‰è‹±é›„ç»„çš„åŠ›é‡ä¹‹å’Œä¸º <span class="token number">7</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 10^5</code></li><li><code>1 &lt;= nums[i] &lt;= 10^9</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code></code></pre><div class="line-numbers" aria-hidden="true"></div></div><hr><h3 id="çŸ©é˜µé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#çŸ©é˜µé—®é¢˜" aria-hidden="true">#</a> çŸ©é˜µé—®é¢˜</h3><h4 id="_42-æ¥é›¨æ°´" tabindex="-1"><a class="header-anchor" href="#_42-æ¥é›¨æ°´" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/trapping-rain-water/" target="_blank" rel="noopener noreferrer">42. æ¥é›¨æ°´<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™å®š <code>n</code> ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º <code>1</code> çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/Kwrcmgnx7Co85Oh.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šheight <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">6</span>
è§£é‡Šï¼šä¸Šé¢æ˜¯ç”±æ•°ç»„ <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ <span class="token number">6</span> ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚ 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šheight <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">9</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ æ‰¾ä¸Šä¸€ä¸ªæœ€å¤§çš„å…ƒç´ ï¼Œåœ¨æ‰¾çš„è¿‡ç¨‹ä¸­å¡«å‘</p><p>â€‹ å•è°ƒé€’å‡æ ˆä¿å­˜ä¸‹æ ‡ï¼Œå¦‚æœé‡åˆ°é«˜çš„ç‚¹ï¼Œè¯´æ˜å¯ä»¥ä¹˜ä½æ°´ï¼Œå°†æ ˆé¡¶å‡ºæ ˆï¼Œæ ˆé¡¶ä¸‹ä¸€ä¸ªå…ƒç´ ä¸å½“å‰çš„ä¸‹æ ‡æ„æˆå·¦å³ä¸¤è¾¹ç•Œï¼Œå‡ºæ ˆçš„å…ƒç´ è®¡ç®—ä»¥å®ƒä¸ºåº•æ¥çš„é›¨æ°´ã€‚</p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/236d6cd02def72dcadf1aaa0f7bbbc767da161795d6702523835127002381a0f-image.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">trap</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> height<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> height<span class="token punctuation">.</span>length<span class="token punctuation">,</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> height<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> height<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> cur <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">int</span> pre <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// ç›¸å½“äºå¼€åŒºé—´(peek, i)ä¹‹é—´çš„åŒºåŸŸèƒ½æ¥é›¨æ°´ï¼Œæ‰€ä»¥è®¡ç®—åº•çš„é•¿åº¦ä¸º(i - peek - 1)</span>
                <span class="token keyword">int</span> width <span class="token operator">=</span> i <span class="token operator">-</span> pre <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> high <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>height<span class="token punctuation">[</span>pre<span class="token punctuation">]</span><span class="token punctuation">,</span> height<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> height<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">;</span>
                res <span class="token operator">+=</span> width <span class="token operator">*</span> high<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_84-æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢" tabindex="-1"><a class="header-anchor" href="#_84-æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/largest-rectangle-in-histogram/" target="_blank" rel="noopener noreferrer">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™å®š <code>n</code> ä¸ªéè´Ÿæ•´æ•°ï¼Œç”¨æ¥è¡¨ç¤ºæŸ±çŠ¶å›¾ä¸­å„ä¸ªæŸ±å­çš„é«˜åº¦ã€‚æ¯ä¸ªæŸ±å­å½¼æ­¤ç›¸é‚»ï¼Œä¸”å®½åº¦ä¸º 1 ã€‚</p><p>æ±‚åœ¨è¯¥æŸ±çŠ¶å›¾ä¸­ï¼Œèƒ½å¤Ÿå‹¾å‹’å‡ºæ¥çš„çŸ©å½¢çš„æœ€å¤§é¢ç§¯ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/nKN4CwVo8pQMr6v.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šheights <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">10</span>
è§£é‡Šï¼šæœ€å¤§çš„çŸ©å½¢ä¸ºå›¾ä¸­çº¢è‰²åŒºåŸŸï¼Œé¢ç§¯ä¸º <span class="token number">10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/vIlusGB7P4RfY2D.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼š heights <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š <span class="token number">4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ æƒ³è±¡æˆé”¯æœ¨æ¿ï¼Œå¦‚æœæœ¨æ¿éƒ½æ˜¯é€’å¢çš„é‚£æˆ‘å¾ˆå¼€å¿ƒï¼Œå¦‚æœçªç„¶é‡åˆ°ä¸€å—æœ¨æ¿içŸ®äº†ä¸€æˆªï¼Œé‚£æˆ‘å°±å…ˆæ‰¾ä¹‹å‰æœ€æˆ³å‡ºæ¥çš„ä¸€å—ï¼ˆå…¶å®å°±æ˜¯ç¬¬i-1å—ï¼‰ï¼Œè®¡ç®—ä¸€ä¸‹è¿™ä¸ªæœ¨æ¿å•ç‹¬çš„é¢ç§¯ï¼Œç„¶åæŠŠå®ƒé”¯æˆæ¬¡é«˜çš„ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä¹‹åçš„è®¡ç®—éƒ½å†ä¹Ÿç”¨ä¸ç€è¿™å—æœ¨æ¿æœ¬èº«çš„é«˜åº¦äº†ã€‚å†ç„¶åå¦‚æœå‘è§‰æ¬¡é«˜çš„ä»ç„¶æ¯”ç°åœ¨è¿™ä¸ªiæœ¨æ¿é«˜ï¼Œé‚£æˆ‘ç»§ç»­å•ç‹¬è®¡ç®—è¿™ä¸ªæ¬¡é«˜æœ¨æ¿çš„é¢ç§¯ï¼ˆåº”è¯¥æ˜¯ç¬¬i-1å’Œi-2å—ï¼‰ï¼Œå†æŠŠå®ƒä¿©é”¯çŸ­ã€‚ç›´åˆ°å‘è§‰ä¸éœ€è¦é”¯å°±æ¯”ç¬¬iå—çŸ®äº†ï¼Œé‚£æˆ‘ç»§ç»­å¼€å¼€å¿ƒå¿ƒå¾€å³æ‰¾æ›´é«˜çš„ã€‚å½“ç„¶ä¸ºäº†é¿å…åˆ°äº†æœ€åä¸€ç›´éƒ½æ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥å¯ä»¥åœ¨æœ€ååŠ ä¸€å—é«˜åº¦ä¸º0çš„æœ¨æ¿ã€‚å‰é¢å¯ä»¥ä¹ŸåŠ ä¸€å—ï¼Œæ–¹ä¾¿è®¡ç®—ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">largestRectangleArea</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> heights<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> heights<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> num <span class="token operator">=</span> i <span class="token operator">==</span> heights<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> heights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> num <span class="token operator">&lt;</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> heights<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> high <span class="token operator">=</span> heights<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_85-æœ€å¤§çŸ©å½¢" tabindex="-1"><a class="header-anchor" href="#_85-æœ€å¤§çŸ©å½¢" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/maximal-rectangle/description/" target="_blank" rel="noopener noreferrer">85. æœ€å¤§çŸ©å½¢<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™å®šä¸€ä¸ªä»…åŒ…å« <code>0</code> å’Œ <code>1</code> ã€å¤§å°ä¸º <code>rows x cols</code> çš„äºŒç»´äºŒè¿›åˆ¶çŸ©é˜µï¼Œæ‰¾å‡ºåªåŒ…å« <code>1</code> çš„æœ€å¤§çŸ©å½¢ï¼Œå¹¶è¿”å›å…¶é¢ç§¯ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/maximal.jpg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šmatrix <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">6</span>
è§£é‡Šï¼šæœ€å¤§çŸ©å½¢å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šmatrix <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šmatrix <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 4ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šmatrix <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 5ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šmatrix <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤º</strong>ï¼š</p><ul><li><code>rows == matrix.length</code></li><li><code>cols == matrix[0].length</code></li><li><code>1 &lt;= row, cols &lt;= 200</code></li><li><code>matrix[i][j]</code> ä¸º <code>&#39;0&#39;</code> æˆ– <code>&#39;1&#39;</code></li></ul><blockquote><p>æ€è·¯:</p><p>â€‹ <img src="https://raw.githubusercontent.com/nocetfy/image/main/img/1664520041-jSdSBU-image.png" alt="" loading="lazy"></p><ul><li><p>çº¢æ¡†éƒ¨åˆ†ä»£è¡¨ã€Œä»¥ç¬¬ä¸€è¡Œä½œä¸ºåŸºå‡†çº¿ï¼Œç»Ÿè®¡æ¯ä¸€åˆ—ä¸­åŸºå‡†çº¿åŠä»¥ä¸Šè¿ç»­1çš„ä¸ªæ•°ã€ï¼Œæ­¤æ—¶åªæœ‰ç¬¬ä¸€è¡Œï¼Œå¯å¾—ï¼š<code>[1, 0, 1, 0, 0]</code></p></li><li><p>é»„æ¡†éƒ¨åˆ†ä»£è¡¨ã€Œä»¥ç¬¬äºŒè¡Œä½œä¸ºåŸºå‡†çº¿ï¼Œç»Ÿè®¡æ¯ä¸€åˆ—ä¸­åŸºå‡†çº¿åŠä»¥ä¸Šè¿ç»­1çš„ä¸ªæ•°ã€ï¼Œæ­¤æ—¶æœ‰ç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œï¼Œå¯å¾—<code>[2, 0, 2, 1, 1]</code></p></li><li><p>è“æ¡†éƒ¨åˆ†ä»£è¡¨ã€Œä»¥ç¬¬ä¸‰è¡Œä½œä¸ºåŸºå‡†çº¿ï¼Œç»Ÿè®¡æ¯ä¸€åˆ—ä¸­åŸºå‡†çº¿åŠä»¥ä¸Šè¿ç»­1çš„ä¸ªæ•°ã€ï¼Œæ­¤æ—¶æœ‰ä¸‰è¡Œï¼Œå¯å¾—ï¼š<code>[3, 1, 3, 2, 2]</code></p><p>å°†åŸçŸ©é˜µè¿›è¡Œè¿™æ ·çš„è½¬æ¢å¥½å¤„æ˜¯ : å¯¹äºåŸçŸ©ä¸­é¢ç§¯æœ€å¤§çš„çŸ©å½¢ï¼Œå…¶ä¸‹è¾¹ç¼˜å¿…ç„¶å¯¹åº”äº†æŸä¸€æ¡åŸºå‡†çº¿ï¼Œä»è€Œå°†é—®é¢˜è½¬æ¢ä¸º<a href="">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢</a> ã€‚</p></li></ul></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maximalRectangle</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> matrix<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> m <span class="token operator">=</span> matrix<span class="token punctuation">.</span>length<span class="token punctuation">,</span> n <span class="token operator">=</span> matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> heights <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                heights<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">&#39;0&#39;</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> heights<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token function">largestRectangleArea</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">largestRectangleArea</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> heights<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> heights<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> num <span class="token operator">=</span> i <span class="token operator">==</span> heights<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> heights<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> num <span class="token operator">&lt;</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> heights<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> high <span class="token operator">=</span> heights<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_1504-ç»Ÿè®¡å…¨-1-å­çŸ©å½¢" tabindex="-1"><a class="header-anchor" href="#_1504-ç»Ÿè®¡å…¨-1-å­çŸ©å½¢" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/count-submatrices-with-all-ones/" target="_blank" rel="noopener noreferrer">1504. ç»Ÿè®¡å…¨ 1 å­çŸ©å½¢<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ª <code>m x n</code> çš„äºŒè¿›åˆ¶çŸ©é˜µ <code>mat</code> ï¼Œè¯·ä½ è¿”å›æœ‰å¤šå°‘ä¸ª <strong>å­çŸ©å½¢</strong> çš„å…ƒç´ å…¨éƒ¨éƒ½æ˜¯ 1 ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/ones1-grid-20230626232249114.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šmat <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">13</span>
è§£é‡Šï¼š
æœ‰ <span class="token number">6</span> ä¸ª 1x1 çš„çŸ©å½¢ã€‚
æœ‰ <span class="token number">2</span> ä¸ª 1x2 çš„çŸ©å½¢ã€‚
æœ‰ <span class="token number">3</span> ä¸ª 2x1 çš„çŸ©å½¢ã€‚
æœ‰ <span class="token number">1</span> ä¸ª 2x2 çš„çŸ©å½¢ã€‚
æœ‰ <span class="token number">1</span> ä¸ª 3x1 çš„çŸ©å½¢ã€‚
çŸ©å½¢æ•°ç›®æ€»å…± <span class="token operator">=</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">13</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/ones2-grid.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šmat <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">24</span>
è§£é‡Šï¼š
æœ‰ <span class="token number">8</span> ä¸ª 1x1 çš„å­çŸ©å½¢ã€‚
æœ‰ <span class="token number">5</span> ä¸ª 1x2 çš„å­çŸ©å½¢ã€‚
æœ‰ <span class="token number">2</span> ä¸ª 1x3 çš„å­çŸ©å½¢ã€‚
æœ‰ <span class="token number">4</span> ä¸ª 2x1 çš„å­çŸ©å½¢ã€‚
æœ‰ <span class="token number">2</span> ä¸ª 2x2 çš„å­çŸ©å½¢ã€‚
æœ‰ <span class="token number">2</span> ä¸ª 3x1 çš„å­çŸ©å½¢ã€‚
æœ‰ <span class="token number">1</span> ä¸ª 3x2 çš„å­çŸ©å½¢ã€‚
çŸ©å½¢æ•°ç›®æ€»å…± <span class="token operator">=</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">24</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= m, n &lt;= 150</code></li><li><code>mat[i][j]</code> ä»…åŒ…å« <code>0</code> æˆ– <code>1</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ç±»ä¼¼æœ€å¤§çŸ©é˜µï¼Œä½¿ç”¨å‰ç¼€å’Œç»´æŠ¤å½“å‰åˆ—è¿ç»­<code>1</code>çš„æ¬¡æ•°ï¼Œä½¿ç”¨å•è°ƒæ ˆç»´æŠ¤é€’å¢æ ˆï¼Œä½¿ç”¨åŠ¨æ€è§„åˆ’è®°å½•å½“å‰è¡Œå½“å‰åˆ—çš„ç»“æœï¼Œç„¶åå¯¹ç»“æœè¿›è¡Œç´¯è®¡ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">numSubmat</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> mat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> prefix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array <span class="token operator">:</span> mat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                prefix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> prefix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token keyword">while</span> <span class="token punctuation">(</span>prefix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> prefix<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment">// ä»¥[peek]åšä¸ºå³ä¸‹è§’çš„çŸ©é˜µæ•°ï¼Œdpæ•°ç»„å·²ä¿å­˜ï¼Œè€Œä¸”è¿™äº›çŸ©é˜µéƒ½å¯ä»¥å‘å³æ‹“å±•ä¸ºä»¥prefix[i]ä¸ºå³ç«¯ç‚¹çš„æ–°çŸ©é˜µï¼Œæ‰€ä»¥éœ€è¦åŠ èµ·æ¥ã€‚</span>
                <span class="token comment">// å†è®¡ç®—ä»¥[prefix[i]]ä¸ºå³ä¸‹è§’çš„çŸ©é˜µæ•°ï¼Œå³å®½åº¦ä¹˜ä»¥é«˜åº¦ï¼Œå› ä¸ºå¿…é¡»åŒ…å«å³ä¸‹è§’ï¼Œæ‰€ä»¥å®½æœ‰å®½åº¦ä¸­é€‰æ‹©ï¼Œé«˜æœ‰é«˜åº¦ç§é€‰æ‹©ï¼Œå°†ä»–ä»¬ç›¸ä¹˜</span>
                dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> dp<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> prefix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">-</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> num <span class="token operator">:</span> dp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res <span class="token operator">+=</span> num<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_2334-å…ƒç´ å€¼å¤§äºå˜åŒ–é˜ˆå€¼çš„å­æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#_2334-å…ƒç´ å€¼å¤§äºå˜åŒ–é˜ˆå€¼çš„å­æ•°ç»„" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/subarray-with-elements-greater-than-varying-threshold/" target="_blank" rel="noopener noreferrer">2334. å…ƒç´ å€¼å¤§äºå˜åŒ–é˜ˆå€¼çš„å­æ•°ç»„<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•° <code>threshold</code> ã€‚</p><p>æ‰¾åˆ°é•¿åº¦ä¸º <code>k</code> çš„ <code>nums</code> å­æ•°ç»„ï¼Œæ»¡è¶³æ•°ç»„ä¸­ <strong>æ¯ä¸ª</strong> å…ƒç´ éƒ½ <strong>å¤§äº</strong> <code>threshold / k</code> ã€‚</p><p>è¯·ä½ è¿”å›æ»¡è¶³è¦æ±‚çš„ <strong>ä»»æ„</strong> å­æ•°ç»„çš„ <strong>å¤§å°</strong> ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„å­æ•°ç»„ï¼Œè¿”å› <code>-1</code> ã€‚</p><p><strong>å­æ•°ç»„</strong> æ˜¯æ•°ç»„ä¸­ä¸€æ®µè¿ç»­éç©ºçš„å…ƒç´ åºåˆ—ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> threshold <span class="token operator">=</span> <span class="token number">6</span>
è¾“å‡ºï¼š<span class="token number">3</span>
è§£é‡Šï¼šå­æ•°ç»„ <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> å¤§å°ä¸º <span class="token number">3</span> ï¼Œæ¯ä¸ªå…ƒç´ éƒ½å¤§äº <span class="token number">6</span> <span class="token operator">/</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">2</span> ã€‚
æ³¨æ„è¿™æ˜¯å”¯ä¸€åˆæ³•çš„å­æ•°ç»„ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> threshold <span class="token operator">=</span> <span class="token number">7</span>
è¾“å‡ºï¼š<span class="token number">1</span>
è§£é‡Šï¼šå­æ•°ç»„ <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> å¤§å°ä¸º <span class="token number">1</span> ï¼Œä¸” <span class="token number">8</span> <span class="token operator">&gt;</span> <span class="token number">7</span> <span class="token operator">/</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">7</span> ã€‚æ‰€ä»¥è¿”å› <span class="token number">1</span> ã€‚
æ³¨æ„å­æ•°ç»„ <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span> å¤§å°ä¸º <span class="token number">2</span> ï¼Œæ¯ä¸ªå…ƒç´ éƒ½å¤§äº <span class="token number">7</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">3.5</span> ã€‚
ç±»ä¼¼çš„ï¼Œå­æ•°ç»„ <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> ï¼Œ<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span> ï¼Œ<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span> éƒ½æ˜¯ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ã€‚
æ‰€ä»¥è¿”å› <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> å’Œ <span class="token number">5</span> éƒ½å¯ä»¥ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 10^5</code></li><li><code>1 &lt;= nums[i], threshold &lt;= 10^9</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ç±»ä¼¼84ï¼Œç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å¢æ ˆï¼Œé‡åˆ°æ¯”æ ˆé¡¶å°çš„å…ƒç´ æ—¶ï¼Œåˆ™ä¾æ¬¡åˆ¤æ–­æœ€å¤§çŸ©é˜µèƒ½å¦æ»¡è¶³é¢˜ç›®thresholdæ¡ä»¶ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">validSubarraySize</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> threshold<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> nums<span class="token punctuation">.</span>length <span class="token operator">||</span> nums<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> high <span class="token operator">=</span> nums<span class="token punctuation">[</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> width <span class="token operator">=</span> i <span class="token operator">-</span> stack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token keyword">long</span> multi <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span> high <span class="token operator">*</span> width<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>multi <span class="token operator">&gt;</span> threshold<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> width<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_2617-ç½‘æ ¼å›¾ä¸­æœ€å°‘è®¿é—®çš„æ ¼å­æ•°" tabindex="-1"><a class="header-anchor" href="#_2617-ç½‘æ ¼å›¾ä¸­æœ€å°‘è®¿é—®çš„æ ¼å­æ•°" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/minimum-number-of-visited-cells-in-a-grid/description/" target="_blank" rel="noopener noreferrer">2617. ç½‘æ ¼å›¾ä¸­æœ€å°‘è®¿é—®çš„æ ¼å­æ•°<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹çš„ <code>m x n</code> æ•´æ•°çŸ©é˜µ <code>grid</code> ã€‚ä½ ä¸€å¼€å§‹çš„ä½ç½®åœ¨ <strong>å·¦ä¸Šè§’</strong> æ ¼å­ <code>(0, 0)</code> ã€‚</p><p>å½“ä½ åœ¨æ ¼å­ <code>(i, j)</code> çš„æ—¶å€™ï¼Œä½ å¯ä»¥ç§»åŠ¨åˆ°ä»¥ä¸‹æ ¼å­ä¹‹ä¸€ï¼š</p><ul><li>æ»¡è¶³ <code>j &lt; k &lt;= grid[i][j] + j</code> çš„æ ¼å­ <code>(i, k)</code> ï¼ˆå‘å³ç§»åŠ¨ï¼‰ï¼Œæˆ–è€…</li><li>æ»¡è¶³ <code>i &lt; k &lt;= grid[i][j] + i</code> çš„æ ¼å­ <code>(k, j)</code> ï¼ˆå‘ä¸‹ç§»åŠ¨ï¼‰ã€‚</li></ul><p>è¯·ä½ è¿”å›åˆ°è¾¾ <strong>å³ä¸‹è§’</strong> æ ¼å­ <code>(m - 1, n - 1)</code> éœ€è¦ç»è¿‡çš„æœ€å°‘ç§»åŠ¨æ ¼å­æ•°ï¼Œå¦‚æœæ— æ³•åˆ°è¾¾å³ä¸‹è§’æ ¼å­ï¼Œè¯·ä½ è¿”å› <code>-1</code> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/ex1-20230409234355447.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šgrid <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">4</span>
è§£é‡Šï¼šä¸Šå›¾å±•ç¤ºäº†åˆ°è¾¾å³ä¸‹è§’æ ¼å­ç»è¿‡çš„ <span class="token number">4</span> ä¸ªæ ¼å­ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/ex2-20230409234401713.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šgrid <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">3</span>
è§£é‡Šï¼šä¸Šå›¾å±•ç¤ºäº†åˆ°è¾¾å³ä¸‹è§’æ ¼å­ç»è¿‡çš„ <span class="token number">3</span> ä¸ªæ ¼å­ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure><img src="https://raw.githubusercontent.com/nocetfy/image/main/img/ex3.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šgrid <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token operator">-</span><span class="token number">1</span>
è§£é‡Šï¼šæ— æ³•åˆ°è¾¾å³ä¸‹è§’æ ¼å­ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>m == grid.length</code></li><li><code>n == grid[i].length</code></li><li><code>1 &lt;= m, n &lt;= 10^5</code></li><li><code>1 &lt;= m * n &lt;= 10^5</code></li><li><code>0 &lt;= grid[i][j] &lt; m * n</code></li><li><code>grid[m - 1][n - 1] == 0</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ä½¿ç”¨å•è°ƒæ ˆä¼˜åŒ–dpï¼Œæ¯ä¸€åˆ—ä½¿ç”¨å•è°ƒæ ˆæŸ¥æ‰¾æ ˆé¡¶ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">minimumVisitedCells</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> grid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> m <span class="token operator">=</span> grid<span class="token punctuation">.</span>length<span class="token punctuation">,</span> n <span class="token operator">=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span> mn <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span> colSt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">setAll</span><span class="token punctuation">(</span>colSt<span class="token punctuation">,</span> e <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> stack2 <span class="token operator">=</span> colSt<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                mn <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span> g <span class="token operator">=</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> m <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">==</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    mn <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>g <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token function">search</span><span class="token punctuation">(</span>stack<span class="token punctuation">,</span> j <span class="token operator">+</span> g<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">&lt;</span> stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        mn <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>mn<span class="token punctuation">,</span> stack<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    k <span class="token operator">=</span> <span class="token function">search</span><span class="token punctuation">(</span>stack2<span class="token punctuation">,</span> i <span class="token operator">+</span> g<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">&lt;</span> stack2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        mn <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>mn<span class="token punctuation">,</span> stack2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>mn <span class="token operator">==</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">continue</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token operator">++</span>mn<span class="token punctuation">;</span>
                <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> mn <span class="token operator">&lt;=</span> stack<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    stack<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                stack<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>mn<span class="token punctuation">,</span> j<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>stack2<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> mn <span class="token operator">&lt;=</span> stack2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>stack2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    stack2<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>stack2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                stack2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>mn<span class="token punctuation">,</span> i<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> mn <span class="token operator">&lt;</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span> <span class="token operator">?</span> mn <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> st<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> right <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>st<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                left <span class="token operator">=</span> mid<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                right <span class="token operator">=</span> mid<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> right<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="å•è°ƒã€ŒåŒç«¯ã€é˜Ÿåˆ—" tabindex="-1"><a class="header-anchor" href="#å•è°ƒã€ŒåŒç«¯ã€é˜Ÿåˆ—" aria-hidden="true">#</a> å•è°ƒã€ŒåŒç«¯ã€é˜Ÿåˆ—</h2><h3 id="å•è°ƒé˜Ÿåˆ—çš„è§£é‡Š" tabindex="-1"><a class="header-anchor" href="#å•è°ƒé˜Ÿåˆ—çš„è§£é‡Š" aria-hidden="true">#</a> å•è°ƒé˜Ÿåˆ—çš„è§£é‡Š</h3><blockquote><p>â€‹ å•è°ƒé˜Ÿåˆ—çœŸæ˜¯ä¸€ç§è®©äººæ„Ÿåˆ°äº”å‘³æ‚é™ˆçš„æ•°æ®ç»“æ„ï¼Œå®ƒçš„ç»´æŠ¤è¿‡ç¨‹æ›´æ˜¯å¦‚æ­¤.....å°±æ‹¿æ­¤é¢˜æ¥è¯´ï¼Œé˜Ÿå¤´æœ€å¤§ï¼Œå¾€é˜Ÿå°¾æ–¹å‘å•è°ƒ......æœ‰æœºä¼šç«™åœ¨é˜Ÿå¤´çš„è€å¤§æ°¸è¿œå¿ƒç‹ æ‰‹è¾£ï¼Œå½“å®ƒä»é˜Ÿå°¾æ€è¿›å»çš„æ—¶å€™ï¼Œå¦‚æœå®ƒå‘ç°è¿™é‡Œé¢æ²¡ä¸€ä¸ªå¤Ÿè‡ªå·±æ‰“çš„ï¼Œå®ƒä¼šæ¯«æ— äººæ€§åœ°å± åŸï¼ŒæŠŠåŸå…ˆé˜Ÿé‡Œçš„äººå¤´å…¨éƒ¨ä¸¢å‡ºå»ï¼Œè½¬èº«å»ºç«‹èµ·è‡ªå·±çš„æ”¿æƒï¼Œé‡å¿ƒå‹ƒå‹ƒåœ°å‡†å¤‡å¼€åˆ›ä¸€ä¸ªæ–°çš„ç‹æœ.....è¿™æ—¶å€™ï¼Œå®ƒçš„äººæ ¼ç«Ÿå‘ç”Ÿäº†ä¸€ç™¾å…«ååº¦å¤§åè½¬ï¼Œå®ƒå˜æˆäº†ä¸€ä½èƒ¸æ€€å®½å¹¿çš„æ…ˆçˆ¶ï¼å®ƒçƒ­æƒ…åœ°è¯·é‚£äº›æ–°æ¥çš„â€œå°ä¸ªå­â€ä»¬å…¥ä½è‡ªå·±çš„ç‹å›½......ç„¶è€Œï¼Œè¿™äº›å°ä¸ªå­ä¼¼ä¹å¤©æ€§éƒ½æ˜¯ä¸€æ ·çš„â€”â€”å«‰å¦’å¿ƒå¼ºï¼Œå€˜è‹¥è§åˆ°æ¯”è‡ªå·±è¿˜å°çš„å±…ç„¶æ›´æ—©å…¥ä½ç‹å›½ï¼Œå®ƒä»¬ä¼šå¿ƒç‹ æ‰‹è¾£åœ°æ‰¾ä¸€ä¸ªå¤œæ™šæŠŠå®ƒä»¬é€šé€šå¹²æ‰ï¼Œå¥½è®©è‡ªå·±äº«å—æ›´å¤§çš„â€œè›‹ç³•â€ï¼›å½“ç„¶ï¼Œé‡åˆ°æ¯”è‡ªå·±å¼ºå¤§çš„ï¼Œå®ƒä»¬ä¹Ÿæ²¡è¾™ï¼Œä¹–ä¹–å¤¹èµ·å°¾å·´åšäººã€‚åƒè¿™æ ·çš„æš—æ€äº‹ä»¶æ¯å¤©éƒ½åœ¨ä¸Šæ¼”ï¼Œè™½ç„¶ç‹å›½é‡Œæ—¥ç›Šç¬¼ç½©ä¸Šç™½è‰²ææ€–ï¼Œä½†æ˜¯å¥½åœ¨æ²¡æœ‰åæ¥è€…å¼ºå¤§åˆ°è¶³ä»¥å¹²ç¿»å›½ç‹ï¼Œæ±Ÿå±±è¿˜ç®—èƒ½ç¨³ä½ã€‚ç›´åˆ°æœ‰ä¸€å¤©ï¼Œé—¯è¿›æ¥äº†ä¸€ä½çœŸæ­£å‰å®³çš„è§’è‰²ï¼Œå°±åƒå½“å¹´æ‰“æ±Ÿå±±çš„å›½ç‹ä¸€æ ·ï¼Œæ‰‹æ®µç‹ è¾£ï¼Œé‡å¿ƒè†¨èƒ€ï¼Œäºæ˜¯åˆæ˜¯å¤§å± åŸ......å†å²æ€»æ˜¯è½®å›çš„ã€‚</p></blockquote><blockquote><p>å•è°ƒé˜Ÿåˆ—ï¼šå¦‚æœä½ 35å²æ˜¯ä¸ªp6ï¼Œå‘ç°ç»„é‡Œç¤¾æ‹›äº†ä¸ª28å²çš„p7ï¼Œé‚£ä½ å°±æ°¸æ— å‡ºå¤´ä¹‹æ—¥ï¼Œå¯ä»¥æ»šç²—äº†ã€‚</p></blockquote><blockquote><p><strong>Dequeä½œä¸ºStackä½¿ç”¨æ—¶ï¼Œå¦‚æœè¦ä½¿ç”¨å…¶åŒç«¯é˜Ÿåˆ—ç‰¹æ€§ï¼Œå³æƒ³åˆ é™¤æ ˆé¦–ï¼Œéœ€è¦ä½¿ç”¨pollLast()ï¼Œå› ä¸ºæ ˆé¡¶å…ƒç´ ä¿å­˜åœ¨0çš„ä½ç½®ï¼Œå³fIrst</strong></p></blockquote><h3 id="deque-apiè§£é‡Š" tabindex="-1"><a class="header-anchor" href="#deque-apiè§£é‡Š" aria-hidden="true">#</a> Deque Apiè§£é‡Š</h3><h4 id="deque-åŒç«¯é˜Ÿåˆ—" tabindex="-1"><a class="header-anchor" href="#deque-åŒç«¯é˜Ÿåˆ—" aria-hidden="true">#</a> Deque åŒç«¯é˜Ÿåˆ—</h4><table><thead><tr><th style="text-align:center;">æ–¹æ³•</th><th style="text-align:center;">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center;">offerFirst</td><td style="text-align:center;">é˜Ÿå¤´æ·»åŠ å…ƒç´ </td></tr><tr><td style="text-align:center;">peekFirst</td><td style="text-align:center;">è·å–é˜Ÿå¤´å…ƒç´ </td></tr><tr><td style="text-align:center;">pollFirst</td><td style="text-align:center;">é˜Ÿå¤´å…ƒç´ å‡ºé˜Ÿ</td></tr><tr><td style="text-align:center;">offerLast</td><td style="text-align:center;">é˜Ÿå°¾æ·»åŠ å…ƒç´ </td></tr><tr><td style="text-align:center;">peekLast</td><td style="text-align:center;">è·å–é˜Ÿå°¾å…ƒç´ </td></tr><tr><td style="text-align:center;">pollLast</td><td style="text-align:center;">é˜Ÿå°¾å…ƒç´ å‡ºé˜Ÿ</td></tr></tbody></table><h4 id="queue-é˜Ÿåˆ—" tabindex="-1"><a class="header-anchor" href="#queue-é˜Ÿåˆ—" aria-hidden="true">#</a> Queue é˜Ÿåˆ—</h4><table><thead><tr><th style="text-align:center;">æ–¹æ³•</th><th style="text-align:center;">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center;">offer</td><td style="text-align:center;">é˜Ÿå°¾å…¥é˜Ÿ</td></tr><tr><td style="text-align:center;">peek</td><td style="text-align:center;">è·å–é˜Ÿå¤´å…ƒç´ </td></tr><tr><td style="text-align:center;">poll</td><td style="text-align:center;">é˜Ÿå¤´å‡ºé˜Ÿ</td></tr></tbody></table><h4 id="stack-æ ˆ" tabindex="-1"><a class="header-anchor" href="#stack-æ ˆ" aria-hidden="true">#</a> Stack æ ˆ</h4><p>å®é™…ä¸Šå…¥æ ˆæ–¹æ³•ä½¿ç”¨çš„æ˜¯<code>addFirst</code>ï¼Œå³å°†æ–°å…ƒç´ æ·»åŠ åˆ°é˜Ÿåˆ—å¤´ã€‚ç›¸åº”çš„å‡ºæ ˆæ“ä½œå®é™…ä¸Šä½¿ç”¨çš„æ˜¯<code>removeFirst</code>ã€‚</p><table><thead><tr><th style="text-align:center;">æ–¹æ³•</th><th style="text-align:center;">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center;">push</td><td style="text-align:center;">å…¥æ ˆ(å®é™…ä¸Šæ˜¯æ·»åŠ åˆ°é˜Ÿåˆ—å¤´)</td></tr><tr><td style="text-align:center;">peek</td><td style="text-align:center;">è·å–æ ˆé¡¶å…ƒç´ (å³è·å–é˜Ÿåˆ—å¤´å…ƒç´ )</td></tr><tr><td style="text-align:center;">pop</td><td style="text-align:center;">å‡ºæ ˆ(å³ç§»é™¤é˜Ÿåˆ—å¤´å…ƒç´ )</td></tr></tbody></table><hr><h3 id="é¢˜ç›®" tabindex="-1"><a class="header-anchor" href="#é¢˜ç›®" aria-hidden="true">#</a> é¢˜ç›®</h3><h4 id="å‰‘æŒ‡-offer-59-ii-é˜Ÿåˆ—çš„æœ€å¤§å€¼" tabindex="-1"><a class="header-anchor" href="#å‰‘æŒ‡-offer-59-ii-é˜Ÿåˆ—çš„æœ€å¤§å€¼" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/dui-lie-de-zui-da-zhi-lcof/" target="_blank" rel="noopener noreferrer">å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>è¯·å®šä¹‰ä¸€ä¸ªé˜Ÿåˆ—å¹¶å®ç°å‡½æ•° <code>max_value</code> å¾—åˆ°é˜Ÿåˆ—é‡Œçš„æœ€å¤§å€¼ï¼Œè¦æ±‚å‡½æ•° <code>max_value</code>ã€<code>push_back</code> å’Œ<code>pop_front</code> çš„<strong>å‡æ‘Š</strong>æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O (1)ã€‚</p><p>è‹¥é˜Ÿåˆ—ä¸ºç©ºï¼Œ<code>pop_front</code> å’Œ <code>max_value</code> éœ€è¦è¿”å› -1</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">è¾“å…¥</span><span class="token operator">:</span> 
<span class="token punctuation">[</span><span class="token string">&quot;MaxQueue&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;push_back&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;push_back&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;max_value&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pop_front&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;max_value&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token literal-property property">è¾“å‡º</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">è¾“å…¥</span><span class="token operator">:</span> 
<span class="token punctuation">[</span><span class="token string">&quot;MaxQueue&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;pop_front&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;max_value&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token literal-property property">è¾“å‡º</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ å½“å‘é˜Ÿåˆ—æ·»åŠ å…ƒç´ æ—¶ï¼Œç›¸å½“äºå¢åŠ çª—å£çš„å³è¾¹ç•Œï¼Œåˆ é™¤å…ƒç´ æ—¶ï¼Œç›¸å½“äºå‡å°‘çª—å£çš„å³è¾¹ç•Œã€‚æ‰€ä»¥ä½¿ç”¨ä¸€ä¸ªå•è°ƒé€’å‡é˜Ÿåˆ—æ¥è¾…åŠ©ä¿å­˜ï¼Œæ·»åŠ å…ƒç´ æ—¶ï¼Œåˆ é™¤é˜Ÿå°¾çš„å°å…ƒç´ ï¼Œåˆ é™¤å…ƒç´ æ—¶ï¼Œå¦‚æœç­‰äºé˜Ÿå¤´ï¼Œåˆ™å°†é˜Ÿå¤´å‡ºåˆ—ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">MaxQueue</span> <span class="token punctuation">{</span>
    <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> deque <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">max_value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> deque<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> deque<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        queue<span class="token punctuation">.</span><span class="token function">offer</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>deque<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> deque<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            deque<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        deque<span class="token punctuation">.</span><span class="token function">offerLast</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> poll <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>deque<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> poll<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            deque<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> poll<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_239-æ»‘åŠ¨çª—å£æœ€å¤§å€¼" tabindex="-1"><a class="header-anchor" href="#_239-æ»‘åŠ¨çª—å£æœ€å¤§å€¼" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/sliding-window-maximum/" target="_blank" rel="noopener noreferrer">239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code>ï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º <code>k</code> çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„ <code>k</code> ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚</p><p>è¿”å›æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">3</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
è§£é‡Šï¼š
æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>               <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token punctuation">[</span><span class="token number">1</span>  <span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span><span class="token number">3</span>  <span class="token number">5</span>  <span class="token number">3</span>  <span class="token number">6</span>  <span class="token number">7</span>       <span class="token number">3</span>
 <span class="token number">1</span> <span class="token punctuation">[</span><span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span>  <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token number">5</span>  <span class="token number">3</span>  <span class="token number">6</span>  <span class="token number">7</span>       <span class="token number">3</span>
 <span class="token number">1</span>  <span class="token number">3</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span>  <span class="token operator">-</span><span class="token number">3</span>  <span class="token number">5</span><span class="token punctuation">]</span> <span class="token number">3</span>  <span class="token number">6</span>  <span class="token number">7</span>       <span class="token number">5</span>
 <span class="token number">1</span>  <span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span>  <span class="token number">5</span>  <span class="token number">3</span><span class="token punctuation">]</span> <span class="token number">6</span>  <span class="token number">7</span>       <span class="token number">5</span>
 <span class="token number">1</span>  <span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span>  <span class="token operator">-</span><span class="token number">3</span> <span class="token punctuation">[</span><span class="token number">5</span>  <span class="token number">3</span>  <span class="token number">6</span><span class="token punctuation">]</span> <span class="token number">7</span>       <span class="token number">6</span>
 <span class="token number">1</span>  <span class="token number">3</span>  <span class="token operator">-</span><span class="token number">1</span>  <span class="token operator">-</span><span class="token number">3</span>  <span class="token number">5</span> <span class="token punctuation">[</span><span class="token number">3</span>  <span class="token number">6</span>  <span class="token number">7</span><span class="token punctuation">]</span>      <span class="token number">7</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">1</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">1</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 4ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 5ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span>
è¾“å‡ºï¼š<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ä½¿ç”¨å•è°ƒé€’å‡é˜Ÿåˆ—ä¿å­˜æœ€å¤§å€¼çš„ä¸‹æ ‡ï¼Œå½“æ–°å…ƒç´ å¤§äºé˜Ÿå°¾æ—¶ï¼Œç§»é™¤é˜Ÿå°¾å…ƒç´ ï¼Œæœ€åå°†æ–°å…ƒç´ å…¥é˜Ÿï¼Œå¦‚æœå…¥é˜Ÿåï¼Œé˜Ÿé¦–å…ƒç´ ä¸åœ¨åŒºé—´èŒƒå›´å†…ï¼Œåˆ™éœ€è¦å°†é˜Ÿé¦–ç§»å‡º(<strong>æ³¨æ„éœ€è¦ä½¿ç”¨é˜Ÿé¦–çš„ä¸‹æ ‡è¿›è¡Œåˆ¤æ–­ï¼Œä¸èƒ½ä½¿ç”¨é˜Ÿåˆ—çš„é•¿åº¦ï¼Œå› ä¸ºå¯èƒ½å› ä¸ºç§»é™¤çš„åŸå› ï¼Œé˜Ÿåˆ—çš„é•¿åº¦å¹¶ä¸æ»¡</strong>)ã€‚<code>i + 1 - k</code>å³æ˜¯æ»‘åŠ¨çª—å£çš„å·¦è¾¹ç•Œã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">maxSlidingWindow</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">-</span> k<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> deque <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>deque<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> nums<span class="token punctuation">[</span>deque<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                deque<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            deque<span class="token punctuation">.</span><span class="token function">offerLast</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>deque<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">-</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                deque<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">-</span> k <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">-</span> k<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>deque<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_862-å’Œè‡³å°‘ä¸º-k-çš„æœ€çŸ­å­æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#_862-å’Œè‡³å°‘ä¸º-k-çš„æœ€çŸ­å­æ•°ç»„" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/shortest-subarray-with-sum-at-least-k/description/" target="_blank" rel="noopener noreferrer">862. å’Œè‡³å°‘ä¸º K çš„æœ€çŸ­å­æ•°ç»„<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•° <code>k</code> ï¼Œæ‰¾å‡º <code>nums</code> ä¸­å’Œè‡³å°‘ä¸º <code>k</code> çš„ <strong>æœ€çŸ­éç©ºå­æ•°ç»„</strong> ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„çš„é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„ <strong>å­æ•°ç»„</strong> ï¼Œè¿”å› <code>-1</code> ã€‚</p><p><strong>å­æ•°ç»„</strong> æ˜¯æ•°ç»„ä¸­ <strong>è¿ç»­</strong> çš„ä¸€éƒ¨åˆ†ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">1</span>
è¾“å‡ºï¼š<span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">4</span>
è¾“å‡ºï¼š<span class="token operator">-</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">3</span>
è¾“å‡ºï¼š<span class="token number">3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= nums.length &lt;= 10^5</code></li><li><code>-10^5 &lt;= nums[i] &lt;= 10^5</code></li><li><code>1 &lt;= k &lt;= 10^9</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ å­æ•°ç»„çš„å’Œå¯ä»¥è½¬åŒ–ä¸ºå‰ç¼€å’Œçš„å·®ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ä¸€ä¸ªå•è°ƒé€’å¢é˜Ÿåˆ—ä¿å­˜æœ€å°çš„å‰ç¼€å’Œä½¿å¾—å·®å€¼èƒ½å°½å¯èƒ½æ»¡è¶³<code>k</code>ï¼Œæšä¸¾æ‰€æœ‰å‰ç¼€å’Œï¼Œä½¿å¾—å·®å€¼æ»¡è¶³<code>k</code>ï¼Œå¦‚æœæ»¡è¶³åˆ™è´ªå¿ƒç§»é™¤é˜Ÿåˆ—å¤´ï¼Œåˆ¤æ–­ä½¿ç”¨é˜Ÿåˆ—ç¬¬äºŒå°çš„å‰ç¼€å’Œèƒ½å¦æ»¡è¶³æ¡ä»¶(å¦‚æœé˜Ÿåˆ—å¤´å½“å‰å¯ä»¥æ»¡è¶³ï¼Œä¹‹åçš„éå†ä¹Ÿä¸ä¼šå†å–äº†ï¼Œå› ä¸ºé•¿åº¦å½“å‰æ›´çŸ­)ã€‚ç»´æŠ¤é˜Ÿåˆ—æ—¶ï¼Œæ³¨æ„ç­‰å·ï¼Œå³å€¼ç›¸ç­‰æ—¶ï¼Œä¼˜å…ˆå–å³è¾¹çš„å‰ç¼€å’Œä½¿å¾—é•¿åº¦æ›´å°ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">shortestSubarray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">,</span> res <span class="token operator">=</span> length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span><span class="token punctuation">[</span><span class="token punctuation">]</span> prefix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">long</span><span class="token punctuation">[</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            prefix<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> prefix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> deque <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">long</span> curPrefix <span class="token operator">=</span> prefix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>deque<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> curPrefix <span class="token operator">-</span> prefix<span class="token punctuation">[</span>deque<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> i <span class="token operator">-</span> deque<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>deque<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> prefix<span class="token punctuation">[</span>deque<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> curPrefix<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                deque<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            deque<span class="token punctuation">.</span><span class="token function">offerLast</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res <span class="token operator">&gt;</span> length <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_1438-ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#_1438-ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„" aria-hidden="true">#</a> <a href="https://leetcode-cn.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/" target="_blank" rel="noopener noreferrer">1438. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œå’Œä¸€ä¸ªè¡¨ç¤ºé™åˆ¶çš„æ•´æ•° <code>limit</code>ï¼Œè¯·ä½ è¿”å›æœ€é•¿è¿ç»­å­æ•°ç»„çš„é•¿åº¦ï¼Œè¯¥å­æ•°ç»„ä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„ç»å¯¹å·®å¿…é¡»å°äºæˆ–è€…ç­‰äº <code>limit</code> ã€‚</p><p>å¦‚æœä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ï¼Œåˆ™è¿”å› <code>0</code> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> limit <span class="token operator">=</span> <span class="token number">4</span>
è¾“å‡ºï¼š<span class="token number">2</span> 
è§£é‡Šï¼šæ‰€æœ‰å­æ•°ç»„å¦‚ä¸‹ï¼š
<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> æœ€å¤§ç»å¯¹å·® <span class="token operator">|</span><span class="token number">8</span><span class="token operator">-</span><span class="token number">8</span><span class="token operator">|</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> <span class="token number">4.</span>
<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> æœ€å¤§ç»å¯¹å·® <span class="token operator">|</span><span class="token number">8</span><span class="token operator">-</span><span class="token number">2</span><span class="token operator">|</span> <span class="token operator">=</span> <span class="token number">6</span> <span class="token operator">&gt;</span> <span class="token number">4.</span> 
<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> æœ€å¤§ç»å¯¹å·® <span class="token operator">|</span><span class="token number">8</span><span class="token operator">-</span><span class="token number">2</span><span class="token operator">|</span> <span class="token operator">=</span> <span class="token number">6</span> <span class="token operator">&gt;</span> <span class="token number">4.</span>
<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span> æœ€å¤§ç»å¯¹å·® <span class="token operator">|</span><span class="token number">8</span><span class="token operator">-</span><span class="token number">2</span><span class="token operator">|</span> <span class="token operator">=</span> <span class="token number">6</span> <span class="token operator">&gt;</span> <span class="token number">4.</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> æœ€å¤§ç»å¯¹å·® <span class="token operator">|</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">2</span><span class="token operator">|</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> <span class="token number">4.</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> æœ€å¤§ç»å¯¹å·® <span class="token operator">|</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">4</span><span class="token operator">|</span> <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">&lt;=</span> <span class="token number">4.</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span> æœ€å¤§ç»å¯¹å·® <span class="token operator">|</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">7</span><span class="token operator">|</span> <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">&gt;</span> <span class="token number">4.</span>
<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> æœ€å¤§ç»å¯¹å·® <span class="token operator">|</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">4</span><span class="token operator">|</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> <span class="token number">4.</span>
<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span> æœ€å¤§ç»å¯¹å·® <span class="token operator">|</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">7</span><span class="token operator">|</span> <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">&lt;=</span> <span class="token number">4.</span>
<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> æœ€å¤§ç»å¯¹å·® <span class="token operator">|</span><span class="token number">7</span><span class="token operator">-</span><span class="token number">7</span><span class="token operator">|</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">&lt;=</span> <span class="token number">4.</span> 
å› æ­¤ï¼Œæ»¡è¶³é¢˜æ„çš„æœ€é•¿å­æ•°ç»„çš„é•¿åº¦ä¸º <span class="token number">2</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> limit <span class="token operator">=</span> <span class="token number">5</span>
è¾“å‡ºï¼š<span class="token number">4</span> 
è§£é‡Šï¼šæ»¡è¶³é¢˜æ„çš„æœ€é•¿å­æ•°ç»„æ˜¯ <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>ï¼Œå…¶æœ€å¤§ç»å¯¹å·® <span class="token operator">|</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">7</span><span class="token operator">|</span> <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">&lt;=</span> <span class="token number">5</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> limit <span class="token operator">=</span> <span class="token number">0</span>
è¾“å‡ºï¼š<span class="token number">3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ æ˜¾ç„¶ï¼Œä½¿ç”¨æ»‘åŠ¨çª—å£ï¼Œç»´æŠ¤å½“å‰çª—å£çš„çš„æœ€å¤§å€¼å’Œæœ€å°å€¼æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„å…³é”®ã€‚æ—¢ç„¶æ˜¯ç»´æŠ¤ï¼Œé‚£å°±è¦è€ƒè™‘ï¼Œå½“çª—å£æ‰©å¤§æ—¶ï¼Œé‚£æ¥ä¸€ä¸ªæ–°çš„å€¼æ˜¯å¾ˆå®¹æ˜“çŸ¥é“æ˜¯å¦æ˜¯æœ€å¤§å€¼æˆ–è€…æ˜¯æœ€å°å€¼ï¼Œå³ç»´æŠ¤èµ·æ¥æ˜¯ç®€å•ç›´è§‚çš„ã€‚ ä½†æ˜¯ï¼Œå½“çª—å£å‡å°æ—¶ï¼Œå‡å¦‚ä»çª—å£å‡ºå»çš„æ˜¯æœ€å¤§å€¼ï¼Œæˆ–è€…æ˜¯æœ€å°å€¼ï¼Œé‚£ä¹ˆçª—å£ç¼©å°ä»¥åçš„æœ€å°å€¼æˆ–è€…æœ€å¤§å€¼æ˜¯å•¥å‘¢ã€‚æ‰€ä»¥ç›¸å¯¹çª—å£å¢å¤§å†æ¬¡åˆ¤æ–­æœ€å€¼ä¸å®¹æ˜“æƒ³å‡ºæ¥ã€‚å®é™…ä¸Šï¼Œè¿™ä¸ªç»´æŠ¤çª—å£çš„æœ€å€¼é—®é¢˜ï¼Œæ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„é—®é¢˜ï¼Œå½’çº³å‡ºæ¥ä¸€ç§æ™®éè®¤ä¸ºæ¯”è¾ƒå¥½ç”¨çš„æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨å•è°ƒé˜Ÿåˆ—ã€‚ å› ä¸ºå•è°ƒé˜Ÿåˆ—ä¿æŒäº†é˜Ÿåˆ—ä¸­å…ƒç´ ä¹‹é—´çš„å›ºæœ‰çš„é¡ºåºï¼ŒåŒæ—¶ä¹Ÿç»´æŠ¤äº†å•è°ƒæ€§ã€‚è¿™æ ·ï¼Œå½“çª—å£å‡å°æ—¶ï¼Œæˆ‘ä»¬éå¸¸å®¹æ˜“çŸ¥é“ä¸‹ä¸€ä¸ªæœ€å€¼æ˜¯å¤šå°‘ã€‚ä½†æ˜¯ï¼Œå•è°ƒé˜Ÿåˆ—åªèƒ½ç»´æŠ¤ä¸€ç§å•è°ƒæ€§ï¼Œè€Œé¢˜ç›®åˆè¦æ±‚æˆ‘ä»¬åŒæ—¶è€ƒè™‘æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®ï¼Œæ‰€ä»¥å°±ç”¨ä¸¤ä¸ªå‘—ï¼Œåè¾¹çš„è§£å†³æ–¹æ³•ä¹Ÿå°±é¡ºå…¶è‡ªç„¶äº†ã€‚å½“æœ€å¤§å‡æœ€å°ä¸æ»¡è¶³æ¡ä»¶æ—¶ï¼Œéœ€è¦ç§»åŠ¨å·¦æŒ‡é’ˆï¼Œå·¦æŒ‡é’ˆæ‰€åœ¨å…ƒç´ ç­‰äºå“ªä¸ªæœ€å€¼å°±å°†å®ƒå‡ºé˜Ÿï¼Œä¸€ä¸ªå€¼ä¸å¯èƒ½æ—¢æ˜¯æœ€å°å€¼åˆæ˜¯æœ€å¤§å€¼ï¼Œå¹¶ä¸”ä¸æ»¡è¶³<code>limit</code>æ¡ä»¶ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">longestSubarray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> max <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> min <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>max<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">&gt;</span> max<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                max<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>min<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">&lt;</span> min<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                min<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            max<span class="token punctuation">.</span><span class="token function">offerLast</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            min<span class="token punctuation">.</span><span class="token function">offerLast</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>max<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> min<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>max<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span> max<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>min<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span> min<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                left<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ ä½¿ç”¨<code>TreeMap</code>ç»´æŠ¤æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚<code>compute</code>åœ¨æ–°<code>value</code>ä¸ºç©ºæ—¶ä¼šåˆ é™¤<code>entry</code>ã€‚å› ä¸º<code>right</code>æŒ‡é’ˆåœ¨å¾ªç¯ä¸­å·²ç»æå‰ç§»åŠ¨ï¼Œæ‰€ä»¥è®¡ç®—æ—¶ç›´æ¥ä½¿ç”¨<code>right - left</code>å³å¯ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">longestSubarray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> treeMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>right <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            treeMap<span class="token punctuation">.</span><span class="token function">compute</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>right<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> v <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">++</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>treeMap<span class="token punctuation">.</span><span class="token function">lastKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> treeMap<span class="token punctuation">.</span><span class="token function">firstKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                treeMap<span class="token punctuation">.</span><span class="token function">compute</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>left<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> v <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> <span class="token operator">--</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> right <span class="token operator">-</span> left<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ æ›´è¿›ä¸€æ­¥ï¼Œå¦‚æœä»ç„¶ä¸æ»¡è¶³<code>limit</code>æ¡ä»¶ï¼Œåç»­æ·»åŠ å…ƒç´ æ—¶ä¹Ÿä¼šè¿›è¡Œåˆ é™¤ã€‚æœ€ç»ˆå“ˆå¸Œè¡¨ä¸­ä¿å­˜çš„å¹¶ä¸æ˜¯è¾¾æˆç­”æ¡ˆçš„å…ƒç´ ï¼Œä½†æ˜¯è¾¾æˆç­”æ¡ˆçš„<code>right - left</code>çš„å·®å€¼ä¼šé€šè¿‡è¿­ä»£ä¿ç•™ä¸‹æ¥ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">longestSubarray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> treeMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>right <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            treeMap<span class="token punctuation">.</span><span class="token function">compute</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>right<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> v <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> v <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>treeMap<span class="token punctuation">.</span><span class="token function">lastKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> treeMap<span class="token punctuation">.</span><span class="token function">firstKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                treeMap<span class="token punctuation">.</span><span class="token function">compute</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>left<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> v <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> v <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> right <span class="token operator">-</span> left<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_1499-æ»¡è¶³ä¸ç­‰å¼çš„æœ€å¤§å€¼" tabindex="-1"><a class="header-anchor" href="#_1499-æ»¡è¶³ä¸ç­‰å¼çš„æœ€å¤§å€¼" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/max-value-of-equation/" target="_blank" rel="noopener noreferrer">1499. æ»¡è¶³ä¸ç­‰å¼çš„æœ€å¤§å€¼<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>points</code> å’Œä¸€ä¸ªæ•´æ•° <code>k</code> ã€‚æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½è¡¨ç¤ºäºŒç»´å¹³é¢ä¸Šçš„ç‚¹çš„åæ ‡ï¼Œå¹¶æŒ‰ç…§æ¨ªåæ ‡ x çš„å€¼ä»å°åˆ°å¤§æ’åºã€‚ä¹Ÿå°±æ˜¯è¯´ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi><mi>s</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><mo stretchy="false">[</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">points[i] = [x_i, y_i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">o</span><span class="mord mathnormal">in</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span> ï¼Œå¹¶ä¸”åœ¨ <code>1 &lt;= i &lt; j &lt;= points.length</code> çš„å‰æä¸‹ï¼Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>&lt;</mo><msub><mi>x</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">x_i &lt; x_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> æ€»æˆç«‹ã€‚</p><p>è¯·ä½ æ‰¾å‡º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>+</mo><msub><mi>y</mi><mi>j</mi></msub><mo>+</mo><mi mathvariant="normal">âˆ£</mi><msub><mi>x</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mi>x</mi><mi>j</mi></msub><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">y_i + y_j + |x_i - x_j|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span></span></span></span> çš„ <strong>æœ€å¤§å€¼</strong>ï¼Œå…¶ä¸­ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ£</mi><msub><mi>x</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mi>x</mi><mi>j</mi></msub><mi mathvariant="normal">âˆ£</mi><mo>&lt;</mo><mo>=</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">|x_i - x_j| &lt;= k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ä¸” <code>1 &lt;= i &lt; j &lt;= points.length</code>ã€‚</p><p>é¢˜ç›®æµ‹è¯•æ•°æ®ä¿è¯è‡³å°‘å­˜åœ¨ä¸€å¯¹èƒ½å¤Ÿæ»¡è¶³ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ£</mi><msub><mi>x</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mi>x</mi><mi>j</mi></msub><mi mathvariant="normal">âˆ£</mi><mo>&lt;</mo><mo>=</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">|x_i - x_j| &lt;= k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> çš„ç‚¹ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼špoints <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">1</span>
è¾“å‡ºï¼š<span class="token number">4</span>
è§£é‡Šï¼šå‰ä¸¤ä¸ªç‚¹æ»¡è¶³ <span class="token operator">|</span>xi <span class="token operator">-</span> xj<span class="token operator">|</span> <span class="token operator">&lt;=</span> <span class="token number">1</span> ï¼Œä»£å…¥æ–¹ç¨‹è®¡ç®—ï¼Œåˆ™å¾—åˆ°å€¼ <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">0</span> <span class="token operator">+</span> <span class="token operator">|</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token operator">|</span> <span class="token operator">=</span> <span class="token number">4</span> ã€‚ç¬¬ä¸‰ä¸ªå’Œç¬¬å››ä¸ªç‚¹ä¹Ÿæ»¡è¶³æ¡ä»¶ï¼Œå¾—åˆ°å€¼ <span class="token number">10</span> <span class="token operator">+</span> <span class="token operator">-</span><span class="token number">10</span> <span class="token operator">+</span> <span class="token operator">|</span><span class="token number">5</span> <span class="token operator">-</span> <span class="token number">6</span><span class="token operator">|</span> <span class="token operator">=</span> <span class="token number">1</span> ã€‚
æ²¡æœ‰å…¶ä»–æ»¡è¶³æ¡ä»¶çš„ç‚¹ï¼Œæ‰€ä»¥è¿”å› <span class="token number">4</span> å’Œ <span class="token number">1</span> ä¸­æœ€å¤§çš„é‚£ä¸ªã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼špoints <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">3</span>
è¾“å‡ºï¼š<span class="token number">3</span>
è§£é‡Šï¼šåªæœ‰å‰ä¸¤ä¸ªç‚¹æ»¡è¶³ <span class="token operator">|</span>xi <span class="token operator">-</span> xj<span class="token operator">|</span> <span class="token operator">&lt;=</span> <span class="token number">3</span> ï¼Œä»£å…¥æ–¹ç¨‹åå¾—åˆ°å€¼ <span class="token number">0</span> <span class="token operator">+</span> <span class="token number">0</span> <span class="token operator">+</span> <span class="token operator">|</span><span class="token number">0</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token operator">|</span> <span class="token operator">=</span> <span class="token number">3</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>2 &lt;= points.length &lt;= 10^5</code></li><li><code>points[i].length == 2</code></li><li><code>-10^8 &lt;= points[i][0], points[i][1] &lt;= 10^8</code></li><li><code>0 &lt;= k &lt;= 2 * 10^8</code></li><li>å¯¹äºæ‰€æœ‰çš„<code>1 &lt;= i &lt; j &lt;= points.length</code> ï¼Œ<code>points[i][0] &lt; points[j][0]</code> éƒ½æˆç«‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> æ˜¯ä¸¥æ ¼é€’å¢çš„ã€‚</li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ å› ä¸º<code>x</code>æ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥ä¸ç­‰å¼å¯ä»¥åŒ–ç®€ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>+</mo><msub><mi>y</mi><mi>j</mi></msub><mo>+</mo><msub><mi>x</mi><mi>j</mi></msub><mo>âˆ’</mo><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">y_i + y_j + x_j - x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚å³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>j</mi></msub><mo>+</mo><msub><mi>y</mi><mi>j</mi></msub><mo>+</mo><msub><mi>y</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_j + y_j + y_i - x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚å¯ä»¥æšä¸¾<code>j</code>ï¼Œç„¶ååŠ ä¸Š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">y_i - x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„æœ€å¤§å€¼ã€‚è¾¹æšä¸¾<code>j</code>ï¼Œè¾¹ä½¿ç”¨å•è°ƒé˜Ÿåˆ—æ¥ç»´æŠ¤æœ€å¤§å€¼ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">findMaxValueOfEquation</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> points<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> deque <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> point <span class="token operator">:</span> points<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> x <span class="token operator">=</span> point<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y <span class="token operator">=</span> point<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>deque<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> x <span class="token operator">-</span> deque<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                deque<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>deque<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> x <span class="token operator">+</span> y <span class="token operator">+</span> deque<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>deque<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> deque<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> y <span class="token operator">-</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                deque<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            deque<span class="token punctuation">.</span><span class="token function">offerLast</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token punctuation">.</span><span class="token function">entry</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">-</span> x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h4 id="_2398-é¢„ç®—å†…çš„æœ€å¤šæœºå™¨äººæ•°ç›®" tabindex="-1"><a class="header-anchor" href="#_2398-é¢„ç®—å†…çš„æœ€å¤šæœºå™¨äººæ•°ç›®" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/maximum-number-of-robots-within-budget/" target="_blank" rel="noopener noreferrer">2398. é¢„ç®—å†…çš„æœ€å¤šæœºå™¨äººæ•°ç›®<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ä½ æœ‰ <code>n</code> ä¸ªæœºå™¨äººï¼Œç»™ä½ ä¸¤ä¸ªä¸‹æ ‡ä» <strong>0</strong> å¼€å§‹çš„æ•´æ•°æ•°ç»„ <code>chargeTimes</code> å’Œ <code>runningCosts</code> ï¼Œä¸¤è€…é•¿åº¦éƒ½ä¸º <code>n</code> ã€‚ç¬¬ <code>i</code> ä¸ªæœºå™¨äººå……ç”µæ—¶é—´ä¸º <code>chargeTimes[i]</code> å•ä½æ—¶é—´ï¼ŒèŠ±è´¹ <code>runningCosts[i]</code> å•ä½æ—¶é—´è¿è¡Œã€‚å†ç»™ä½ ä¸€ä¸ªæ•´æ•° <code>budget</code> ã€‚</p><p>è¿è¡Œ <code>k</code> ä¸ªæœºå™¨äºº <strong>æ€»å¼€é”€</strong> æ˜¯ <code>max(chargeTimes) + k * sum(runningCosts)</code> ï¼Œå…¶ä¸­ <code>max(chargeTimes)</code> æ˜¯è¿™ <code>k</code> ä¸ªæœºå™¨äººä¸­æœ€å¤§å……ç”µæ—¶é—´ï¼Œ<code>sum(runningCosts)</code> æ˜¯è¿™ <code>k</code> ä¸ªæœºå™¨äººçš„è¿è¡Œæ—¶é—´ä¹‹å’Œã€‚</p><p>è¯·ä½ è¿”å›åœ¨ <strong>ä¸è¶…è¿‡</strong> <code>budget</code> çš„å‰æä¸‹ï¼Œä½  <strong>æœ€å¤š</strong> å¯ä»¥ <strong>è¿ç»­</strong> è¿è¡Œçš„æœºå™¨äººæ•°ç›®ä¸ºå¤šå°‘ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šchargeTimes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> runningCosts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> budget <span class="token operator">=</span> <span class="token number">25</span>
è¾“å‡ºï¼š<span class="token number">3</span>
è§£é‡Šï¼š
å¯ä»¥åœ¨ budget ä»¥å†…è¿è¡Œæ‰€æœ‰å•ä¸ªæœºå™¨äººæˆ–è€…è¿ç»­è¿è¡Œ <span class="token number">2</span> ä¸ªæœºå™¨äººã€‚
é€‰æ‹©å‰ <span class="token number">3</span> ä¸ªæœºå™¨äººï¼Œå¯ä»¥å¾—åˆ°ç­”æ¡ˆæœ€å¤§å€¼ <span class="token number">3</span> ã€‚æ€»å¼€é”€æ˜¯ <span class="token function">max</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">6</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">6</span> <span class="token operator">=</span> <span class="token number">24</span> ï¼Œå°äº <span class="token number">25</span> ã€‚
å¯ä»¥çœ‹å‡ºæ— æ³•åœ¨ budget ä»¥å†…è¿ç»­è¿è¡Œè¶…è¿‡ <span class="token number">3</span> ä¸ªæœºå™¨äººï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å› <span class="token number">3</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šchargeTimes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">]</span><span class="token punctuation">,</span> runningCosts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> budget <span class="token operator">=</span> <span class="token number">19</span>
è¾“å‡ºï¼š<span class="token number">0</span>
è§£é‡Šï¼šå³ä½¿è¿è¡Œä»»ä½•ä¸€ä¸ªå•ä¸ªæœºå™¨äººï¼Œè¿˜æ˜¯ä¼šè¶…å‡º budgetï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å› <span class="token number">0</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>chargeTimes.length == runningCosts.length == n</code></li><li><code>1 &lt;= n &lt;= 5 * 10^4</code></li><li><code>1 &lt;= chargeTimes[i], runningCosts[i] &lt;= 10^5</code></li><li><code>1 &lt;= budget &lt;= 10^15</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹ æ»‘åŠ¨çª—å£ + å•è°ƒé˜Ÿåˆ—ï¼Œä½¿ç”¨æ»‘åŠ¨çª—å£è®¡ç®—è€—è´¹ç´¯è®¡çš„å€¼ï¼Œå•è°ƒé˜Ÿåˆ—ç»´æŠ¤å……ç”µçš„æœ€å¤§å€¼ï¼Œå½“éœ€è¦ç§»é™¤å·¦ç«¯ç‚¹æ—¶ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦åŒæ—¶ç§»é™¤é˜Ÿåˆ—å¤´ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">maximumRobots</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chargeTimes<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> runningCosts<span class="token punctuation">,</span> <span class="token keyword">long</span> budget<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">long</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> right <span class="token operator">&lt;</span> chargeTimes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> right<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>queue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> chargeTimes<span class="token punctuation">[</span>queue<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> chargeTimes<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                queue<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            queue<span class="token punctuation">.</span><span class="token function">offerLast</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
            sum <span class="token operator">+=</span> runningCosts<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>queue<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> chargeTimes<span class="token punctuation">[</span>queue<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> sum <span class="token operator">&gt;</span> budget<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    queue<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                sum <span class="token operator">-=</span> runningCosts<span class="token punctuation">[</span>left<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            res <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> right <span class="token operator">-</span> left <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="åŠ¨æ€è§„åˆ’-å•è°ƒé˜Ÿåˆ—" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€è§„åˆ’-å•è°ƒé˜Ÿåˆ—" aria-hidden="true">#</a> åŠ¨æ€è§„åˆ’ + å•è°ƒé˜Ÿåˆ—</h3><h4 id="_1425-å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ" tabindex="-1"><a class="header-anchor" href="#_1425-å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/constrained-subsequence-sum/" target="_blank" rel="noopener noreferrer">1425. å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•° <code>k</code> ï¼Œè¯·ä½ è¿”å› <strong>éç©º</strong> å­åºåˆ—å…ƒç´ å’Œçš„æœ€å¤§å€¼ï¼Œå­åºåˆ—éœ€è¦æ»¡è¶³ï¼šå­åºåˆ—ä¸­æ¯ä¸¤ä¸ª <strong>ç›¸é‚»</strong> çš„æ•´æ•° <code>nums[i]</code> å’Œ <code>nums[j]</code> ï¼Œå®ƒä»¬åœ¨åŸæ•°ç»„ä¸­çš„ä¸‹æ ‡ <code>i</code> å’Œ <code>j</code> æ»¡è¶³ <code>i &lt; j</code> ä¸” <code>j - i &lt;= k</code> ã€‚</p><p>æ•°ç»„çš„å­åºåˆ—å®šä¹‰ä¸ºï¼šå°†æ•°ç»„ä¸­çš„è‹¥å¹²ä¸ªæ•°å­—åˆ é™¤ï¼ˆå¯ä»¥åˆ é™¤ 0 ä¸ªæ•°å­—ï¼‰ï¼Œå‰©ä¸‹çš„æ•°å­—æŒ‰ç…§åŸæœ¬çš„é¡ºåºæ’å¸ƒã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span>
è¾“å‡ºï¼š<span class="token number">37</span>
è§£é‡Šï¼šå­åºåˆ—ä¸º <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">1</span>
è¾“å‡ºï¼š<span class="token operator">-</span><span class="token number">1</span>
è§£é‡Šï¼šå­åºåˆ—å¿…é¡»æ˜¯éç©ºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©æœ€å¤§çš„æ•°å­—ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šnums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">2</span>
è¾“å‡ºï¼š<span class="token number">23</span>
è§£é‡Šï¼šå­åºåˆ—ä¸º <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span> ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= k &lt;= nums.length &lt;= 10^5</code></li><li><code>-10^4 &lt;= nums[i] &lt;= 10^4</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code></code></pre><div class="line-numbers" aria-hidden="true"></div></div><hr><h4 id="_2944-è´­ä¹°æ°´æœéœ€è¦çš„æœ€å°‘é‡‘å¸æ•°" tabindex="-1"><a class="header-anchor" href="#_2944-è´­ä¹°æ°´æœéœ€è¦çš„æœ€å°‘é‡‘å¸æ•°" aria-hidden="true">#</a> <a href="https://leetcode.cn/problems/minimum-number-of-coins-for-fruits/" target="_blank" rel="noopener noreferrer">2944. è´­ä¹°æ°´æœéœ€è¦çš„æœ€å°‘é‡‘å¸æ•°<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><p>ä½ åœ¨ä¸€ä¸ªæ°´æœè¶…å¸‚é‡Œï¼Œè´§æ¶ä¸Šæ‘†æ»¡äº†ç²ç…æ»¡ç›®çš„å¥‡çå¼‚æœã€‚</p><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <strong>1</strong> å¼€å§‹çš„æ•°ç»„ <code>prices</code> ï¼Œå…¶ä¸­ <code>prices[i]</code> è¡¨ç¤ºä½ è´­ä¹°ç¬¬ <code>i</code> ä¸ªæ°´æœéœ€è¦èŠ±è´¹çš„é‡‘å¸æ•°ç›®ã€‚</p><p>æ°´æœè¶…å¸‚æœ‰å¦‚ä¸‹ä¿ƒé”€æ´»åŠ¨ï¼š</p><ul><li>å¦‚æœä½ èŠ±è´¹ <code>price[i]</code> è´­ä¹°äº†æ°´æœ <code>i</code> ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥çš„ <code>i</code> ä¸ªæ°´æœä½ éƒ½å¯ä»¥å…è´¹è·å¾—ã€‚</li></ul><p><strong>æ³¨æ„</strong> ï¼Œå³ä½¿ä½  <strong>å¯ä»¥</strong> å…è´¹è·å¾—æ°´æœ <code>j</code> ï¼Œä½ ä»ç„¶å¯ä»¥èŠ±è´¹ <code>prices[j]</code> ä¸ªé‡‘å¸å»è´­ä¹°å®ƒä»¥ä¾¿èƒ½å…è´¹è·å¾—æ¥ä¸‹æ¥çš„ <code>j</code> ä¸ªæ°´æœã€‚</p><p>è¯·ä½ è¿”å›è·å¾—æ‰€æœ‰æ°´æœæ‰€éœ€è¦çš„ <strong>æœ€å°‘</strong> é‡‘å¸æ•°ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šprices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">4</span>
è§£é‡Šï¼šä½ å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹æ³•è·å¾—æ‰€æœ‰æ°´æœï¼š
<span class="token operator">-</span> èŠ± <span class="token number">3</span> ä¸ªé‡‘å¸è´­ä¹°æ°´æœ <span class="token number">1</span> ï¼Œç„¶åå…è´¹è·å¾—æ°´æœ <span class="token number">2</span> ã€‚
<span class="token operator">-</span> èŠ± <span class="token number">1</span> ä¸ªé‡‘å¸è´­ä¹°æ°´æœ <span class="token number">2</span> ï¼Œç„¶åå…è´¹è·å¾—æ°´æœ <span class="token number">3</span> ã€‚
<span class="token operator">-</span> å…è´¹è·å¾—æ°´æœ <span class="token number">3</span> ã€‚
æ³¨æ„ï¼Œè™½ç„¶ä½ å¯ä»¥å…è´¹è·å¾—æ°´æœ <span class="token number">2</span> ï¼Œä½†ä½ è¿˜æ˜¯èŠ± <span class="token number">1</span> ä¸ªé‡‘å¸å»è´­ä¹°å®ƒï¼Œå› ä¸ºè¿™æ ·çš„æ€»èŠ±è´¹æœ€å°‘ã€‚
è´­ä¹°æ‰€æœ‰æ°´æœéœ€è¦æœ€å°‘èŠ±è´¹ <span class="token number">4</span> ä¸ªé‡‘å¸ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>è¾“å…¥ï¼šprices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
è¾“å‡ºï¼š<span class="token number">2</span>
è§£é‡Šï¼šä½ å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹æ³•è·å¾—æ‰€æœ‰æ°´æœï¼š
<span class="token operator">-</span> èŠ± <span class="token number">1</span> ä¸ªé‡‘å¸è´­ä¹°æ°´æœ <span class="token number">1</span> ï¼Œç„¶åå…è´¹è·å¾—æ°´æœ <span class="token number">2</span> ã€‚
<span class="token operator">-</span> å…è´¹è·å¾—æ°´æœ <span class="token number">2</span> ã€‚
<span class="token operator">-</span> èŠ± <span class="token number">1</span> ä¸ªé‡‘å¸è´­ä¹°æ°´æœ <span class="token number">3</span> ï¼Œç„¶åå…è´¹è·å¾—æ°´æœ <span class="token number">4</span> ã€‚
<span class="token operator">-</span> å…è´¹è·å¾—æ°´æœ <span class="token number">4</span> ã€‚
è´­ä¹°æ‰€æœ‰æ°´æœéœ€è¦æœ€å°‘èŠ±è´¹ <span class="token number">2</span> ä¸ªé‡‘å¸ã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æç¤ºï¼š</strong></p><ul><li><code>1 &lt;= prices.length &lt;= 1000</code></li><li><code>1 &lt;= prices[i] &lt;= 10^5</code></li></ul><blockquote><p>æ€è·¯ï¼š</p><p>â€‹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code></code></pre><div class="line-numbers" aria-hidden="true"></div></div><hr></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/nocetfy/edit/main/docs/leetcode/stack/monotonic.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><!----><!----></div></footer><nav class="page-nav"><!----><a href="/MyNotes/leetcode/stack/heap.html" class="nav-link next" aria-label="å †"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">å †<!----></div></a></nav><!----><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/MyNotes/assets/app-59c87434.js" defer></script>
    <script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-y/instant.page/5.1.0/instantpage.min.js" type="application/javascript"></script>
  </body>
</html>
